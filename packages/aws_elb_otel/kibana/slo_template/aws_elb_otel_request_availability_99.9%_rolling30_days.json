{
  "name": "[AWS ELB OTel] Request availability 99.9% rolling 30 days",
  "description": "This SLO tracks the request availability of AWS ELB via Otel access logs, ensuring that 99.9% of HTTP requests receive non-5xx responses over a rolling period of 30 days to maintain reliable user-facing service. A \"good\" request is any request that does NOT result in a 5xx server error. Client errors (4xx) are considered \"good\" from the server availability perspective, as they indicate the server correctly rejected an invalid request.",
  "indicator": {
    "type": "sli.metric.custom",
    "params": {
      "index": "logs-*",
      "filter": "data_stream.dataset : \"aws.elbaccess.otel\" and attributes.aws.elb.status.code : * ",
      "good": {
        "metrics": [
          {
            "name": "A",
            "aggregation": "sum",
            "field": "attributes.aws.elb.status.code",
            "filter": "attributes.aws.elb.status.code< 500"
          }
        ],
        "equation": "A"
      },
      "total": {
        "metrics": [
          {
            "name": "A",
            "aggregation": "sum",
            "field": "attributes.aws.elb.status.code",
            "filter": "attributes.aws.elb.status.code : * "
          }
        ],
        "equation": "A"
      },
      "timestampField": "@timestamp"
    }
  },
  "budgetingMethod": "occurrences",
  "timeWindow": {
    "duration": "30d",
    "type": "rolling"
  },
  "objective": {
    "target": 0.99
  },
  "tags": [
    "AWS",
    "AWS ELB",
    "OTEL"
  ],
  "groupBy": [
    "cloud.resource_id"
  ],
  "artifacts": {
    "dashboards": [
      {
        "id": "aws_elb_otel-918bae2f-9268-46da-acac-7f4029ca0bfa"
      }
    ]
  }
}