# OpenTelemetry Package

Prototype package to post-process opentelemetry postgresql metrics documents from apm-server. 

Processes opentelemetry documents generated by [apm-server](https://www.elastic.co/guide/en/apm/guide/current/open-telemetry.html) using opentelemetry [collector](https://opentelemetry.io/docs/collector/) for [postgresql](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/postgresqlreceiver).

## Assumptions
* opentelemetry-collector to provide *service.name* as *postgresql_otel*. The dataset binding is based on it.

## Datastream
* datastream: metrics-postgresql_otel-default
* dataset: postgresql_otel

## Dummy data stream
This is a dummy data-stream for illustrative purpose only.

## Metrics
A single metrics data stream.
**Exported fields**

| Field | Description | Type |
|---|---|---|
| @timestamp | Event timestamp. | date |
| data_stream.dataset | Data stream dataset. | constant_keyword |
| data_stream.namespace | Data stream namespace. | constant_keyword |
| data_stream.type | Data stream type. | constant_keyword |
| ecs.version | ECS version this event conforms to. `ecs.version` is a required field and must exist in all events. When querying across multiple indices -- which may conform to slightly different ECS versions -- this field lets integrations adjust to the schema version of the events. | keyword |
