---
    description: Pipeline for Influxdb status metrics
    processors:
        - rename:
            field: prometheus.metrics
            target_field: influxdb.status
            ignore_missing: true
            ignore_failure: true
        - remove:
            field: prometheus.labels.compiler_type
            ignore_missing: true
            ignore_failure: true
        - remove:
            field: prometheus.labels.job
            ignore_missing: true
            ignore_failure: true
        - remove:
            field: prometheus.labels.id
            ignore_missing: true
            ignore_failure: true
        - remove:
            field: prometheus.labels.level
            ignore_missing: true
            ignore_failure: true
        - remove:
            field: prometheus.labels.engine
            ignore_missing: true
            ignore_failure: true
        - remove:
            field: prometheus.labels.user_agent
            ignore_failure: true
            ignore_missing: true
        - remove:
            field: prometheus.labels.handler
            ignore_missing: true
            ignore_failure: true
        - remove:
            field: prometheus.labels.task_type
            ignore_failure: true
            ignore_missing: true
        - rename:
            field: prometheus.labels.instance
            target_field: influxdb.status.instance
            ignore_missing: true
        - rename:
            field: prometheus.labels.method
            target_field: influxdb.status.method
            ignore_missing: true
        - rename:
            field: prometheus.labels.path
            target_field: influxdb.status.path
            ignore_missing: true
        - rename:
            field: prometheus.labels.status
            target_field: influxdb.status.http_status
            ignore_missing: true
        - rename:
            field: prometheus.labels.response_code
            target_field: influxdb.status.response_code
            ignore_missing: true
        - rename:
            field: influxdb.status.influxdb_buckets_total
            target_field: influxdb.status.buckets_total
            ignore_missing: true
        - rename:  
            field: influxdb.status.influxdb_dashboards_total
            target_field: influxdb.status.dashboards_total
            ignore_missing: true
        - rename:  
            field: influxdb.status.influxdb_organizations_total
            target_field: influxdb.status.organizations_total
            ignore_missing: true
        - rename:  
            field: influxdb.status.influxdb_scrapers_total
            target_field: influxdb.status.scrapers_total
            ignore_missing: true
        - rename:  
            field: influxdb.status.influxdb_tokens_total
            target_field: influxdb.status.tokens_total
            ignore_missing: true
        - rename:  
            field: influxdb.status.influxdb_uptime_seconds
            target_field: influxdb.status.uptime_seconds
            ignore_missing: true
        - rename:  
            field: influxdb.status.influxdb_users_total
            target_field: influxdb.status.users_total
            ignore_missing: true
        - rename:   
            field: prometheus.labels.org
            target_field: influxdb.status.org
            ignore_missing: true
    on_failure:
    - set:
        field: error.message
        value: "{{ _ingest.on_failure_message }}"
    