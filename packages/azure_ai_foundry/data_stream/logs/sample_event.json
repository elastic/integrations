{
    "@timestamp": "2024-07-02T06:31:31.446Z",
    "azure": {
        "ai_foundry": {
            "category": "GatewayLogs",
            "correlation_id": "99789635-18d0-480f-8182-a3a3c477a6a4",
            "deployment_version": "0.44.18652.0",
            "duration_ms": 176,
            "is_request_success": true,
            "location": "East US",
            "operation_name": "Microsoft.ApiManagement/GatewayLogs",
            "properties": {
                "api_id": "azure-ai-foundry-apim-api",
                "api_revision": "1",
                "backend_method": "POST",
                "backend_protocol": "HTTP/1.1",
                "backend_request_body": {
                    "messages": [
                        {
                            "content": "Suggest me a book to read this week?",
                            "role": "user"
                        }
                    ],
                    "model": "gpt-chat-pilot"
                },
                "backend_response_body": {
                    "choices": [
                        {
                            "finish_reason": "stop",
                            "index": 0,
                            "message": {
                                "content": "Of course! Here are a few varied suggestions, depending on what you’re in the mood for:\n\n**1. Fiction:**  \n*“The Night Circus”* by Erin Morgenstern – A magical, imaginative, and beautifully written novel with a captivating atmosphere.\n\n**2. Mystery/Thriller:**  \n*“The Thursday Murder Club”* by Richard Osman – A witty and clever mystery set in a quiet English retirement village.\n\n**3. Non-Fiction:**  \n*“Atomic Habits”* by James Clear – A practical and engaging guide to building better habits and making positive changes.\n\n**4. Science Fiction:**  \n*“Project Hail Mary”* by Andy Weir – Fast-paced, humorous, and inventive, from the author of *The Martian*.\n\nIf you tell me a bit about your interests, I can make a more personalized recommendation!",
                                "role": "assistant"
                            }
                        }
                    ],
                    "created": 1719901891,
                    "id": "chatcmpl-9gRL14hGa8nQstOJKvLjh7EyulsnT",
                    "model": "gpt-35-turbo",
                    "object": "chat.completion",
                    "usage": {
                        "input_tokens": 16,
                        "output_tokens": 176,
                        "total_tokens": 192
                    }
                },
                "backend_response_code": 200,
                "backend_time": 176,
                "backend_url": "https://obs-aifoundry-test-01.aifoundry.azure.com/aifoundry/deployments/gpt-chat-pilot/chat/completions?api-version=2024-02-15-preview",
                "cache": "none",
                "client_protocol": "HTTP/1.1",
                "client_tls_version": "1.3",
                "operation_id": "ChatCompletions_Create",
                "request_length": 536,
                "response_length": 1604
            },
            "sku": "Basic",
            "truncated": 0
        },
        "resource": {
            "id": "/subscriptions/12345cabcb4-86e8-404f-a3d2-1dc9982f45ca/resourcegroups/obs-aifoundry-apim-test/providers/microsoft.apimanagement/service/azure-aifoundry-apm"
        }
    },
    "cloud": {
        "provider": "azure"
    },
    "event": {
        "duration": 176000000,
        "outcome": "success"
    },
    "http": {
        "request": {
            "method": "POST"
        },
        "response": {
            "status_code": 200
        }
    },
    "log": {
        "level": "4"
    },
    "source": {
        "as": {
            "number": 29518,
            "organization": {
                "name": "Bredband2 AB"
            }
        },
        "geo": {
            "city_name": "Linköping",
            "continent_name": "Europe",
            "country_iso_code": "SE",
            "country_name": "Sweden",
            "location": {
                "lat": 58.4167,
                "lon": 15.6167
            },
            "region_iso_code": "SE-E",
            "region_name": "Östergötland County"
        },
        "ip": "89.160.20.156"
    },
    "url": {
        "domain": "azure-aifoundry-apm.azure-api.net",
        "original": "https://azure-aifoundry-apm.azure-api.net/deployments/gpt-chat-pilot/chat/completions?api-version=2024-02-15-preview",
        "path": "/deployments/gpt-chat-pilot/chat/completions",
        "query": "api-version=2024-02-15-preview",
        "scheme": "https"
    }
}