connectors:
    forward: {}
exporters:
    elasticsearch/componentid-0:
        endpoints:
            - https://elasticsearch:9200
inputs: []
output_permissions:
    default:
        _elastic_agent_checks:
            cluster:
                - monitor
        _elastic_agent_monitoring:
            indices: []
        uuid-for-permissions-on-related-indices:
            indices:
                - names:
                    - metrics-*-*
                  privileges:
                    - auto_configure
                    - create_doc
processors:
    transform/componentid-0:
        metric_statements:
            - context: datapoint
              statements:
                - set(attributes["data_stream.type"], "metrics")
                - set(attributes["data_stream.dataset"], "kubeletstatsreceiver")
                - set(attributes["data_stream.namespace"], "ep")
receivers:
    kubeletstats/componentid-0:
        auth_type: serviceAccount
        collect_all_network_interfaces:
            node: false
            pod: false
        collection_interval: 30s
        endpoint: https://localhost:10250
        extra_metadata_labels:
            - container.id
        initial_delay: 5s
        k8s_api_config:
            auth_type: kubeConfig
            context: my-context
        metric_groups:
            - container
            - pod
            - node
            - volume
        node: my-node
secret_references: []
service:
    pipelines:
        metrics:
            exporters:
                - elasticsearch/componentid-0
            receivers:
                - forward
        metrics/componentid-0:
            exporters:
                - forward
            processors:
                - transform/componentid-0
            receivers:
                - kubeletstats/componentid-0
