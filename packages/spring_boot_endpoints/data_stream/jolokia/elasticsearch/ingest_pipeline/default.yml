---
description: Pipeline for parsing Spring Boot Endpoints Jolokia metrics.
processors:
  - set:
      field: ecs.version
      value: "8.0.0"
  - rename:
      field: message
      target_field: event.original
      ignore_missing: true
  - rename:
      field: jolokia.metrics
      target_field: spring_boot_endpoints.jolokia
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.operating_system.name
      target_field: os.name
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.operating_system.version
      target_field: os.version
      ignore_missing: true
  - rename:
      field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memoryUsageBeforeGc.PS Eden Space
      target_field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memory_usage_before_gc.ps_eden_space
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memoryUsageBeforeGc.Code Cache
      target_field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memory_usage_before_gc.code_cache
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memoryUsageBeforeGc.Compressed Class Space
      target_field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memory_usage_before_gc.compressed_class_space
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memoryUsageBeforeGc.PS Survivor Space
      target_field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memory_usage_before_gc.ps_survivor_space
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memoryUsageBeforeGc.PS Old Gen
      target_field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memory_usage_before_gc.ps_old_gen
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memoryUsageBeforeGc.Metaspace
      target_field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memory_usage_before_gc.metaspace
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memoryUsageAfterGc.PS Eden Space
      target_field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memory_usage_after_gc.ps_eden_space
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memoryUsageAfterGc.Code Cache
      target_field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memory_usage_after_gc.code_cache
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memoryUsageAfterGc.Compressed Class Space
      target_field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memory_usage_after_gc.compressed_class_space
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memoryUsageAfterGc.PS Survivor Space
      target_field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memory_usage_after_gc.ps_survivor_space
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memoryUsageAfterGc.PS Old Gen
      target_field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memory_usage_after_gc.ps_old_gen
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memoryUsageAfterGc.Metaspace
      target_field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memory_usage_after_gc.metaspace
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.GcThreadCount
      target_field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.gc_thread_count
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.startTime
      target_field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.start_time
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.endTime
      target_field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.end_time
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.LOG_FILE
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.log_file
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.PID
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.pid
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.awt.toolkit
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.awt_toolkit
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.catalina.base
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.catalina_base
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.catalina.home
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.catalina_home
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.catalina.useNaming
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.catalina_useNaming
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.catalina_useNaming
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.catalina_use_naming
      ignore_missing: true
      ignore_failure: true
  - remove:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.catalina_useNaming
      ignore_failure: true
      ignore_missing: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.file.encoding.pkg
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.file_encoding_pkg
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.file.encoding
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.file_encoding
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.file.separator
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.file_separator
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.awt.graphicsenv
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_awt_graphicsenv
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.awt.headless
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_awt_headless
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.awt.printerjob
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_awt_printerjob
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.class.path
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_class_path
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.class.version
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_class_version
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.endorsed.dirs
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_endorsed_dirs
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.ext.dirs
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_ext_dirs
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.home
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_home
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.io.tmpdir
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_io_tmpdir
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.library.path
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_library_path
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.protocol.handler.pkgs
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_protocol_handler_pkgs
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.runtime.name
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_runtime_name
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.runtime.version
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_runtime_version
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.specification.name
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_specification_name
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.specification.vendor
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_specification_vendor
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.specification.version
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_specification_version
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.vendor
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_vendor
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.vendor.url
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_vendor_url
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.vendor.url.bug
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_vendor_url_bug
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.version
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_version
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.vm.info
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_vm_info
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.vm.name
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_vm_name
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.vm.specification.name
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_vm_specification_name
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.vm.specification.vendor
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_vm_specification_vendor
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.vm.specification.version
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_vm_specification_version
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.vm.vendor
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_vm_vendor
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.vm.version
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_vm_version
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.line.separator
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.line_separator
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.os.arch
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.os_arch
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.os.name
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.os_name
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.os.version
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.os_version
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.path.separator
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.path_separator
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.spring.beaninfo.ignore
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.spring_beaninfo_ignore
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.sun.arch.data.model
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.sun_arch_data_model
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.sun.boot.class.path
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.sun_boot_class_path
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.sun.boot.library.path
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.sun_boot_library_path
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.sun.cpu.endian
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.sun_cpu_endian
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.sun.cpu.isalist
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.sun_cpu_isalist
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.sun.io.unicode.encoding
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.sun_io_unicode_encoding
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.sun.java.command
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.sun_java_command
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.sun.java.launcher
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.sun_java_launcher
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.sun.jnu.encoding
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.sun_jnu_encoding
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.sun.management.compiler
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.sun_management_compiler
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.sun.os.patch.level
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.sun_os_patch_level
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.user.country
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.user_country
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.user.dir
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.user_dir
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.user.home
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.user_home
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.user.language
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.user_language
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.user.name
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.user_name
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.user.timezone
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.user_timezone
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.vendor.version
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_vendor_version
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.java.version.date
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.java_version_date
      ignore_missing: true
      ignore_failure: true
  - rename:
      field: spring_boot_endpoints.jolokia.runtime.system_properties.jdk.debug
      target_field: spring_boot_endpoints.jolokia.runtime.system_properties.jdk_debug
      ignore_missing: true
      ignore_failure: true
  - set:
      field: event.type
      value: info
  - set:
      field: event.kind
      value: metric
  - set:
      field: event.category
      value: database
  - set:
      field: event.module
      value: spring_boot_endpoints
  - set:
      field: event.dataset
      value: spring_boot_endpoints.jolokia
  - remove:
      field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memoryUsageBeforeGc
      ignore_failure: true
      ignore_missing: true
  - remove:
      field: spring_boot_endpoints.jolokia.garbage_collector.last_gc_info.memoryUsageAfterGc
      ignore_failure: true
      ignore_missing: true
on_failure:
  - set:
      field: error.message
      value: "{{ _ingest.on_failure_message }}"
