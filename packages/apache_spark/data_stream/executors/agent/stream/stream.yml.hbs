metricsets: ["jmx"]
namespace: "metrics"
hosts:
{{#each hosts}}
  - {{this}}
{{/each}}
path: {{path}}
period: {{period}}
jmx.mappings:
  - mbean: 'metrics:name=*.*.executor.bytesRead,type=counters'
    attributes:
    - attr: Count
      field: executors.bytes.read
  - mbean: 'metrics:name=*.*.executor.bytesWritten,type=counters'
    attributes:
    - attr: Count
      field: executors.bytes.written
  - mbean: 'metrics:name=*.*.ExecutorMetrics.DirectPoolMemory,type=gauges'
    attributes:
    - attr: Value
      field: executors.direct_pool_memory
  - mbean: 'metrics:name=*.*.executor.diskBytesSpilled,type=counters'
    attributes:
    - attr: Count
      field: executors.disk_bytes_spilled
  - mbean: 'metrics:name=*.*.HiveExternalCatalog.fileCacheHits,type=counters'
    attributes:
    - attr: Count
      field: executors.file_cache_hits
  - mbean: 'metrics:name=*.*.HiveExternalCatalog.filesDiscovered,type=counters'
    attributes:
    - attr: Count
      field: executors.files_discovered
  - mbean: 'metrics:name=*.*.executor.filesystem.file.largeRead_ops,type=gauges'
    attributes:
    - attr: Value
      field: executors.filesystem.file.large_read_ops
  - mbean: 'metrics:name=*.*.executor.filesystem.file.read_bytes,type=gauges'
    attributes:
    - attr: Value
      field: executors.filesystem.file.read_bytes
  - mbean: 'metrics:name=*.*.executor.filesystem.file.read_ops,type=gauges'
    attributes:
    - attr: Value
      field: executors.filesystem.file.read_ops
  - mbean: 'metrics:name=*.*.executor.filesystem.file.write_bytes,type=gauges'
    attributes:
    - attr: Value
      field: executors.filesystem.file.write_bytes
  - mbean: 'metrics:name=*.*.executor.filesystem.file.write_ops,type=gauges'
    attributes:
    - attr: Value
      field: executors.filesystem.file.write_ops
  - mbean: 'metrics:name=*.*.executor.filesystem.hdfs.largeRead_ops,type=gauges'
    attributes:
    - attr: Value
      field: executors.filesystem.hdfs.large_read_ops
  - mbean: 'metrics:name=*.*.executor.filesystem.hdfs.read_bytes,type=gauges'
    attributes:
    - attr: Value
      field: executors.filesystem.hdfs.read_bytes
  - mbean: 'metrics:name=*.*.executor.filesystem.hdfs.read_ops,type=gauges'
    attributes:
    - attr: Value
      field: executors.filesystem.hdfs.read_ops
  - mbean: 'metrics:name=*.*.executor.filesystem.hdfs.write_bytes,type=gauges'
    attributes:
    - attr: Value
      field: executors.filesystem.hdfs.write_bytes
  - mbean: 'metrics:name=*.*.executor.filesystem.hdfs.write_ops,type=gauges'
    attributes:
    - attr: Value
      field: executors.filesystem.hdfs.write_ops
  - mbean: 'metrics:name=*.*.HiveExternalCatalog.hiveClientCalls,type=counters'
    attributes:
    - attr: Count
      field: executors.hive_client_calls
  - mbean: 'metrics:name=*.*.JVMCPU.jvmCpuTime,type=gauges'
    attributes:
    - attr: Value
      field: executors.jvm.cpu_time
  - mbean: 'metrics:name=*.*.executor.jvmGCTime,type=counters'
    attributes:
    - attr: Count
      field: executors.jvm.gc_time
  - mbean: 'metrics:name=*.*.ExecutorMetrics.JVMHeapMemory,type=gauges'
    attributes:
    - attr: Value
      field: executors.jvm.heap_memory
  - mbean: 'metrics:name=*.*.ExecutorMetrics.JVMOffHeapMemory,type=gauges'
    attributes:
    - attr: Value
      field: executors.jvm.off_heap_memory
  - mbean: 'metrics:name=*.*.ExecutorMetrics.MajorGCCount,type=gauges'
    attributes:
    - attr: Value
      field: executors.major_gc.count
  - mbean: 'metrics:name=*.*.ExecutorMetrics.MajorGCTime,type=gauges'
    attributes:
    - attr: Value
      field: executors.major_gc.time
  - mbean: 'metrics:name=*.*.ExecutorMetrics.MappedPoolMemory,type=gauges'
    attributes:
    - attr: Value
      field: executors.mapped_pool_memory
  - mbean: 'metrics:name=*.*.executor.memoryBytesSpilled,type=counters'
    attributes:
    - attr: Count
      field: executors.memory_bytes_spilled
  - mbean: 'metrics:name=*.*.ExecutorMetrics.MinorGCCount,type=gauges'
    attributes:
    - attr: Value
      field: executors.minor_gc.count
  - mbean: 'metrics:name=*.*.ExecutorMetrics.MinorGCTime,type=gauges'
    attributes:
    - attr: Value
      field: executors.minor_gc.time
  - mbean: 'metrics:name=*.*.ExecutorMetrics.OffHeapExecutionMemory,type=gauges'
    attributes:
    - attr: Value
      field: executors.off_heap.execution_memory
  - mbean: 'metrics:name=*.*.ExecutorMetrics.OffHeapStorageMemory,type=gauges'
    attributes:
    - attr: Value
      field: executors.off_heap.storage_memory
  - mbean: 'metrics:name=*.*.ExecutorMetrics.OffHeapUnifiedMemory,type=gauges'
    attributes:
    - attr: Value
      field: executors.off_heap.unified_memory
  - mbean: 'metrics:name=*.*.ExecutorMetrics.OnHeapExecutionMemory,type=gauges'
    attributes:
    - attr: Value
      field: executors.on_heap.execution_memory
  - mbean: 'metrics:name=*.*.ExecutorMetrics.OnHeapStorageMemory,type=gauges'
    attributes:
    - attr: Value
      field: executors.on_heap.storage_memory
  - mbean: 'metrics:name=*.*.ExecutorMetrics.OnHeapUnifiedMemory,type=gauges'
    attributes:
    - attr: Value
      field: executors.on_heap.unified_memory
  - mbean: 'metrics:name=*.*.HiveExternalCatalog.parallelListingJobCount,type=counters'
    attributes:
    - attr: Count
      field: executors.parallel_listing_job_count
  - mbean: 'metrics:name=*.*.HiveExternalCatalog.partitionsFetched,type=counters'
    attributes:
    - attr: Count
      field: executors.partitions_fetched
  - mbean: 'metrics:name=*.*.ExecutorMetrics.ProcessTreeJVMRSSMemory,type=gauges'
    attributes:
    - attr: Value
      field: executors.process_tree.jvm.rss_memory
  - mbean: 'metrics:name=*.*.ExecutorMetrics.ProcessTreeJVMVMemory,type=gauges'
    attributes:
    - attr: Value
      field: executors.process_tree.jvm.v_memory
  - mbean: 'metrics:name=*.*.ExecutorMetrics.ProcessTreeOtherRSSMemory,type=gauges'
    attributes:
    - attr: Value
      field: executors.process_tree.other.rss_memory
  - mbean: 'metrics:name=*.*.ExecutorMetrics.ProcessTreeOtherVMemory,type=gauges'
    attributes:
    - attr: Value
      field: executors.process_tree.other.v_memory
  - mbean: 'metrics:name=*.*.ExecutorMetrics.ProcessTreePythonRSSMemory,type=gauges'
    attributes:
    - attr: Value
      field: executors.process_tree.python.rss_memory
  - mbean: 'metrics:name=*.*.ExecutorMetrics.ProcessTreePythonVMemory,type=gauges'
    attributes:
    - attr: Value
      field: executors.process_tree.python.v_memory
  - mbean: 'metrics:name=*.*.executor.recordsRead,type=counters'
    attributes:
    - attr: Count
      field: executors.records.read
  - mbean: 'metrics:name=*.*.executor.recordsWritten,type=counters'
    attributes:
    - attr: Count
      field: executors.records.written
  - mbean: 'metrics:name=*.*.executor.resultSerializationTime,type=counters'
    attributes:
    - attr: Count
      field: executors.result.serialization_time
  - mbean: 'metrics:name=*.*.executor.resultSize,type=counters'
    attributes:
    - attr: Count
      field: executors.result.size
  - mbean: 'metrics:name=*.*.executor.runTime,type=counters'
    attributes:
    - attr: Count
      field: executors.run_time
  - mbean: 'metrics:name=*.*.ExternalShuffle.shuffle-client.usedDirectMemory,type=gauges'
    attributes:
    - attr: Value
      field: executors.shuffle.client.used.direct_memory
  - mbean: 'metrics:name=*.*.ExternalShuffle.shuffle-client.usedHeapMemory,type=gauges'
    attributes:
    - attr: Value
      field: executors.shuffle.client.used.heap_memory
  - mbean: 'metrics:name=*.*.executor.shuffleBytesWritten,type=counters'
    attributes:
    - attr: Count
      field: executors.shuffle.bytes_written
  - mbean: 'metrics:name=*.*.executor.shuffleFetchWaitTime,type=counters'
    attributes:
    - attr: Count
      field: executors.shuffle.fetch_wait_time
  - mbean: 'metrics:name=*.*.executor.shuffleLocalBlocksFetched,type=counters'
    attributes:
    - attr: Count
      field: executors.shuffle.local.blocks_fetched
  - mbean: 'metrics:name=*.*.executor.shuffleLocalBytesRead,type=counters'
    attributes:
    - attr: Count
      field: executors.shuffle.local.bytes_read
  - mbean: 'metrics:name=*.*.executor.shuffleRecordsRead,type=counters'
    attributes:
    - attr: Count
      field: executors.shuffle.records.read
  - mbean: 'metrics:name=*.*.executor.shuffleRecordsWritten,type=counters'
    attributes:
    - attr: Count
      field: executors.shuffle.records.written
  - mbean: 'metrics:name=*.*.executor.shuffleRemoteBlocksFetched,type=counters'
    attributes:
    - attr: Count
      field: executors.shuffle.remote.blocks_fetched
  - mbean: 'metrics:name=*.*.executor.shuffleRemoteBytesRead,type=counters'
    attributes:
    - attr: Count
      field: executors.shuffle.remote.bytes_read
  - mbean: 'metrics:name=*.*.executor.shuffleRemoteBytesReadToDisk,type=counters'
    attributes:
    - attr: Count
      field: executors.shuffle.remote.bytes_read_to_disk
  - mbean: 'metrics:name=*.*.executor.shuffleTotalBytesRead,type=counters'
    attributes:
    - attr: Count
      field: executors.shuffle.total.bytes_read
  - mbean: 'metrics:name=*.*.executor.shuffleWriteTime,type=counters'
    attributes:
    - attr: Count
      field: executors.shuffle.write.time
  - mbean: 'metrics:name=*.*.executor.succeededTasks,type=counters'
    attributes:
    - attr: Count
      field: executors.succeeded_tasks
  - mbean: 'metrics:name=*.*.executor.threadpool.activeTasks,type=gauges'
    attributes:
    - attr: Value
      field: executors.threadpool.active_tasks
  - mbean: 'metrics:name=*.*.executor.threadpool.completeTasks,type=gauges'
    attributes:
    - attr: Value
      field: executors.threadpool.complete_tasks
  - mbean: 'metrics:name=*.*.executor.threadpool.currentPool_size,type=gauges'
    attributes:
    - attr: Value
      field: executors.threadpool.current_pool_size
  - mbean: 'metrics:name=*.*.executor.threadpool.maxPool_size,type=gauges'
    attributes:
    - attr: Value
      field: executors.threadpool.max_pool_size
  - mbean: 'metrics:name=*.*.executor.threadpool.startedTasks,type=gauges'
    attributes:
    - attr: Value
      field: executors.threadpool.started_tasks
  - mbean: 'metrics:name=*.driver.spark.streaming.*.states-rowsTotal,type=gauges'
    attributes:
    - attr: Value
      field: driver.spark.streaming.states.rows.total
  - mbean: 'metrics:name=*.driver.spark.streaming.*.processingRate-total,type=gauges'
    attributes:
    - attr: Value
      field: driver.spark.streaming.processing_rate.total
  - mbean: 'metrics:name=*.driver.spark.streaming.*.latency,type=gauges'
    attributes:
    - attr: Value
      field: driver.spark.streaming.latency
  - mbean: 'metrics:name=*.driver.spark.streaming.*.states-usedBytes,type=gauges'
    attributes:
    - attr: Value
      field: driver.spark.streaming.states.used_bytes
  - mbean: 'metrics:name=*.driver.spark.streaming.*.eventTime-watermark,type=gauges'
    attributes:
    - attr: Value
      field: driver.spark.streaming.event_time.watermark
  - mbean: 'metrics:name=*.driver.spark.streaming.*.inputRate-total,type=gauge'
    attributes:
    - attr: Value
      field: driver.spark.streaming.input_rate.total
