- name: apache_spark.metrics
  type: group
  release: beta
  fields:
    - name: master
      type: group
      fields:
        - name: apps
          type: group
          fields:
            - name: count
              type: long
              description: |
                Total number of apps.
            - name: waiting
              type: long
              description: |
                Number of apps waiting.
        - name: workers
          type: group
          fields:
            - name: alive
              type: long
              description: |
                Number of alive workers.
            - name: count
              type: long
              description: |
                Total number of workers.
    - name: worker
      type: group
      fields:
        - name: executors
          type: long
          description: |
            Number of executors.
        - name: cores
          type: group
          fields:
            - name: used
              type: long
              description: |
                Number of cores used.
            - name: free
              type: long
              description: |
                Number of cores free.
        - name: memory
          type: group
          fields:
            - name: used
              type: long
              description: |
                Amount of memory utilized in MB.
            - name: free
              type: long
              description: |
                Number of cores free.
    - name: application_source
      type: group
      fields:
        - name: status
          type: keyword
          description: |
            Current status of the application.
        - name: runtime_ms
          type: long
          description: |
            Time taken to run the application (ms).
        - name: cores
          type: long
          description: |
            Number of cores.
    - name: driver
      type: group
      fields:
        - name: job_duration
          type: long
        - name: jobs
          type: group
          fields:
            - name: failed
              type: long
            - name: succeeded
              type: long
        - name: stages
          type: group
          fields:
            - name: completed_count
              type: long
            - name: failed_count
              type: long
            - name: skipped_count
              type: long
        - name: tasks
          type: group
          fields:
            - name: executors.black_listed
              type: long
            - name: completed
              type: long
            - name: executors.excluded
              type: long
            - name: failed
              type: long
            - name: killed
              type: long
            - name: skipped
              type: long
            - name: executors.unblack_listed
              type: long
            - name: executors.unexcluded
              type: long
        - name: disk.space_used
          type: long
        - name: memory
          type: group
          fields:
            - name: max_mem
              type: long
            - name: off_heap.max
              type: long
            - name: on_heap.max
              type: long
            - name: used
              type: long
            - name: off_heap.used
              type: long
            - name: on_heap.used
              type: long
            - name: remaining
              type: long
            - name: off_heap.remaining
              type: long
            - name: on_heap.remaining
              type: long
        - name: dag_schedular
          type: group
          fields:
            - name: job.active
              type: long
            - name: job.all
              type: long
            - name: stages.failed
              type: long
            - name: stages.running
              type: long
            - name: stages.waiting
              type: long
        - name: executors
          type: group
          fields:
            - name: all
              type: long
            - name: decommission_unfinished
              type: long
            - name: exited_unexpectedly
              type: long
            - name: gracefully_decommissioned
              type: long
            - name: killed_by_driver
              type: long
            - name: pending_to_remove
              type: long
            - name: to_add
              type: long
            - name: max_needed
              type: long
            - name: target
              type: long
        - name: executor_metrics
          type: group
          fields:
            - name: direct_pool_memory
              type: long
            - name: jvm.heap_memory
              type: long
            - name: jvm.off_heap_memory
              type: long
            - name: major_gc.count
              type: long
            - name: major_gc.time
              type: long
            - name: mappped_pool_memory
              type: long
            - name: minor_gc.count
              type: long
            - name: minor_gc.time
              type: long
            - name: off_heap.execution_memory
              type: long
            - name: off_heap.storage_memory
              type: long
            - name: off_heap.unified_memory
              type: long
            - name: on_heap.execution_memory
              type: long
            - name: on_heap.storage_memory
              type: long
            - name: on_heap.unified_memory
              type: long
            - name: process_tree.jvm.rss_memory
              type: long
            - name: process_tree.jvm.v_memory
              type: long
            - name: process_tree.other.rss_memory
              type: long
            - name: process_tree.other.v_memory
              type: long
            - name: process_tree.python.rss_memory
              type: long
            - name: process_tree.python.v_memory
              type: long
        - name: hive_external_catalog
          type: group
          fields:
            - name: file_cache_hits
              type: long
            - name: files_discovered
              type: long
            - name: hive_client_calls
              type: long
            - name: parallel_listing_job.count
              type: long
            - name: partitions_fetched
              type: long
        - name: jvm.cpu.time
          type: long
        - name: live_listener_bus
          type: group
          fields:
            - name: num_events_posted
              type: long
            - name: queue.app_status.dropped_events.count
              type: long
            - name: queue.app_status.size
              type: long
            - name: queue.event_logs.dropped_events.count
              type: long
            - name: queue.event_logs.size
              type: long
            - name: queue.executor_management.dropped_events.count
              type: long
            - name: queue.executor_management.size
              type: long
        - name: spark.streaming
          type: group
          fields:
            - name: states.rows.total
              type: long
            - name: processing_rate.total
              type: double
            - name: latency
              type: long
            - name: states.used_bytes
              type: long
            - name: event_time.watermark
              type: long
            - name: input_rate.total
              type: double
    - name: executor
      type: group
      fields:
        - name: bytes
          type: group
          fields:
            - name: read
              type: long
            - name: written
              type: long
        - name: compilation_time
          type: long
        - name: cpu_time
          type: long
        - name: deserialize
          type: group
          fields:
            - name: cpu_time
              type: long
            - name: time
              type: long
        - name: direct_pool_memory
          type: long
        - name: disk_bytes_spilled
          type: long
        - name: file_cache_hits
          type: long
        - name: files_discovered
          type: long
        - name: filesystem
          type: group
          fields:
            - name: file
              type: group
              fields:
                - name: large_read_ops
                  type: long
                - name: read_bytes
                  type: long
                - name: read_ops
                  type: long
                - name: write_bytes
                  type: long
                - name: write_ops
                  type: long
            - name: hdfs
              type: group
              fields:
                - name: large_read_ops
                  type: long
                - name: read_bytes
                  type: long
                - name: read_ops
                  type: long
                - name: write_bytes
                  type: long
                - name: write_ops
                  type: long
        - name: generated_class_size
          type: long
        - name: generated_method_size
          type: long
        - name: hive_client_calls
          type: long
        - name: jvm
          type: group
          fields:
            - name: cpu_time
              type: long
            - name: gc_time
              type: long
            - name: heap_memory
              type: long
            - name: off_heap_memory
              type: long
        - name: major_gc.count
          type: long
        - name: major_gc.time
          type: long
        - name: mapped_pool_memory
          type: long
        - name: memory_bytes_spilled
          type: long
        - name: minor_gc.count
          type: long
        - name: minor_gc.time
          type: long
        - name: shuffle
          type: group
          fields:
            - name: client.used
              type: group
              fields:
                - name: direct_memory
                  type: long
                - name: heap_memory
                  type: long
            - name: server.used
              type: group
              fields:
                - name: direct_memory
                  type: long
                - name: heap_memory
                  type: long
            - name: bytes_written
              type: long
            - name: fetch_wait_time
              type: long
            - name: local
              type: group
              fields:
                - name: blocks_fetched
                  type: long
                - name: bytes_read
                  type: long
            - name: records
              type: group
              fields:
                - name: read
                  type: long
                - name: written
                  type: long
            - name: remote
              type: group
              fields:
                - name: blocks_fetched
                  type: long
                - name: bytes_read
                  type: long
                - name: bytes_read_to_disk
                  type: long
            - name: total.bytes_read
              type: long
            - name: write.time
              type: long
        - name: source_code_size
          type: long
        - name: succeeded_tasks
          type: long
        - name: threadpool
          type: group
          fields:
            - name: active_tasks
              type: long
            - name: complete_tasks
              type: long
            - name: current_pool_size
              type: long
            - name: max_pool_size
              type: long
            - name: started_tasks
              type: long
