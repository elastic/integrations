input: httpjson
service: exchange_online
vars:
  url: http://{{Hostname}}:{{Port}}/ecp/reportingwebservice/reporting.svc/MessageTrace
  client_id: test-app-id
  client_secret: test-secret
  tenant_id: tenant_id
  login_url: http://{{Hostname}}:{{Port}}
  batch_size: 1
  interval: 5s
data_stream:
  vars:
    preserve_original_event: true
    enable_request_tracer: true
assert:
  hit_count: 2 # TODO switch to 3 once cursor is figured out
wait_for_data_timeout: 30s