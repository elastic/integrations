rules:
  - path: /api/dcim/devices
    methods: ["GET"]
    query_params:
      limit: "2"
      offset: "2"
    request_headers:
      Content-Type:
        - "application/json"
      Authorization:
        - "Token --token--"
    responses:
      - status_code: 200
        headers:
          Content-Type:
            - "application/json; charset=utf-8"
        body: |-
          {
            "count": 1,
            "next": null,
            "previous": null,
            "results": [
              {
                "id": 3,
                "url": "http://localhost:8000/api/dcim/devices/3/",
                "display_url": "http://localhost:8000/dcim/devices/3/",
                "display": "web-srv-02 (WEB-002)",
                "name": "web-srv-02",
                "device_type": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/device-types/1/",
                  "display": "dell poweredge r740",
                  "manufacturer": {
                    "id": 1,
                    "url": "http://localhost:8000/api/dcim/manufacturers/1/",
                    "display": "Dell",
                    "name": "Dell",
                    "slug": "dell",
                    "description": ""
                  },
                  "model": "poweredge r740",
                  "slug": "poweredge-r740",
                  "description": "Dell PowerEdge R740 2U Rack Server"
                },
                "role": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/device-roles/1/",
                  "display": "web-server",
                  "name": "web-server",
                  "slug": "web-server",
                  "description": "",
                  "_depth": 0
                },
                "tenant": {
                  "id": 1,
                  "url": "http://localhost:8000/api/tenancy/tenants/1/",
                  "display": "acme-corp",
                  "name": "acme-corp",
                  "slug": "acme-corp",
                  "description": "Acme Corporation primary tenant"
                },
                "platform": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/platforms/1/",
                  "display": "ubuntu-server",
                  "name": "ubuntu-server",
                  "slug": "ubuntu-server",
                  "description": "Ubuntu Server 22.04 LTS"
                },
                "serial": "CN7016A2B90002",
                "asset_tag": "WEB-002",
                "site": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/sites/1/",
                  "display": "datacenter-east",
                  "name": "datacenter-east",
                  "slug": "datacenter-east",
                  "description": ""
                },
                "location": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/locations/1/",
                  "display": "server-room-a",
                  "name": "server-room-a",
                  "slug": "server-room-a",
                  "description": "Primary server room - Zone A",
                  "rack_count": 0,
                  "_depth": 0
                },
                "rack": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/racks/1/",
                  "display": "rack-a01 (DC-EAST-A01)",
                  "name": "rack-a01",
                  "description": "42U server rack - Zone A, Row 1"
                },
                "position": 15.0,
                "face": {
                  "value": "front",
                  "label": "Front"
                },
                "latitude": 39.0458,
                "longitude": -76.6413,
                "parent_device": null,
                "status": {
                  "value": "active",
                  "label": "Active"
                },
                "airflow": {
                  "value": "front-to-rear",
                  "label": "Front to rear"
                },
                "primary_ip": {
                  "id": 1,
                  "url": "http://localhost:8000/api/ipam/ip-addresses/1/",
                  "display": "10.0.1.15/24",
                  "family": {
                    "value": 4,
                    "label": "IPv4"
                  },
                  "address": "10.0.1.15/24",
                  "description": "Primary web server interface"
                },
                "primary_ip4": {
                  "id": 1,
                  "url": "http://localhost:8000/api/ipam/ip-addresses/1/",
                  "display": "10.0.1.15/24",
                  "family": {
                    "value": 4,
                    "label": "IPv4"
                  },
                  "address": "10.0.1.15/24",
                  "description": "Primary web server interface"
                },
                "primary_ip6": null,
                "oob_ip": {
                  "id": 1,
                  "url": "http://localhost:8000/api/ipam/ip-addresses/1/",
                  "display": "10.0.100.15/24",
                  "family": {
                    "value": 4,
                    "label": "IPv4"
                  },
                  "address": "10.0.100.15/24",
                  "description": "Out-of-band management interface"
                },
                "cluster": {
                  "id": 1,
                  "url": "http://localhost:8000/api/virtualization/clusters/1/",
                  "display": "web-cluster",
                  "name": "web-cluster",
                  "description": "Production web application cluster"
                },
                "virtual_chassis": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/virtual-chassis/1/",
                  "display": "web-cluster-vc",
                  "name": "web-cluster-vc",
                  "master": {
                    "id": 2,
                    "url": "http://localhost:8000/api/dcim/devices/2/",
                    "display_url": "http://localhost:8000/dcim/devices/2/",
                    "display": "web-srv-01 (WEB-001)",
                    "name": "web-srv-01"
                  },
                  "description": "",
                  "member_count": 2
                },
                "vc_position": 1,
                "vc_priority": null,
                "description": "Primary web server for customer portal",
                "comments": "",
                "config_template": {
                  "id": 1,
                  "url": "http://localhost:8000/api/extras/config-templates/1/",
                  "display": "ubuntu-web-template",
                  "name": "ubuntu-web-template",
                  "description": "Standard Ubuntu web server configuration template"
                },
                "config_context": {
                  "environment": "production",
                  "backup_enabled": true
                },
                "local_context_data": {
                  "monitoring": "enabled",
                  "ssl_cert": "wildcard.acme.com"
                },
                "tags": [
                  {
                    "id": 2,
                    "url": "http://localhost:8000/api/extras/tags/2/",
                    "display_url": "http://localhost:8000/extras/tags/2/",
                    "display": "production",
                    "name": "production",
                    "slug": "production",
                    "color": "4caf50"
                  },
                  {
                    "id": 4,
                    "url": "http://localhost:8000/api/extras/tags/4/",
                    "display_url": "http://localhost:8000/extras/tags/4/",
                    "display": "web-tier",
                    "name": "web-tier",
                    "slug": "web-tier",
                    "color": "2196f3"
                  },
                  {
                    "id": 1,
                    "url": "http://localhost:8000/api/extras/tags/1/",
                    "display_url": "http://localhost:8000/extras/tags/1/",
                    "display": "critical",
                    "name": "critical",
                    "slug": "critical",
                    "color": "f44336"
                  },
                  {
                    "id": 3,
                    "url": "http://localhost:8000/api/extras/tags/3/",
                    "display_url": "http://localhost:8000/extras/tags/3/",
                    "display": "monitored",
                    "name": "monitored",
                    "slug": "monitored",
                    "color": "ff9800"
                  }
                ],
                "custom_fields": {
                  "maintenance_window": "Sunday 02:00-04:00 EST"
                },
                "created": "2025-08-11T14:37:28.180540Z",
                "last_updated": "2025-08-11T18:12:23.512163Z",
                "console_port_count": 0,
                "console_server_port_count": 0,
                "power_port_count": 2,
                "power_outlet_count": 0,
                "interface_count": 4,
                "front_port_count": 0,
                "rear_port_count": 0,
                "device_bay_count": 0,
                "module_bay_count": 0,
                "inventory_item_count": 0
              }
            ]
          }
  - path: /api/dcim/devices
    methods: ["GET"]
    query_params:
      limit: "2"
    request_headers:
      Content-Type:
        - "application/json"
      Authorization:
        - "Token --token--"
    responses:
      - status_code: 200
        headers:
          Content-Type:
            - "application/json; charset=utf-8"
        body: |-
          {
            "count": 2,
            "next": "http://svc-netbox_mock:8080/api/dcim/devices?limit=2&offset=2",
            "previous": null,
            "results": [
              {
                "id": 2,
                "url": "http://localhost:8000/api/dcim/devices/2/",
                "display_url": "http://localhost:8000/dcim/devices/2/",
                "display": "web-srv-01 (WEB-001)",
                "name": "web-srv-01",
                "device_type": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/device-types/1/",
                  "display": "dell poweredge r740",
                  "manufacturer": {
                    "id": 1,
                    "url": "http://localhost:8000/api/dcim/manufacturers/1/",
                    "display": "Dell",
                    "name": "Dell",
                    "slug": "dell",
                    "description": ""
                  },
                  "model": "poweredge r740",
                  "slug": "poweredge-r740",
                  "description": "Dell PowerEdge R740 2U Rack Server"
                },
                "role": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/device-roles/1/",
                  "display": "web-server",
                  "name": "web-server",
                  "slug": "web-server",
                  "description": "",
                  "_depth": 0
                },
                "tenant": {
                  "id": 1,
                  "url": "http://localhost:8000/api/tenancy/tenants/1/",
                  "display": "acme-corp",
                  "name": "acme-corp",
                  "slug": "acme-corp",
                  "description": "Acme Corporation primary tenant"
                },
                "platform": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/platforms/1/",
                  "display": "ubuntu-server",
                  "name": "ubuntu-server",
                  "slug": "ubuntu-server",
                  "description": "Ubuntu Server 22.04 LTS"
                },
                "serial": "CN7016A2B90001",
                "asset_tag": "WEB-001",
                "site": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/sites/1/",
                  "display": "datacenter-east",
                  "name": "datacenter-east",
                  "slug": "datacenter-east",
                  "description": ""
                },
                "location": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/locations/1/",
                  "display": "server-room-a",
                  "name": "server-room-a",
                  "slug": "server-room-a",
                  "description": "Primary server room - Zone A",
                  "rack_count": 0,
                  "_depth": 0
                },
                "rack": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/racks/1/",
                  "display": "rack-a01 (DC-EAST-A01)",
                  "name": "rack-a01",
                  "description": "42U server rack - Zone A, Row 1"
                },
                "position": 15.0,
                "face": {
                  "value": "front",
                  "label": "Front"
                },
                "latitude": 39.0458,
                "longitude": -76.6413,
                "parent_device": null,
                "status": {
                  "value": "active",
                  "label": "Active"
                },
                "airflow": {
                  "value": "front-to-rear",
                  "label": "Front to rear"
                },
                "primary_ip": {
                  "id": 1,
                  "url": "http://localhost:8000/api/ipam/ip-addresses/1/",
                  "display": "10.0.1.15/24",
                  "family": {
                    "value": 4,
                    "label": "IPv4"
                  },
                  "address": "10.0.1.15/24",
                  "description": "Primary web server interface"
                },
                "primary_ip4": {
                  "id": 1,
                  "url": "http://localhost:8000/api/ipam/ip-addresses/1/",
                  "display": "10.0.1.15/24",
                  "family": {
                    "value": 4,
                    "label": "IPv4"
                  },
                  "address": "10.0.1.15/24",
                  "description": "Primary web server interface"
                },
                "primary_ip6": null,
                "oob_ip": {
                  "id": 1,
                  "url": "http://localhost:8000/api/ipam/ip-addresses/1/",
                  "display": "10.0.100.15/24",
                  "family": {
                    "value": 4,
                    "label": "IPv4"
                  },
                  "address": "10.0.100.15/24",
                  "description": "Out-of-band management interface"
                },
                "cluster": {
                  "id": 1,
                  "url": "http://localhost:8000/api/virtualization/clusters/1/",
                  "display": "web-cluster",
                  "name": "web-cluster",
                  "description": "Production web application cluster"
                },
                "virtual_chassis": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/virtual-chassis/1/",
                  "display": "web-cluster-vc",
                  "name": "web-cluster-vc",
                  "master": {
                    "id": 2,
                    "url": "http://localhost:8000/api/dcim/devices/2/",
                    "display_url": "http://localhost:8000/dcim/devices/2/",
                    "display": "web-srv-01 (WEB-001)",
                    "name": "web-srv-01"
                  },
                  "description": "",
                  "member_count": 2
                },
                "vc_position": 1,
                "vc_priority": null,
                "description": "Primary web server for customer portal",
                "comments": "",
                "config_template": {
                  "id": 1,
                  "url": "http://localhost:8000/api/extras/config-templates/1/",
                  "display": "ubuntu-web-template",
                  "name": "ubuntu-web-template",
                  "description": "Standard Ubuntu web server configuration template"
                },
                "config_context": {
                  "environment": "production",
                  "backup_enabled": true
                },
                "local_context_data": {
                  "monitoring": "enabled",
                  "ssl_cert": "wildcard.acme.com"
                },
                "tags": [
                  {
                    "id": 2,
                    "url": "http://localhost:8000/api/extras/tags/2/",
                    "display_url": "http://localhost:8000/extras/tags/2/",
                    "display": "production",
                    "name": "production",
                    "slug": "production",
                    "color": "4caf50"
                  },
                  {
                    "id": 4,
                    "url": "http://localhost:8000/api/extras/tags/4/",
                    "display_url": "http://localhost:8000/extras/tags/4/",
                    "display": "web-tier",
                    "name": "web-tier",
                    "slug": "web-tier",
                    "color": "2196f3"
                  },
                  {
                    "id": 1,
                    "url": "http://localhost:8000/api/extras/tags/1/",
                    "display_url": "http://localhost:8000/extras/tags/1/",
                    "display": "critical",
                    "name": "critical",
                    "slug": "critical",
                    "color": "f44336"
                  },
                  {
                    "id": 3,
                    "url": "http://localhost:8000/api/extras/tags/3/",
                    "display_url": "http://localhost:8000/extras/tags/3/",
                    "display": "monitored",
                    "name": "monitored",
                    "slug": "monitored",
                    "color": "ff9800"
                  }
                ],
                "custom_fields": {
                  "maintenance_window": "Sunday 02:00-04:00 EST"
                },
                "created": "2025-08-11T14:37:28.180540Z",
                "last_updated": "2025-08-11T18:12:23.512163Z",
                "console_port_count": 0,
                "console_server_port_count": 0,
                "power_port_count": 2,
                "power_outlet_count": 0,
                "interface_count": 4,
                "front_port_count": 0,
                "rear_port_count": 0,
                "device_bay_count": 0,
                "module_bay_count": 0,
                "inventory_item_count": 0
              },
              {
                "id": 1,
                "url": "http://localhost:8000/api/dcim/devices/1/",
                "display_url": "http://localhost:8000/dcim/devices/1/",
                "display": "db-srv-01 (DB-001)",
                "name": "db-srv-01",
                "device_type": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/device-types/1/",
                  "display": "dell poweredge r740",
                  "manufacturer": {
                    "id": 1,
                    "url": "http://localhost:8000/api/dcim/manufacturers/1/",
                    "display": "Dell",
                    "name": "Dell",
                    "slug": "dell",
                    "description": ""
                  },
                  "model": "poweredge r740",
                  "slug": "poweredge-r740",
                  "description": "Dell PowerEdge R740 2U Rack Server"
                },
                "role": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/device-roles/1/",
                  "display": "database-server",
                  "name": "database-server",
                  "slug": "database-server",
                  "description": "",
                  "_depth": 0
                },
                "tenant": {
                  "id": 1,
                  "url": "http://localhost:8000/api/tenancy/tenants/1/",
                  "display": "acme-corp",
                  "name": "acme-corp",
                  "slug": "acme-corp",
                  "description": "Acme Corporation primary tenant"
                },
                "platform": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/platforms/1/",
                  "display": "rhel-server",
                  "name": "rhel-server",
                  "slug": "rhel-server",
                  "description": "Red Hat Enterprise Linux 9"
                },
                "serial": "CN7016A2B90002",
                "asset_tag": "DB-001",
                "site": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/sites/1/",
                  "display": "datacenter-east",
                  "name": "datacenter-east",
                  "slug": "datacenter-east",
                  "description": ""
                },
                "location": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/locations/1/",
                  "display": "server-room-b",
                  "name": "server-room-b",
                  "slug": "server-room-b",
                  "description": "Secure server room - Zone B",
                  "rack_count": 0,
                  "_depth": 0
                },
                "rack": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/racks/1/",
                  "display": "rack-b03 (DC-EAST-B03)",
                  "name": "rack-b03",
                  "description": "42U server rack - Zone B, Row 3"
                },
                "position": 20.0,
                "face": {
                  "value": "front",
                  "label": "Front"
                },
                "latitude": 39.0463,
                "longitude": -76.6418,
                "parent_device": null,
                "status": {
                  "value": "active",
                  "label": "Active"
                },
                "airflow": {
                  "value": "front-to-rear",
                  "label": "Front to rear"
                },
                "primary_ip": {
                  "id": 2,
                  "url": "http://localhost:8000/api/ipam/ip-addresses/2/",
                  "display": "10.0.2.20/24",
                  "family": {
                    "value": 4,
                    "label": "IPv4"
                  },
                  "address": "10.0.2.20/24",
                  "description": "Primary database server interface"
                },
                "primary_ip4": {
                  "id": 2,
                  "url": "http://localhost:8000/api/ipam/ip-addresses/2/",
                  "display": "10.0.2.20/24",
                  "family": {
                    "value": 4,
                    "label": "IPv4"
                  },
                  "address": "10.0.2.20/24",
                  "description": "Primary database server interface"
                },
                "primary_ip6": null,
                "oob_ip": {
                  "id": 2,
                  "url": "http://localhost:8000/api/ipam/ip-addresses/2/",
                  "display": "10.0.100.20/24",
                  "family": {
                    "value": 4,
                    "label": "IPv4"
                  },
                  "address": "10.0.100.20/24",
                  "description": "Out-of-band management interface"
                },
                "cluster": {
                  "id": 1,
                  "url": "http://localhost:8000/api/virtualization/clusters/1/",
                  "display": "database-cluster",
                  "name": "database-cluster",
                  "description": "Production PostgreSQL cluster"
                },
                "virtual_chassis": {
                  "id": 1,
                  "url": "http://localhost:8000/api/dcim/virtual-chassis/1/",
                  "display": "db-cluster-vc",
                  "name": "db-cluster-vc",
                  "master": {
                    "id": 2,
                    "url": "http://localhost:8000/api/dcim/devices/2/",
                    "display_url": "http://localhost:8000/dcim/devices/2/",
                    "display": "web-srv-01 (WEB-001)",
                    "name": "web-srv-01"
                  },
                  "description": "",
                  "member_count": 2
                },
                "vc_position": 2,
                "vc_priority": 1,
                "description": "Primary PostgreSQL database server",
                "comments": "Configured for high availability with automated backups",
                "config_template": null,
                "config_context": {},
                "local_context_data": null,
                "tags": [
                  {
                    "id": 2,
                    "url": "http://localhost:8000/api/extras/tags/2/",
                    "display_url": "http://localhost:8000/extras/tags/2/",
                    "display": "production",
                    "name": "production",
                    "slug": "production",
                    "color": "4caf50"
                  }
                ],
                "custom_fields": {
                  "backup_schedule": "Daily 01:00 EST, Weekly Sunday 23:00 EST"
                },
                "created": "2025-08-11T14:26:04.132249Z",
                "last_updated": "2025-08-11T19:06:27.330706Z",
                "console_port_count": 0,
                "console_server_port_count": 0,
                "power_port_count": 2,
                "power_outlet_count": 0,
                "interface_count": 4,
                "front_port_count": 0,
                "rear_port_count": 0,
                "device_bay_count": 0,
                "module_bay_count": 0,
                "inventory_item_count": 0
              }
            ]
          }
