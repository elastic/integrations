format_version: 3.0.2
name: salesforce
title: Salesforce
version: "0.14.2"
description: Collect logs from Salesforce with Elastic Agent.
type: integration
categories:
  - observability
conditions:
  elastic:
    subscription: basic
  kibana:
    version: ^8.12.0
screenshots:
  - src: /img/salesforce-login.png
    title: Salesforce Login Dashboard
    size: 1366x1912
    type: image/png
  - src: /img/salesforce-logout.png
    title: Salesforce Logout Dashboard
    size: 1366x1912
    type: image/png
  - src: /img/salesforce-setupaudittrail.png
    title: Salesforce SetupAuditTrail Dashboard
    size: 1366x1912
    type: image/png
  - src: /img/salesforce-apex.png
    title: Salesforce Apex Dashboard
    size: 1366x1912
    type: image/png
icons:
  - src: /img/salesforce.svg
    title: Salesforce
    size: 32x32
    type: image/svg+xml
vars:
  - name: instance_url
    type: text
    title: Instance URL
    description: The Instance URL of the Salesforce instance.
    required: true
    show_user: true
    default: https://instance-url.salesforce.com
  - name: jwt_enabled
    type: bool
    title: Enable JWT Authentication
    description: Enable JWT Authentication (if disabled User-Password flow will be used).
    required: true
    show_user: true
    default: true
  - name: client_key_path
    type: text
    title: JWT Authentication Client Key Path
    description: Path to the JWT Authentication Client key.
    required: false
    show_user: true
    default: client-key.pem
  - name: jwt_url
    type: text
    title: JWT Authentication Audience URL
    description: Audience URL for JWT Authentication, (i.e. https://login.salesforce.com).
    required: false
    show_user: true
    default: https://login.salesforce.com
  - name: username
    type: text
    title: Username
    description: JWT Authentication or OAuth 2.0 Email Id used while registering salesforce, (i.e. my.email@here.com).
    required: true
    show_user: true
    default: username
  - name: client_id
    type: text
    title: Client ID
    description: JWT Authentication or OAuth 2.0 client ID.
    required: true
    show_user: true
    default: client_id
  - name: client_secret
    type: password
    title: Client Secret
    description: OAuth 2.0 client secret.
    required: true
    secret: true
    show_user: true
    default: client_secret
  - name: password
    type: password
    title: Password
    secret: true
    description: The password used as part of the authentication flow.
    required: true
    show_user: true
    default: password
  - name: token_url
    type: text
    title: Token URL
    secret: false
    description: The OAuth 2.0 token URL for Salesforce.
    required: true
    show_user: false
    default: https://login.salesforce.com
policy_templates:
  - name: salesforce
    title: Salesforce logs
    description: Collect logs from Salesforce instances.
    inputs:
      - type: salesforce
        title: Collect Salesforce logs using REST API
        description: Collecting logs from Salesforce instances using REST API.
owner:
  github: elastic/obs-infraobs-integrations
  type: elastic
