format_version: 3.0.2
name: salesforce
title: Salesforce
version: "0.14.2"
description: |
  Collect logs from Salesforce instances using the Elastic Agent. This integration allows you to monitor and analyze various Salesforce logs, including Login, Logout, Setup Audit Trail, and Apex logs.
type: integration
categories:
  - observability
conditions:
  elastic:
    subscription: basic
  kibana:
    version: ^8.12.0
screenshots:
  - src: /img/salesforce-login.png
    title: Salesforce Login Dashboard
    size: 1366x1912
    type: image/png
  - src: /img/salesforce-logout.png
    title: Salesforce Logout Dashboard
    size: 1366x1912
    type: image/png
  - src: /img/salesforce-setupaudittrail.png
    title: Salesforce SetupAuditTrail Dashboard
    size: 1366x1912
    type: image/png
  - src: /img/salesforce-apex.png
    title: Salesforce Apex Dashboard
    size: 1366x1912
    type: image/png
icons:
  - src: /img/salesforce.svg
    title: Salesforce
    size: 32x32
    type: image/svg+xml
vars:
  - name: instance_url
    type: text
    title: Instance URL
    description: The Instance URL of the Salesforce instance.
    required: true
    show_user: true
    default: https://instance-url.salesforce.com
  - name: jwt_enabled
    type: bool
    title: Enable JWT Authentication
    description: Enable JWT-based authentication for secure communication with Salesforce APIs. If disabled, the package will use the username-password authentication flow.
    required: true
    show_user: true
    default: true
  - name: client_key_path
    type: text
    title: JWT Authentication Client Key Path
    description: Path to the private key file used for JWT authentication. The key file should be in PEM format.
    required: false
    show_user: true
    default: client-key.pem
  - name: jwt_url
    type: text
    title: JWT Authentication Audience URL
    description: The audience URL for JWT authentication, typically set to https://login.salesforce.com.
    required: false
    show_user: true
    default: https://login.salesforce.com
  - name: username
    type: text
    title: Username
    description: The email address or username associated with your Salesforce account, used for OAuth 2.0 authentication.
    required: true
    show_user: true
    default: username
  - name: client_id
    type: text
    title: Client ID
    description: The client ID obtained from your Salesforce connected app, used for OAuth 2.0 authentication.
    required: true
    show_user: true
    default: client_id
  - name: client_secret
    type: password
    title: Client Secret
    description: The client secret obtained from your Salesforce connected app, used for OAuth 2.0 authentication.
    required: false
    secret: true
    show_user: true
    default: client_secret
  - name: password
    type: password
    title: Password
    secret: true
    description: The password associated with your Salesforce account, used for username-password authentication.
    required: false
    show_user: true
    default: password
  - name: token_url
    type: text
    title: Token URL
    secret: false
    description: The OAuth 2.0 token endpoint URL for Salesforce, typically set to https://login.salesforce.com/services/oauth2/token.
    required: true
    show_user: false
    default: https://login.salesforce.com
policy_templates:
  - name: salesforce
    title: Salesforce logs
    description: Collect logs from Salesforce instances using the Elastic Agent. This policy template configures the necessary inputs and settings to ingest Salesforce Login, Logout, Setup Audit Trail, and Apex logs into Elastic.
    inputs:
      - type: salesforce
        title: Collect Salesforce logs using REST API
        description: Collecting logs from Salesforce instances using REST API.
owner:
  github: elastic/obs-infraobs-integrations
  type: elastic
