type: metrics
title: Collect OpenAI metrics
dataset: azure.open_ai
streams:
  - input: azure/metrics
    vars:
      - name: client_id
        type: text
        title: Client ID
        multi: false
        required: true
        show_user: true
      - name: client_secret
        type: text
        title: Client Secret
        multi: false
        required: true
        show_user: true
        secret: true
      - name: tenant_id
        type: text
        title: Tenant ID
        multi: false
        required: true
        show_user: true
      - name: subscription_id
        type: text
        title: Subscription ID
        multi: false
        required: true
        show_user: true
      - name: refresh_list_interval
        type: text
        title: Refresh list interval
        multi: false
        required: false
        show_user: true
        default: 600s
      - name: period
        type: text
        title: Period
        multi: false
        required: true
        show_user: true
        default: 300s
      - name: resource_groups
        type: text
        title: Resource Groups
        multi: true
        required: false
        show_user: true
      - name: resource_ids
        type: text
        title: Resource IDs
        multi: true
        required: false
        show_user: true
    title: Azure OpenAI metrics
    description: Collect openAI metrics
elasticsearch:
  # Ensures agents have permissions to write data to `metrics-*-*`
  dynamic_dataset: true
  dynamic_namespace: true
