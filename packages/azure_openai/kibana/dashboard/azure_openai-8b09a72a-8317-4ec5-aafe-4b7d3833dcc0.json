{
    "attributes": {
        "controlGroupInput": {
            "chainingSystem": "HIERARCHICAL",
            "controlStyle": "oneLine",
            "ignoreParentSettingsJSON": {
                "ignoreFilters": false,
                "ignoreQuery": false,
                "ignoreTimerange": false,
                "ignoreValidations": false
            },
            "panelsJSON": {
                "062564c1-7971-4be9-9fdc-74502f48dd0d": {
                    "explicitInput": {
                        "dataViewId": "logs-*",
                        "fieldName": "azure.resource.name",
                        "id": "062564c1-7971-4be9-9fdc-74502f48dd0d",
                        "searchTechnique": "prefix",
                        "selectedOptions": [],
                        "sort": {
                            "by": "_count",
                            "direction": "desc"
                        },
                        "title": "Resource Name"
                    },
                    "grow": true,
                    "order": 2,
                    "type": "optionsListControl",
                    "width": "medium"
                },
                "0e345ab9-dd80-4044-bf20-1cec169e936f": {
                    "explicitInput": {
                        "dataViewId": "logs-*",
                        "fieldName": "azure.subscription_id",
                        "id": "0e345ab9-dd80-4044-bf20-1cec169e936f",
                        "searchTechnique": "prefix",
                        "selectedOptions": [],
                        "sort": {
                            "by": "_count",
                            "direction": "desc"
                        },
                        "title": "Subscriptions"
                    },
                    "grow": true,
                    "order": 0,
                    "type": "optionsListControl",
                    "width": "medium"
                },
                "bbb7dde7-9a36-47c3-83c8-0d5ee0e95d85": {
                    "explicitInput": {
                        "dataViewId": "logs-*",
                        "fieldName": "azure.resource.group",
                        "id": "bbb7dde7-9a36-47c3-83c8-0d5ee0e95d85",
                        "searchTechnique": "prefix",
                        "selectedOptions": [],
                        "sort": {
                            "by": "_count",
                            "direction": "desc"
                        },
                        "title": "Resource Groups"
                    },
                    "grow": true,
                    "order": 1,
                    "type": "optionsListControl",
                    "width": "medium"
                }
            },
            "showApplySelections": false
        },
        "description": "",
        "kibanaSavedObjectMeta": {
            "searchSourceJSON": {
                "filter": [],
                "query": {
                    "language": "kuery",
                    "query": ""
                }
            }
        },
        "optionsJSON": {
            "hidePanelTitles": false,
            "syncColors": false,
            "syncCursor": true,
            "syncTooltips": false,
            "useMargins": true
        },
        "panelsJSON": [
            {
                "embeddableConfig": {
                    "attributes": {
                        "layout": "horizontal",
                        "links": [
                            {
                                "destinationRefName": "link_5a5c9f28-2a22-4cb4-af0a-7811ef6a81d9_dashboard",
                                "id": "5a5c9f28-2a22-4cb4-af0a-7811ef6a81d9",
                                "label": "Azure OpenAI Overview",
                                "options": {
                                    "openInNewTab": false,
                                    "useCurrentDateRange": true,
                                    "useCurrentFilters": false
                                },
                                "order": 0,
                                "type": "dashboardLink"
                            },
                            {
                                "destinationRefName": "link_c1b442a8-9e74-444c-9860-4837c3223e42_dashboard",
                                "id": "c1b442a8-9e74-444c-9860-4837c3223e42",
                                "label": "Azure OpenAI PTU Deployments",
                                "options": {
                                    "openInNewTab": false,
                                    "useCurrentDateRange": true,
                                    "useCurrentFilters": false
                                },
                                "order": 1,
                                "type": "dashboardLink"
                            },
                            {
                                "destinationRefName": "link_06f4aa03-c4c4-4f3a-945b-d6be72f15921_dashboard",
                                "id": "06f4aa03-c4c4-4f3a-945b-d6be72f15921",
                                "label": "Azure OpenAI Billing",
                                "options": {
                                    "openInNewTab": false,
                                    "useCurrentDateRange": true,
                                    "useCurrentFilters": false
                                },
                                "order": 2,
                                "type": "dashboardLink"
                            },
                            {
                                "destinationRefName": "link_3197d78f-d47f-475a-abe8-6f834024abe3_dashboard",
                                "id": "3197d78f-d47f-475a-abe8-6f834024abe3",
                                "label": "Azure OpenAI Content Filtering Overview",
                                "options": {
                                    "openInNewTab": false,
                                    "useCurrentDateRange": true,
                                    "useCurrentFilters": false
                                },
                                "order": 3,
                                "type": "dashboardLink"
                            }
                        ]
                    },
                    "enhancements": {}
                },
                "gridData": {
                    "h": 4,
                    "i": "afec42fb-d8b9-4b28-987d-8757ca0c4338",
                    "w": 48,
                    "x": 0,
                    "y": 0
                },
                "panelIndex": "afec42fb-d8b9-4b28-987d-8757ca0c4338",
                "type": "links"
            },
            {
                "embeddableConfig": {
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "savedVis": {
                        "data": {
                            "aggs": [],
                            "searchSource": {
                                "filter": [],
                                "query": {
                                    "language": "kuery",
                                    "query": ""
                                }
                            }
                        },
                        "description": "",
                        "params": {
                            "fontSize": 12,
                            "markdown": "# Azure OpenAI Content Filtering\n\nThis dashboard provides insights into the following:\n\n- Prompts classified at filtered category\n- Completions classified at filtered category\n- Error rates\n- Content filtered response by content source\n",
                            "openLinksInNewTab": false
                        },
                        "title": "",
                        "type": "markdown",
                        "uiState": {}
                    }
                },
                "gridData": {
                    "h": 10,
                    "i": "df4ad39a-f2c1-4748-aaab-b5389b5dad49",
                    "w": 18,
                    "x": 0,
                    "y": 4
                },
                "panelIndex": "df4ad39a-f2c1-4748-aaab-b5389b5dad49",
                "type": "visualization"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "logs-*",
                                "name": "indexpattern-datasource-layer-a0007b1e-96f3-48a7-8d4d-dcc5aeba5534",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "currentIndexPatternId": "logs-*",
                                    "layers": {
                                        "a0007b1e-96f3-48a7-8d4d-dcc5aeba5534": {
                                            "columnOrder": [
                                                "cdb9801a-262d-4ce2-9549-b467f197bb1a"
                                            ],
                                            "columns": {
                                                "cdb9801a-262d-4ce2-9549-b467f197bb1a": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": "azure.open_ai.properties.backend_response_body.choices.finish_reason : \"content_filter\" or azure.open_ai.properties.backend_response_body.error.code : \"content_filter\" "
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Total content filtering API requests",
                                                    "operationType": "count",
                                                    "params": {
                                                        "emptyAsNull": true,
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "compact": true,
                                                                "decimals": 0
                                                            }
                                                        }
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "___records___"
                                                }
                                            },
                                            "incompleteColumns": {},
                                            "indexPatternId": "logs-*"
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "color": "#D6BF57",
                                "layerId": "a0007b1e-96f3-48a7-8d4d-dcc5aeba5534",
                                "layerType": "data",
                                "metricAccessor": "cdb9801a-262d-4ce2-9549-b467f197bb1a"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsMetric"
                    },
                    "description": "The total API requests blocked due to content filtering. The content filtering blocks requests when it finds harmful content either in the prompt or in the response text.",
                    "enhancements": {}
                },
                "gridData": {
                    "h": 5,
                    "i": "91b40399-d5df-43de-992c-d3cee6514c92",
                    "w": 7,
                    "x": 18,
                    "y": 4
                },
                "panelIndex": "91b40399-d5df-43de-992c-d3cee6514c92",
                "title": "",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "description": "The average generated latency for the blocked results.",
                        "references": [
                            {
                                "id": "logs-*",
                                "name": "indexpattern-datasource-layer-a0007b1e-96f3-48a7-8d4d-dcc5aeba5534",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "currentIndexPatternId": "logs-*",
                                    "layers": {
                                        "a0007b1e-96f3-48a7-8d4d-dcc5aeba5534": {
                                            "columnOrder": [
                                                "cdb9801a-262d-4ce2-9549-b467f197bb1a"
                                            ],
                                            "columns": {
                                                "cdb9801a-262d-4ce2-9549-b467f197bb1a": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": "azure.open_ai.properties.backend_response_body.choices.finish_reason : \"content_filter\" or azure.open_ai.properties.backend_response_body.error.code : \"content_filter\" "
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Average content filtering API latency",
                                                    "operationType": "average",
                                                    "params": {
                                                        "emptyAsNull": true,
                                                        "format": {
                                                            "id": "duration",
                                                            "params": {
                                                                "compact": true,
                                                                "decimals": 0,
                                                                "fromUnit": "nanoseconds",
                                                                "toUnit": "asMilliseconds"
                                                            }
                                                        }
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "event.duration"
                                                }
                                            },
                                            "incompleteColumns": {},
                                            "indexPatternId": "logs-*"
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "color": "#CA8EAE",
                                "layerId": "a0007b1e-96f3-48a7-8d4d-dcc5aeba5534",
                                "layerType": "data",
                                "metricAccessor": "cdb9801a-262d-4ce2-9549-b467f197bb1a"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsMetric"
                    },
                    "description": "The average generated latency for the blocked results.",
                    "enhancements": {}
                },
                "gridData": {
                    "h": 5,
                    "i": "863b04cf-6180-4289-804f-a7d80208f2b5",
                    "w": 7,
                    "x": 25,
                    "y": 4
                },
                "panelIndex": "863b04cf-6180-4289-804f-a7d80208f2b5",
                "title": "",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "logs-*",
                                "name": "indexpattern-datasource-layer-26a1ef53-6359-4952-b7af-e0ad6e174718",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "currentIndexPatternId": "logs-*",
                                    "layers": {
                                        "26a1ef53-6359-4952-b7af-e0ad6e174718": {
                                            "columnOrder": [
                                                "aeaf15e0-f8ba-43c7-bce7-86fb8938e912",
                                                "e690f18e-170f-45d8-a1f8-2315a86e9ec1"
                                            ],
                                            "columns": {
                                                "aeaf15e0-f8ba-43c7-bce7-86fb8938e912": {
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Top 5 values of azure.open_ai.properties.backend_response_body.error.code",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderBy": {
                                                            "columnId": "e690f18e-170f-45d8-a1f8-2315a86e9ec1",
                                                            "type": "column"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": true,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "size": 5
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "azure.open_ai.properties.backend_response_body.error.code"
                                                },
                                                "e690f18e-170f-45d8-a1f8-2315a86e9ec1": {
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Count of records",
                                                    "operationType": "count",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "___records___"
                                                }
                                            },
                                            "incompleteColumns": {},
                                            "indexPatternId": "logs-*",
                                            "sampling": 1
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "layers": [
                                    {
                                        "categoryDisplay": "default",
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "eui_amsterdam_color_blind",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rule": {
                                                        "type": "other"
                                                    },
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "emptySizeRatio": 0.7,
                                        "layerId": "26a1ef53-6359-4952-b7af-e0ad6e174718",
                                        "layerType": "data",
                                        "legendDisplay": "default",
                                        "legendMaxLines": 5,
                                        "metrics": [
                                            "e690f18e-170f-45d8-a1f8-2315a86e9ec1"
                                        ],
                                        "nestedLegend": false,
                                        "numberDisplay": "percent",
                                        "primaryGroups": [
                                            "aeaf15e0-f8ba-43c7-bce7-86fb8938e912"
                                        ],
                                        "truncateLegend": true
                                    }
                                ],
                                "shape": "donut"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsPie"
                    },
                    "description": "The number of requests filtered by finish_reason: content_filter",
                    "enhancements": {}
                },
                "gridData": {
                    "h": 10,
                    "i": "3f46e7b8-b975-4236-88bd-f7e1e8becd56",
                    "w": 16,
                    "x": 32,
                    "y": 4
                },
                "panelIndex": "3f46e7b8-b975-4236-88bd-f7e1e8becd56",
                "title": "Error rate",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "logs-*",
                                "name": "indexpattern-datasource-layer-a0007b1e-96f3-48a7-8d4d-dcc5aeba5534",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "currentIndexPatternId": "logs-*",
                                    "layers": {
                                        "a0007b1e-96f3-48a7-8d4d-dcc5aeba5534": {
                                            "columnOrder": [
                                                "cdb9801a-262d-4ce2-9549-b467f197bb1a"
                                            ],
                                            "columns": {
                                                "cdb9801a-262d-4ce2-9549-b467f197bb1a": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": "azure.open_ai.properties.backend_response_body.choices.finish_reason : \"content_filter\" or azure.open_ai.properties.backend_response_body.error.code : \"content_filter\" "
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Total content filtering tokens",
                                                    "operationType": "sum",
                                                    "params": {
                                                        "emptyAsNull": true,
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "compact": true,
                                                                "decimals": 0
                                                            }
                                                        }
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "azure.open_ai.properties.backend_response_body.usage.total_tokens"
                                                }
                                            },
                                            "incompleteColumns": {},
                                            "indexPatternId": "logs-*"
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "color": "#6092C0",
                                "layerId": "a0007b1e-96f3-48a7-8d4d-dcc5aeba5534",
                                "layerType": "data",
                                "metricAccessor": "cdb9801a-262d-4ce2-9549-b467f197bb1a"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsMetric"
                    },
                    "description": "The total number of tokens generated for the content filtered results.",
                    "enhancements": {}
                },
                "gridData": {
                    "h": 5,
                    "i": "f266a3bf-233d-400a-bc0e-3bdbccf13e8b",
                    "w": 7,
                    "x": 18,
                    "y": 9
                },
                "panelIndex": "f266a3bf-233d-400a-bc0e-3bdbccf13e8b",
                "title": "",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "savedVis": {
                        "data": {
                            "aggs": [],
                            "searchSource": {
                                "filter": [],
                                "query": {
                                    "language": "kuery",
                                    "query": ""
                                }
                            }
                        },
                        "description": "",
                        "params": {
                            "fontSize": 12,
                            "markdown": "Prompt Filtered Results (Input)",
                            "openLinksInNewTab": false
                        },
                        "title": "",
                        "type": "markdown",
                        "uiState": {}
                    }
                },
                "gridData": {
                    "h": 2,
                    "i": "7b08f56d-6d82-4084-a079-0b41ad52a703",
                    "w": 48,
                    "x": 0,
                    "y": 14
                },
                "panelIndex": "7b08f56d-6d82-4084-a079-0b41ad52a703",
                "type": "visualization"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "logs-*",
                                "name": "indexpattern-datasource-layer-4ca72c36-cfe3-49a1-b41f-5be1d190b146",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "currentIndexPatternId": "logs-*",
                                    "layers": {
                                        "4ca72c36-cfe3-49a1-b41f-5be1d190b146": {
                                            "columnOrder": [
                                                "da404295-e7b5-4822-b43e-1c1d4fc25394",
                                                "4d2de95b-6756-4a00-80fe-237e99cbbbf0"
                                            ],
                                            "columns": {
                                                "4d2de95b-6756-4a00-80fe-237e99cbbbf0": {
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Count of records",
                                                    "operationType": "count",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "___records___"
                                                },
                                                "da404295-e7b5-4822-b43e-1c1d4fc25394": {
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Top 5 values of azure.open_ai.properties.backend_response_body.error.innererror.content_filtered_categories.category_name",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderBy": {
                                                            "columnId": "4d2de95b-6756-4a00-80fe-237e99cbbbf0",
                                                            "type": "column"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": true,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "secondaryFields": [],
                                                        "size": 5
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "azure.open_ai.properties.backend_response_body.error.innererror.content_filtered_categories.category_name"
                                                }
                                            },
                                            "incompleteColumns": {},
                                            "indexPatternId": "logs-*",
                                            "sampling": 1
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "layers": [
                                    {
                                        "categoryDisplay": "default",
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "eui_amsterdam_color_blind",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rule": {
                                                        "type": "other"
                                                    },
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "emptySizeRatio": 0,
                                        "layerId": "4ca72c36-cfe3-49a1-b41f-5be1d190b146",
                                        "layerType": "data",
                                        "legendDisplay": "show",
                                        "metrics": [
                                            "4d2de95b-6756-4a00-80fe-237e99cbbbf0"
                                        ],
                                        "nestedLegend": false,
                                        "numberDisplay": "percent",
                                        "percentDecimals": 0,
                                        "primaryGroups": [
                                            "da404295-e7b5-4822-b43e-1c1d4fc25394"
                                        ],
                                        "truncateLegend": true
                                    }
                                ],
                                "shape": "donut"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsPie"
                    },
                    "description": "This shows the total requests identified as harmful categories. Grouped by the standard categories such as hate, sexual, violence and self_harm",
                    "enhancements": {}
                },
                "gridData": {
                    "h": 13,
                    "i": "d311863d-e668-478b-90c6-6ac2775890ff",
                    "w": 13,
                    "x": 0,
                    "y": 16
                },
                "panelIndex": "d311863d-e668-478b-90c6-6ac2775890ff",
                "title": "Blocked requests by category",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "logs-*",
                                "name": "indexpattern-datasource-layer-4f36d168-ce89-438d-9539-8803ea77105f",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "currentIndexPatternId": "logs-*",
                                    "layers": {
                                        "4f36d168-ce89-438d-9539-8803ea77105f": {
                                            "columnOrder": [
                                                "a35d9591-b4a0-4136-9900-a90e016d8259",
                                                "afed39b3-a04d-4d57-8ff8-89f542f40321",
                                                "0a8dc7cd-58be-444b-9fdb-4377cbb9c628"
                                            ],
                                            "columns": {
                                                "0a8dc7cd-58be-444b-9fdb-4377cbb9c628": {
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Count of records",
                                                    "operationType": "count",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "___records___"
                                                },
                                                "a35d9591-b4a0-4136-9900-a90e016d8259": {
                                                    "customLabel": true,
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "category",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderBy": {
                                                            "columnId": "0a8dc7cd-58be-444b-9fdb-4377cbb9c628",
                                                            "type": "column"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": true,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "secondaryFields": [],
                                                        "size": 5
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "azure.open_ai.properties.backend_response_body.error.innererror.content_filtered_categories.category_name"
                                                },
                                                "afed39b3-a04d-4d57-8ff8-89f542f40321": {
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Top 3 values of azure.open_ai.properties.backend_response_body.error.innererror.content_filtered_categories.severity",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderBy": {
                                                            "columnId": "0a8dc7cd-58be-444b-9fdb-4377cbb9c628",
                                                            "type": "column"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": true,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "secondaryFields": [],
                                                        "size": 3
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "azure.open_ai.properties.backend_response_body.error.innererror.content_filtered_categories.severity"
                                                }
                                            },
                                            "incompleteColumns": {},
                                            "indexPatternId": "logs-*",
                                            "sampling": 1
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "0a8dc7cd-58be-444b-9fdb-4377cbb9c628"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "eui_amsterdam_color_blind",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rule": {
                                                        "type": "other"
                                                    },
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "4f36d168-ce89-438d-9539-8803ea77105f",
                                        "layerType": "data",
                                        "position": "top",
                                        "seriesType": "bar_horizontal_stacked",
                                        "showGridlines": false,
                                        "splitAccessor": "afed39b3-a04d-4d57-8ff8-89f542f40321",
                                        "xAccessor": "a35d9591-b4a0-4136-9900-a90e016d8259"
                                    }
                                ],
                                "legend": {
                                    "isInside": false,
                                    "isVisible": true,
                                    "legendSize": "auto",
                                    "position": "right",
                                    "shouldTruncate": true
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "show",
                                "yLeftExtent": {
                                    "mode": "full",
                                    "niceValues": true
                                },
                                "yLeftScale": "linear"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsXY"
                    },
                    "description": "The severity level is classified as low, medium and high. This chart shows the severity distribution by category.",
                    "enhancements": {}
                },
                "gridData": {
                    "h": 13,
                    "i": "110da30b-3597-472c-ab71-0063bd11a1ed",
                    "w": 17,
                    "x": 13,
                    "y": 16
                },
                "panelIndex": "110da30b-3597-472c-ab71-0063bd11a1ed",
                "title": "Severity distribution by categories",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "description": "The severity level is classified as low, medium and high. This chart shows the severity distribution by category.",
                        "references": [
                            {
                                "id": "logs-*",
                                "name": "indexpattern-datasource-layer-4f36d168-ce89-438d-9539-8803ea77105f",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "currentIndexPatternId": "logs-*",
                                    "layers": {
                                        "4f36d168-ce89-438d-9539-8803ea77105f": {
                                            "columnOrder": [
                                                "04073958-4e19-4579-8c82-c47b2405f695",
                                                "e63455e8-b8c0-4558-b04b-381487f07046",
                                                "b43b7152-a4dc-45bb-a47f-b541da177226"
                                            ],
                                            "columns": {
                                                "04073958-4e19-4579-8c82-c47b2405f695": {
                                                    "customLabel": true,
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "categories",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderBy": {
                                                            "columnId": "b43b7152-a4dc-45bb-a47f-b541da177226",
                                                            "type": "column"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": true,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "secondaryFields": [],
                                                        "size": 4
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "azure.open_ai.properties.backend_response_body.error.innererror.content_filtered_categories.category_name"
                                                },
                                                "b43b7152-a4dc-45bb-a47f-b541da177226": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "categories",
                                                    "operationType": "count",
                                                    "params": {
                                                        "emptyAsNull": true,
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "compact": true,
                                                                "decimals": 0
                                                            }
                                                        }
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "___records___"
                                                },
                                                "e63455e8-b8c0-4558-b04b-381487f07046": {
                                                    "dataType": "date",
                                                    "isBucketed": true,
                                                    "label": "@timestamp",
                                                    "operationType": "date_histogram",
                                                    "params": {
                                                        "dropPartials": false,
                                                        "includeEmptyRows": true,
                                                        "interval": "auto"
                                                    },
                                                    "scale": "interval",
                                                    "sourceField": "@timestamp"
                                                }
                                            },
                                            "incompleteColumns": {},
                                            "indexPatternId": "logs-*",
                                            "sampling": 1
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "curveType": "LINEAR",
                                "emphasizeFitting": true,
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "b43b7152-a4dc-45bb-a47f-b541da177226"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "eui_amsterdam_color_blind",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rule": {
                                                        "type": "other"
                                                    },
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "4f36d168-ce89-438d-9539-8803ea77105f",
                                        "layerType": "data",
                                        "position": "top",
                                        "seriesType": "line",
                                        "showGridlines": false,
                                        "splitAccessor": "04073958-4e19-4579-8c82-c47b2405f695",
                                        "xAccessor": "e63455e8-b8c0-4558-b04b-381487f07046"
                                    }
                                ],
                                "legend": {
                                    "isInside": false,
                                    "isVisible": true,
                                    "legendSize": "auto",
                                    "position": "right",
                                    "shouldTruncate": true
                                },
                                "preferredSeriesType": "line",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "show",
                                "yLeftExtent": {
                                    "mode": "full",
                                    "niceValues": true
                                },
                                "yLeftScale": "linear"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsXY"
                    },
                    "description": "This chart shows the content filtered results categories overtime.",
                    "enhancements": {}
                },
                "gridData": {
                    "h": 13,
                    "i": "58732f58-dd2b-4c6b-a02c-0e7b611cc696",
                    "w": 18,
                    "x": 30,
                    "y": 16
                },
                "panelIndex": "58732f58-dd2b-4c6b-a02c-0e7b611cc696",
                "title": "Content filtered categories ",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "savedVis": {
                        "data": {
                            "aggs": [],
                            "searchSource": {
                                "filter": [],
                                "query": {
                                    "language": "kuery",
                                    "query": ""
                                }
                            }
                        },
                        "description": "",
                        "params": {
                            "fontSize": 12,
                            "markdown": "Completion Filtered Results (Output)",
                            "openLinksInNewTab": false
                        },
                        "title": "",
                        "type": "markdown",
                        "uiState": {}
                    }
                },
                "gridData": {
                    "h": 2,
                    "i": "577cf9d8-b3f7-462e-8624-373d1446a368",
                    "w": 48,
                    "x": 0,
                    "y": 29
                },
                "panelIndex": "577cf9d8-b3f7-462e-8624-373d1446a368",
                "title": "",
                "type": "visualization"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "logs-*",
                                "name": "indexpattern-datasource-layer-4ca72c36-cfe3-49a1-b41f-5be1d190b146",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "currentIndexPatternId": "logs-*",
                                    "layers": {
                                        "4ca72c36-cfe3-49a1-b41f-5be1d190b146": {
                                            "columnOrder": [
                                                "da404295-e7b5-4822-b43e-1c1d4fc25394",
                                                "4d2de95b-6756-4a00-80fe-237e99cbbbf0"
                                            ],
                                            "columns": {
                                                "4d2de95b-6756-4a00-80fe-237e99cbbbf0": {
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Count of records",
                                                    "operationType": "count",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "___records___"
                                                },
                                                "da404295-e7b5-4822-b43e-1c1d4fc25394": {
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Top 5 values of azure.open_ai.properties.backend_response_body.content_filtered_categories.category_name",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderBy": {
                                                            "columnId": "4d2de95b-6756-4a00-80fe-237e99cbbbf0",
                                                            "type": "column"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": true,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "secondaryFields": [],
                                                        "size": 5
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "azure.open_ai.properties.backend_response_body.content_filtered_categories.category_name"
                                                }
                                            },
                                            "incompleteColumns": {},
                                            "indexPatternId": "logs-*",
                                            "sampling": 1
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "layers": [
                                    {
                                        "categoryDisplay": "default",
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "eui_amsterdam_color_blind",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rule": {
                                                        "type": "other"
                                                    },
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "emptySizeRatio": 0,
                                        "layerId": "4ca72c36-cfe3-49a1-b41f-5be1d190b146",
                                        "layerType": "data",
                                        "legendDisplay": "show",
                                        "metrics": [
                                            "4d2de95b-6756-4a00-80fe-237e99cbbbf0"
                                        ],
                                        "nestedLegend": false,
                                        "numberDisplay": "percent",
                                        "percentDecimals": 0,
                                        "primaryGroups": [
                                            "da404295-e7b5-4822-b43e-1c1d4fc25394"
                                        ],
                                        "truncateLegend": true
                                    }
                                ],
                                "shape": "donut"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsPie"
                    },
                    "description": "This shows the total requests identified as harmful categories. Grouped by the standard categories such as hate, sexual, violence and self_harm",
                    "enhancements": {}
                },
                "gridData": {
                    "h": 13,
                    "i": "deee0898-1ab2-454c-a31b-f524774cf7dc",
                    "w": 13,
                    "x": 0,
                    "y": 31
                },
                "panelIndex": "deee0898-1ab2-454c-a31b-f524774cf7dc",
                "title": "Blocked requests by category",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "logs-*",
                                "name": "indexpattern-datasource-layer-4f36d168-ce89-438d-9539-8803ea77105f",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "currentIndexPatternId": "logs-*",
                                    "layers": {
                                        "4f36d168-ce89-438d-9539-8803ea77105f": {
                                            "columnOrder": [
                                                "a35d9591-b4a0-4136-9900-a90e016d8259",
                                                "afed39b3-a04d-4d57-8ff8-89f542f40321",
                                                "0a8dc7cd-58be-444b-9fdb-4377cbb9c628"
                                            ],
                                            "columns": {
                                                "0a8dc7cd-58be-444b-9fdb-4377cbb9c628": {
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Count of records",
                                                    "operationType": "count",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "___records___"
                                                },
                                                "a35d9591-b4a0-4136-9900-a90e016d8259": {
                                                    "customLabel": true,
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "category",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderBy": {
                                                            "columnId": "0a8dc7cd-58be-444b-9fdb-4377cbb9c628",
                                                            "type": "column"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": true,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "secondaryFields": [],
                                                        "size": 5
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "azure.open_ai.properties.backend_response_body.content_filtered_categories.category_name"
                                                },
                                                "afed39b3-a04d-4d57-8ff8-89f542f40321": {
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Top 3 values of azure.open_ai.properties.backend_response_body.content_filtered_categories.severity",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderBy": {
                                                            "columnId": "0a8dc7cd-58be-444b-9fdb-4377cbb9c628",
                                                            "type": "column"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": true,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "secondaryFields": [],
                                                        "size": 3
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "azure.open_ai.properties.backend_response_body.content_filtered_categories.severity"
                                                }
                                            },
                                            "incompleteColumns": {},
                                            "indexPatternId": "logs-*",
                                            "sampling": 1
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "0a8dc7cd-58be-444b-9fdb-4377cbb9c628"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "eui_amsterdam_color_blind",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rule": {
                                                        "type": "other"
                                                    },
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "4f36d168-ce89-438d-9539-8803ea77105f",
                                        "layerType": "data",
                                        "position": "top",
                                        "seriesType": "bar_horizontal_stacked",
                                        "showGridlines": false,
                                        "splitAccessor": "afed39b3-a04d-4d57-8ff8-89f542f40321",
                                        "xAccessor": "a35d9591-b4a0-4136-9900-a90e016d8259"
                                    }
                                ],
                                "legend": {
                                    "isInside": false,
                                    "isVisible": true,
                                    "legendSize": "auto",
                                    "position": "right",
                                    "shouldTruncate": true
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "show",
                                "yLeftExtent": {
                                    "mode": "full",
                                    "niceValues": true
                                },
                                "yLeftScale": "linear"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsXY"
                    },
                    "description": "The severity level is classified as low, medium and high. This chart shows the severity distribution by category.",
                    "enhancements": {}
                },
                "gridData": {
                    "h": 13,
                    "i": "2a60ee5a-7023-4a4d-a3dc-00aec7c525d5",
                    "w": 17,
                    "x": 13,
                    "y": 31
                },
                "panelIndex": "2a60ee5a-7023-4a4d-a3dc-00aec7c525d5",
                "title": "Severity distribution by categories",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "description": "The severity level is classified as low, medium and high. This chart shows the severity distribution by category.",
                        "references": [
                            {
                                "id": "logs-*",
                                "name": "indexpattern-datasource-layer-4f36d168-ce89-438d-9539-8803ea77105f",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "currentIndexPatternId": "logs-*",
                                    "layers": {
                                        "4f36d168-ce89-438d-9539-8803ea77105f": {
                                            "columnOrder": [
                                                "04073958-4e19-4579-8c82-c47b2405f695",
                                                "e63455e8-b8c0-4558-b04b-381487f07046",
                                                "d92a1e95-8c0e-418d-be69-ab455edc9928"
                                            ],
                                            "columns": {
                                                "04073958-4e19-4579-8c82-c47b2405f695": {
                                                    "customLabel": true,
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "categories",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderBy": {
                                                            "columnId": "d92a1e95-8c0e-418d-be69-ab455edc9928",
                                                            "type": "column"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": true,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "secondaryFields": [],
                                                        "size": 4
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "azure.open_ai.properties.backend_response_body.content_filtered_categories.category_name"
                                                },
                                                "d92a1e95-8c0e-418d-be69-ab455edc9928": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "categories",
                                                    "operationType": "count",
                                                    "params": {
                                                        "emptyAsNull": true,
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "compact": true,
                                                                "decimals": 0
                                                            }
                                                        }
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "___records___"
                                                },
                                                "e63455e8-b8c0-4558-b04b-381487f07046": {
                                                    "dataType": "date",
                                                    "isBucketed": true,
                                                    "label": "@timestamp",
                                                    "operationType": "date_histogram",
                                                    "params": {
                                                        "dropPartials": false,
                                                        "includeEmptyRows": true,
                                                        "interval": "auto"
                                                    },
                                                    "scale": "interval",
                                                    "sourceField": "@timestamp"
                                                }
                                            },
                                            "incompleteColumns": {},
                                            "indexPatternId": "logs-*",
                                            "sampling": 1
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "curveType": "LINEAR",
                                "emphasizeFitting": true,
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "d92a1e95-8c0e-418d-be69-ab455edc9928"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "eui_amsterdam_color_blind",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rule": {
                                                        "type": "other"
                                                    },
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "4f36d168-ce89-438d-9539-8803ea77105f",
                                        "layerType": "data",
                                        "position": "top",
                                        "seriesType": "line",
                                        "showGridlines": false,
                                        "splitAccessor": "04073958-4e19-4579-8c82-c47b2405f695",
                                        "xAccessor": "e63455e8-b8c0-4558-b04b-381487f07046"
                                    }
                                ],
                                "legend": {
                                    "isInside": false,
                                    "isVisible": true,
                                    "legendSize": "auto",
                                    "position": "right",
                                    "shouldTruncate": true
                                },
                                "preferredSeriesType": "line",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "show",
                                "yLeftExtent": {
                                    "mode": "full",
                                    "niceValues": true
                                },
                                "yLeftScale": "linear"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsXY"
                    },
                    "description": "This chart shows the content filtered results categories overtime.",
                    "enhancements": {}
                },
                "gridData": {
                    "h": 13,
                    "i": "caad1225-aec1-4436-b7ac-d7ddb027b9f1",
                    "w": 18,
                    "x": 30,
                    "y": 31
                },
                "panelIndex": "caad1225-aec1-4436-b7ac-d7ddb027b9f1",
                "title": "Content filtered categories",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "savedVis": {
                        "data": {
                            "aggs": [],
                            "searchSource": {
                                "filter": [],
                                "query": {
                                    "language": "kuery",
                                    "query": ""
                                }
                            }
                        },
                        "description": "",
                        "params": {
                            "fontSize": 12,
                            "markdown": "Content filtered response by content source (Input \u0026 Output)",
                            "openLinksInNewTab": false
                        },
                        "title": "",
                        "type": "markdown",
                        "uiState": {}
                    }
                },
                "gridData": {
                    "h": 2,
                    "i": "5c2675ee-1dfd-401d-b4f1-af8219bf9da1",
                    "w": 48,
                    "x": 0,
                    "y": 44
                },
                "panelIndex": "5c2675ee-1dfd-401d-b4f1-af8219bf9da1",
                "title": "",
                "type": "visualization"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "logs-*",
                                "name": "indexpattern-datasource-layer-0d7d8327-2030-4f95-92c9-0bcce0b626ac",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "currentIndexPatternId": "logs-*",
                                    "layers": {
                                        "0d7d8327-2030-4f95-92c9-0bcce0b626ac": {
                                            "columnOrder": [
                                                "dbffba38-0216-4a0e-a6b9-ef5150085c8e",
                                                "b02d5f45-e07e-4ea9-a164-439af2a66022",
                                                "bbb631f5-02de-4458-81a2-6e6ba316ffc4"
                                            ],
                                            "columns": {
                                                "b02d5f45-e07e-4ea9-a164-439af2a66022": {
                                                    "dataType": "date",
                                                    "isBucketed": true,
                                                    "label": "@timestamp",
                                                    "operationType": "date_histogram",
                                                    "params": {
                                                        "dropPartials": false,
                                                        "includeEmptyRows": true,
                                                        "interval": "auto"
                                                    },
                                                    "scale": "interval",
                                                    "sourceField": "@timestamp"
                                                },
                                                "bbb631f5-02de-4458-81a2-6e6ba316ffc4": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": "azure.open_ai.properties.backend_response_body.choices.finish_reason : \"content_filter\" "
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Total tokens",
                                                    "operationType": "sum",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "azure.open_ai.properties.backend_response_body.usage.total_tokens"
                                                },
                                                "dbffba38-0216-4a0e-a6b9-ef5150085c8e": {
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Top 10 values of azure.open_ai.properties.backend_request_body.model",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderBy": {
                                                            "columnId": "bbb631f5-02de-4458-81a2-6e6ba316ffc4",
                                                            "type": "column"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": true,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "size": 10
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "azure.open_ai.properties.backend_request_body.model"
                                                }
                                            },
                                            "incompleteColumns": {},
                                            "indexPatternId": "logs-*",
                                            "sampling": 1
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "bbb631f5-02de-4458-81a2-6e6ba316ffc4"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "eui_amsterdam_color_blind",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rule": {
                                                        "type": "other"
                                                    },
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "0d7d8327-2030-4f95-92c9-0bcce0b626ac",
                                        "layerType": "data",
                                        "position": "top",
                                        "seriesType": "bar_stacked",
                                        "showGridlines": false,
                                        "splitAccessor": "dbffba38-0216-4a0e-a6b9-ef5150085c8e",
                                        "xAccessor": "b02d5f45-e07e-4ea9-a164-439af2a66022"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "right"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsXY"
                    },
                    "description": "The total number of tokens generated over the time grouped by the deployed model. This tokens are generated for blocked contents.",
                    "enhancements": {}
                },
                "gridData": {
                    "h": 15,
                    "i": "e6386775-20cd-44cd-9ebc-080e86d2d23e",
                    "w": 24,
                    "x": 0,
                    "y": 46
                },
                "panelIndex": "e6386775-20cd-44cd-9ebc-080e86d2d23e",
                "title": "Total tokens",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "logs-*",
                                "name": "indexpattern-datasource-layer-0d7d8327-2030-4f95-92c9-0bcce0b626ac",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "currentIndexPatternId": "logs-*",
                                    "layers": {
                                        "0d7d8327-2030-4f95-92c9-0bcce0b626ac": {
                                            "columnOrder": [
                                                "dbffba38-0216-4a0e-a6b9-ef5150085c8e",
                                                "b02d5f45-e07e-4ea9-a164-439af2a66022",
                                                "bbb631f5-02de-4458-81a2-6e6ba316ffc4",
                                                "bbb631f5-02de-4458-81a2-6e6ba316ffc4X0"
                                            ],
                                            "columns": {
                                                "b02d5f45-e07e-4ea9-a164-439af2a66022": {
                                                    "dataType": "date",
                                                    "isBucketed": true,
                                                    "label": "@timestamp",
                                                    "operationType": "date_histogram",
                                                    "params": {
                                                        "dropPartials": false,
                                                        "includeEmptyRows": true,
                                                        "interval": "auto"
                                                    },
                                                    "scale": "interval",
                                                    "sourceField": "@timestamp"
                                                },
                                                "bbb631f5-02de-4458-81a2-6e6ba316ffc4": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Latency",
                                                    "operationType": "formula",
                                                    "params": {
                                                        "format": {
                                                            "id": "duration",
                                                            "params": {
                                                                "compact": true,
                                                                "decimals": 0,
                                                                "fromUnit": "nanoseconds",
                                                                "toUnit": "asMilliseconds"
                                                            }
                                                        },
                                                        "formula": "average(event.duration, kql='azure.open_ai.properties.backend_response_body.choices.finish_reason : \"content_filter\" or azure.open_ai.properties.backend_response_body.error.code : \"content_filter\" ')",
                                                        "isFormulaBroken": false
                                                    },
                                                    "references": [
                                                        "bbb631f5-02de-4458-81a2-6e6ba316ffc4X0"
                                                    ],
                                                    "scale": "ratio"
                                                },
                                                "bbb631f5-02de-4458-81a2-6e6ba316ffc4X0": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": "azure.open_ai.properties.backend_response_body.choices.finish_reason : \"content_filter\" or azure.open_ai.properties.backend_response_body.error.code : \"content_filter\" "
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Part of Latency",
                                                    "operationType": "average",
                                                    "params": {
                                                        "emptyAsNull": false
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "event.duration"
                                                },
                                                "dbffba38-0216-4a0e-a6b9-ef5150085c8e": {
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Top 10 values of azure.open_ai.properties.backend_request_body.model",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderBy": {
                                                            "fallback": true,
                                                            "type": "alphabetical"
                                                        },
                                                        "orderDirection": "asc",
                                                        "otherBucket": true,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "size": 10
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "azure.open_ai.properties.backend_request_body.model"
                                                }
                                            },
                                            "incompleteColumns": {},
                                            "indexPatternId": "logs-*",
                                            "sampling": 1
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "bbb631f5-02de-4458-81a2-6e6ba316ffc4"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "elastic_brand_2023",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rule": {
                                                        "type": "other"
                                                    },
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "0d7d8327-2030-4f95-92c9-0bcce0b626ac",
                                        "layerType": "data",
                                        "position": "top",
                                        "seriesType": "line",
                                        "showGridlines": false,
                                        "splitAccessor": "dbffba38-0216-4a0e-a6b9-ef5150085c8e",
                                        "xAccessor": "b02d5f45-e07e-4ea9-a164-439af2a66022"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "right"
                                },
                                "preferredSeriesType": "line",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsXY"
                    },
                    "description": "The average latency over the time for the blocked requests grouped by the deployed model.",
                    "enhancements": {}
                },
                "gridData": {
                    "h": 15,
                    "i": "ac7b7874-ab4f-428d-a9bd-7bf272a371db",
                    "w": 24,
                    "x": 24,
                    "y": 46
                },
                "panelIndex": "ac7b7874-ab4f-428d-a9bd-7bf272a371db",
                "title": "Latency",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "savedVis": {
                        "data": {
                            "aggs": [],
                            "searchSource": {
                                "filter": [],
                                "query": {
                                    "language": "kuery",
                                    "query": ""
                                }
                            }
                        },
                        "description": "",
                        "params": {
                            "fontSize": 12,
                            "markdown": "Logs",
                            "openLinksInNewTab": false
                        },
                        "title": "",
                        "type": "markdown",
                        "uiState": {}
                    }
                },
                "gridData": {
                    "h": 2,
                    "i": "49efec69-7441-4626-a386-19ca14665c80",
                    "w": 48,
                    "x": 0,
                    "y": 61
                },
                "panelIndex": "49efec69-7441-4626-a386-19ca14665c80",
                "title": "",
                "type": "visualization"
            },
            {
                "embeddableConfig": {
                    "description": "Content filtered result logs",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "grid": {
                        "columns": {
                            "azure.open_ai.properties.backend_request_body.messages.content": {
                                "width": 224
                            },
                            "azure.open_ai.properties.backend_request_body.model": {
                                "width": 193
                            },
                            "azure.open_ai.properties.backend_request_body.stream": {
                                "width": 153
                            },
                            "azure.open_ai.properties.backend_response_body.error.code": {
                                "width": 144
                            },
                            "azure.open_ai.properties.backend_response_body.error.innererror.code": {
                                "width": 230
                            },
                            "azure.open_ai.properties.backend_response_body.error.innererror.content_filter_result.custom_blocklists.id": {
                                "width": 257
                            },
                            "azure.open_ai.properties.backend_response_body.error.message": {
                                "width": 657
                            },
                            "azure.open_ai.properties.backend_response_body.error.param": {
                                "width": 174
                            },
                            "azure.open_ai.properties.backend_response_body.error.status": {
                                "width": 199
                            }
                        }
                    }
                },
                "gridData": {
                    "h": 15,
                    "i": "a25da048-df2b-4b8c-937e-d9e989596b20",
                    "w": 48,
                    "x": 0,
                    "y": 63
                },
                "panelIndex": "a25da048-df2b-4b8c-937e-d9e989596b20",
                "panelRefName": "panel_a25da048-df2b-4b8c-937e-d9e989596b20",
                "title": "Azure OpenAI Content Filter",
                "type": "search"
            }
        ],
        "timeRestore": false,
        "title": "[Azure OpenAI] Content Filtering Overview",
        "version": 3
    },
    "coreMigrationVersion": "8.8.0",
    "created_at": "2025-04-22T05:34:30.897Z",
    "created_by": "u_mGBROF_q5bmFCATbLXAcCwKa0k8JvONAwSruelyKA5E_0",
    "id": "azure_openai-8b09a72a-8317-4ec5-aafe-4b7d3833dcc0",
    "managed": false,
    "references": [
        {
            "id": "logs-*",
            "name": "91b40399-d5df-43de-992c-d3cee6514c92:indexpattern-datasource-layer-a0007b1e-96f3-48a7-8d4d-dcc5aeba5534",
            "type": "index-pattern"
        },
        {
            "id": "logs-*",
            "name": "863b04cf-6180-4289-804f-a7d80208f2b5:indexpattern-datasource-layer-a0007b1e-96f3-48a7-8d4d-dcc5aeba5534",
            "type": "index-pattern"
        },
        {
            "id": "logs-*",
            "name": "3f46e7b8-b975-4236-88bd-f7e1e8becd56:indexpattern-datasource-layer-26a1ef53-6359-4952-b7af-e0ad6e174718",
            "type": "index-pattern"
        },
        {
            "id": "logs-*",
            "name": "f266a3bf-233d-400a-bc0e-3bdbccf13e8b:indexpattern-datasource-layer-a0007b1e-96f3-48a7-8d4d-dcc5aeba5534",
            "type": "index-pattern"
        },
        {
            "id": "logs-*",
            "name": "d311863d-e668-478b-90c6-6ac2775890ff:indexpattern-datasource-layer-4ca72c36-cfe3-49a1-b41f-5be1d190b146",
            "type": "index-pattern"
        },
        {
            "id": "logs-*",
            "name": "110da30b-3597-472c-ab71-0063bd11a1ed:indexpattern-datasource-layer-4f36d168-ce89-438d-9539-8803ea77105f",
            "type": "index-pattern"
        },
        {
            "id": "logs-*",
            "name": "58732f58-dd2b-4c6b-a02c-0e7b611cc696:indexpattern-datasource-layer-4f36d168-ce89-438d-9539-8803ea77105f",
            "type": "index-pattern"
        },
        {
            "id": "logs-*",
            "name": "deee0898-1ab2-454c-a31b-f524774cf7dc:indexpattern-datasource-layer-4ca72c36-cfe3-49a1-b41f-5be1d190b146",
            "type": "index-pattern"
        },
        {
            "id": "logs-*",
            "name": "2a60ee5a-7023-4a4d-a3dc-00aec7c525d5:indexpattern-datasource-layer-4f36d168-ce89-438d-9539-8803ea77105f",
            "type": "index-pattern"
        },
        {
            "id": "logs-*",
            "name": "caad1225-aec1-4436-b7ac-d7ddb027b9f1:indexpattern-datasource-layer-4f36d168-ce89-438d-9539-8803ea77105f",
            "type": "index-pattern"
        },
        {
            "id": "logs-*",
            "name": "e6386775-20cd-44cd-9ebc-080e86d2d23e:indexpattern-datasource-layer-0d7d8327-2030-4f95-92c9-0bcce0b626ac",
            "type": "index-pattern"
        },
        {
            "id": "logs-*",
            "name": "ac7b7874-ab4f-428d-a9bd-7bf272a371db:indexpattern-datasource-layer-0d7d8327-2030-4f95-92c9-0bcce0b626ac",
            "type": "index-pattern"
        },
        {
            "id": "azure_openai-385437c4-9b2c-4d2a-a85b-4ec62837963d",
            "name": "a25da048-df2b-4b8c-937e-d9e989596b20:panel_a25da048-df2b-4b8c-937e-d9e989596b20",
            "type": "search"
        },
        {
            "id": "azure_openai-21d9a0d0-e6a0-4b34-bc6d-ce6560a1dab3",
            "name": "afec42fb-d8b9-4b28-987d-8757ca0c4338:link_5a5c9f28-2a22-4cb4-af0a-7811ef6a81d9_dashboard",
            "type": "dashboard"
        },
        {
            "id": "azure_openai-83bbaa98-7f44-4785-8774-15e0de9f74fa",
            "name": "afec42fb-d8b9-4b28-987d-8757ca0c4338:link_c1b442a8-9e74-444c-9860-4837c3223e42_dashboard",
            "type": "dashboard"
        },
        {
            "id": "azure_openai-f5bbc591-5e6b-4af7-b6c5-b02065a06455",
            "name": "afec42fb-d8b9-4b28-987d-8757ca0c4338:link_06f4aa03-c4c4-4f3a-945b-d6be72f15921_dashboard",
            "type": "dashboard"
        },
        {
            "id": "azure_openai-8b09a72a-8317-4ec5-aafe-4b7d3833dcc0",
            "name": "afec42fb-d8b9-4b28-987d-8757ca0c4338:link_3197d78f-d47f-475a-abe8-6f834024abe3_dashboard",
            "type": "dashboard"
        },
        {
            "id": "logs-*",
            "name": "controlGroup_1c35cd37-5ded-4333-84e4-bd555a87da4d:optionsListDataView",
            "type": "index-pattern"
        },
        {
            "id": "logs-*",
            "name": "controlGroup_5d4b812a-d3d6-47c9-b7fd-42c18a0bfcd6:optionsListDataView",
            "type": "index-pattern"
        },
        {
            "id": "logs-*",
            "name": "controlGroup_28141155-4f25-4eb8-9f3a-a94b38081049:optionsListDataView",
            "type": "index-pattern"
        }
    ],
    "type": "dashboard",
    "typeMigrationVersion": "10.2.0",
    "updated_by": "u_mGBROF_q5bmFCATbLXAcCwKa0k8JvONAwSruelyKA5E_0"
}