metricsets: ["cloudwatch"]
period: {{period}}
{{#if access_key_id}}
access_key_id: {{access_key_id}}
{{/if}}
{{#if secret_access_key}}
secret_access_key: {{secret_access_key}}
{{/if}}
{{#if session_token}}
session_token: {{session_token}}
{{/if}}
{{#if credential_profile_name}}
credential_profile_name: {{credential_profile_name}}
{{/if}}
{{#if shared_credential_file}}
shared_credential_file: {{shared_credential_file}}
{{/if}}
{{#if role_arn}}
role_arn: {{role_arn}}
{{/if}}
{{#if default_region}}
default_region: {{default_region}}
{{/if}}
{{#if regions}}
regions:
{{#each regions as |region i|}}
- {{region}}
{{/each}}
{{/if}}
{{#if latency}}
latency: {{latency}}
{{/if}}
{{#if tags_filter}}
tags_filter: {{tags_filter}}
{{/if}}
{{#if proxy_url }}
proxy_url: {{proxy_url}}
{{/if}}
metrics:
- namespace: AWS/Kinesis
  resource_type: kinesis
  statistic: ["Average"]
  name:
    - GetRecords.Bytes
    - GetRecords.IteratorAgeMilliseconds
    - GetRecords.Latency
    - GetRecords.Records
    - GetRecords.Success
    - IncomingBytes
    - IncomingRecords
    - PutRecord.Bytes
    - PutRecord.Latency
    - PutRecord.Success
    - PutRecords.Bytes
    - PutRecords.Latency
    - PutRecords.Success
    - ReadProvisionedThroughputExceeded
    - SubscribeToShard.RateExceeded
    - SubscribeToShard.Success
    - SubscribeToShardEvent.Bytes
    - SubscribeToShardEvent.MillisBehindLatest
    - SubscribeToShardEvent.Success
    - WriteProvisionedThroughputExceeded
    - OutgoingBytes
    - OutgoingRecords
    - IteratorAgeMilliseconds
- namespace: AWS/Kinesis
  resource_type: kinesis
  statistic: ["Sum"]
  name:
    - GetRecords.Records
    - GetRecords.Success
    - PutRecords.TotalRecords
    - PutRecords.SuccessfulRecords
    - PutRecords.FailedRecords
    - PutRecords.ThrottledRecords
    - SubscribeToShardEvent.Records
    - OutgoingRecords
