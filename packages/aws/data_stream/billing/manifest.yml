title: AWS Billing Metrics
type: metrics
streams:
  - input: aws/metrics
    vars:
      - name: period
        type: text
        title: Collection Period
        multi: false
        required: true
        show_user: true
        default: 24h
      - name: data_granularity
        type: text
        title: Data Granularity
        description: "Granularity of the data points returned in the Collection Period. Example values are `1m` or `5m`, see Golang [time.ParseDuration](https://pkg.go.dev/time#ParseDuration) for more details. Allows you to query CloudWatch asking “Give me the four 5-minute (Data Granularity) data points for the last 20 minutes (Collection Period)“. To learn more about how to use data granularity, see [Metrics collection and cost considerations](https://docs.elastic.co/integrations/aws#metrics-collection-and-cost-considerations)."
        multi: false
        required: false
        show_user: false
      - name: latency
        type: text
        title: Latency
        multi: false
        required: false
        show_user: false
      - name: cost_explorer_config.group_by_dimension_keys
        type: text
        title: Cost Explorer Group By Dimension Keys
        multi: true
        required: false
        show_user: true
        default:
          - "AZ"
          - "INSTANCE_TYPE"
          - "SERVICE"
          - "LINKED_ACCOUNT"
      - name: cost_explorer_config.group_by_tag_keys
        type: text
        title: Cost Explorer Group By Tag Keys
        multi: true
        required: false
        show_user: true
        default:
          - "aws:createdBy"
    title: AWS Billing Metrics
    description: Collect billing metrics from Amazon Web Services with Elastic Agent.
