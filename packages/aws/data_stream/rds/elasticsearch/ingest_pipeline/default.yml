---
description: "Pipeline for RDS metrics"

processors:
  - rename:
      field: aws.rds.metrics.BurstBalance.avg
      target_field: aws.rds.burst_balance.pct
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.CPUUtilization.avg
      target_field: aws.rds.cpu.total.pct
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.CPUCreditUsage.avg
      target_field: aws.rds.cpu.credit_usage
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.CPUCreditBalance.avg
      target_field: aws.rds.cpu.credit_balance
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.DatabaseConnections.avg
      target_field: aws.rds.database_connections
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.DiskQueueDepth.avg
      target_field: aws.rds.disk_queue_depth
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.FailedSQLServerAgentJobsCount.avg
      target_field: aws.rds.failed_sql_server_agent_jobs
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.FreeableMemory.avg
      target_field: aws.rds.freeable_memory.bytes
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.FreeStorageSpace.avg
      target_field: aws.rds.free_storage.bytes
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.MaximumUsedTransactionIDs.avg
      target_field: aws.rds.maximum_used_transaction_ids
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.OldestReplicationSlotLag.avg
      target_field: aws.rds.oldest_replication_slot_lag.mb
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.ReadIOPS.avg
      target_field: aws.rds.read.iops
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.CommitThroughput.avg
      target_field: aws.rds.throughput.commit
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.DeleteThroughput.avg
      target_field: aws.rds.throughput.delete
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.DDLThroughput.avg
      target_field: aws.rds.throughput.ddl
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.DMLThroughput.avg
      target_field: aws.rds.throughput.dml
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.InsertThroughput.avg
      target_field: aws.rds.throughput.insert
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.NetworkThroughput.avg
      target_field: aws.rds.throughput.network
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.NetworkReceiveThroughput.avg
      target_field: aws.rds.throughput.network_receive
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.NetworkTransmitThroughput.avg
      target_field: aws.rds.throughput.network_transmit
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.ReadThroughput.avg
      target_field: aws.rds.throughput.read
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.SelectThroughput.avg
      target_field: aws.rds.throughput.select
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.UpdateThroughput.avg
      target_field: aws.rds.throughput.update
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.FreeStorageSpace.avg
      target_field: aws.rds.free_storage.bytes
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.WriteThroughput.avg
      target_field: aws.rds.throughput.write
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.CommitLatency.avg
      target_field: aws.rds.latency.commit
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.DDLLatency.avg
      target_field: aws.rds.latency.ddl
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.DMLLatency.avg
      target_field: aws.rds.latency.dml
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.InsertLatency.avg
      target_field: aws.rds.latency.insert
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.ReadLatency.avg
      target_field: aws.rds.latency.read
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.SelectLatency.avg
      target_field: aws.rds.latency.select
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.UpdateLatency.avg
      target_field: aws.rds.latency.update
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.WriteLatency.avg
      target_field: aws.rds.latency.write
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.DeleteLatency.avg
      target_field: aws.rds.latency.delete
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.ReplicaLag.avg
      target_field: aws.rds.replica_lag.sec
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.BinLogDiskUsage.avg
      target_field: aws.rds.disk_usage.bin_log.bytes
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.ReplicationSlotDiskUsage.avg
      target_field: aws.rds.disk_usage.replication_slot.mb
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.TransactionLogsDiskUsage.avg
      target_field: aws.rds.disk_usage.transaction_logs.mb
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.SwapUsage.avg
      target_field: aws.rds.swap_usage.bytes
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.TransactionLogsGeneration.avg
      target_field: aws.rds.transaction_logs_generation
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.WriteIOPS.avg
      target_field: aws.rds.write.iops
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.Queries.avg
      target_field: aws.rds.queries
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.Deadlocks.avg
      target_field: aws.rds.deadlocks
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.VolumeBytesUsed.avg
      target_field: aws.rds.volume_used.bytes
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.FreeLocalStorage.avg
      target_field: aws.rds.free_local_storage.bytes
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.ActiveTransactions.avg
      target_field: aws.rds.transactions.active
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.BlockedTransactions.avg
      target_field: aws.rds.transactions.blocked
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.LoginFailures.avg
      target_field: aws.rds.login_failures
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.AuroraBinlogReplicaLag.avg
      target_field: aws.rds.aurora_bin_log_replica_lag
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.aurora_bin_log_replica_lag.avg
      target_field: aws.rds.aurora_global_db.replicated_write_io.bytes
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.AuroraGlobalDBDataTransferBytes.avg
      target_field: aws.rds.aurora_global_db.data_transfer.bytes
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.AuroraGlobalDBReplicationLag.avg
      target_field: aws.rds.aurora_global_db.replication_lag.ms
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.AuroraReplicaLag.avg
      target_field: aws.rds.aurora_replica.lag.ms
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.AuroraReplicaLagMaximum.avg
      target_field: aws.rds.aurora_replica.lag_max.ms
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.AuroraReplicaLagMinimum.avg
      target_field: aws.rds.aurora_replica.lag_min.ms
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.BacktrackChangeRecordsCreationRate.avg
      target_field: aws.rds.backtrack_change_records.creation_rate
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.BacktrackChangeRecordsStored.avg
      target_field: aws.rds.backtrack_change_records.stored
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.BacktrackWindowActual.avg
      target_field: aws.rds.backtrack_window.actual
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.BacktrackWindowAlert.avg
      target_field: aws.rds.backtrack_window.alert
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.BackupRetentionPeriodStorageUsed.avg
      target_field: aws.rds.storage_used.backup_retention_period.bytes
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.SnapshotStorageUsed.avg
      target_field: aws.rds.storage_used.snapshot.bytes
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.BufferCacheHitRatio.avg
      target_field: aws.rds.cache_hit_ratio.buffer
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.ResultSetCacheHitRatio.avg
      target_field: aws.rds.cache_hit_ratio.result_set
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.EngineUptime.avg
      target_field: aws.rds.engine_uptime.sec
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.VolumeReadIOPs.avg
      target_field: aws.rds.volume.read.iops
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.VolumeWriteIOPs.avg
      target_field: aws.rds.volume.write.iops
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.RDSToAuroraPostgreSQLReplicaLag.avg
      target_field: aws.rds.rds_to_aurora_postgresql_replica_lag.sec
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.TotalBackupStorageBilled.avg
      target_field: aws.rds.backup_storage_billed_total.bytes
      ignore_missing: true
  - rename:
      field: aws.rds.metrics.AuroraVolumeBytesLeftTotal.avg
      target_field: aws.rds.aurora_volume_left_total.bytes
      ignore_missing: true
  - remove:
      field:
        - aws.rds.metrics.BurstBalance
        - aws.rds.metrics.CPUUtilization
        - aws.rds.metrics.CPUCreditUsage
        - aws.rds.metrics.CPUCreditBalance
        - aws.rds.metrics.DatabaseConnections
        - aws.rds.metrics.DiskQueueDepth
        - aws.rds.metrics.FailedSQLServerAgentJobsCount
        - aws.rds.metrics.FreeableMemory
        - aws.rds.metrics.FreeStorageSpace
        - aws.rds.metrics.MaximumUsedTransactionIDs
        - aws.rds.metrics.OldestReplicationSlotLag
        - aws.rds.metrics.ReadIOPS.avg
        - aws.rds.metrics.CommitThroughput
        - aws.rds.metrics.DeleteThroughput
        - aws.rds.metrics.DDLThroughput
        - aws.rds.metrics.DMLThroughput
        - aws.rds.metrics.InsertThroughput
        - aws.rds.metrics.NetworkThroughput
        - aws.rds.metrics.NetworkReceiveThroughput
        - aws.rds.metrics.NetworkTransmitThroughput
        - aws.rds.metrics.ReadThroughput
        - aws.rds.metrics.SelectThroughput
        - aws.rds.metrics.UpdateThroughput
        - aws.rds.metrics.WriteThroughput
        - aws.rds.metrics.CommitLatency
        - aws.rds.metrics.DDLLatency
        - aws.rds.metrics.DMLLatency
        - aws.rds.metrics.InsertLatency
        - aws.rds.metrics.ReadLatency
        - aws.rds.metrics.SelectLatency
        - aws.rds.metrics.UpdateLatency
        - aws.rds.metrics.WriteLatency
        - aws.rds.metrics.DeleteLatency
        - aws.rds.metrics.ReplicaLag
        - aws.rds.metrics.BinLogDiskUsage
        - aws.rds.metrics.ReplicationSlotDiskUsage
        - aws.rds.metrics.TransactionLogsDiskUsage
        - aws.rds.metrics.SwapUsage
        - aws.rds.metrics.TransactionLogsGeneration
        - aws.rds.metrics.WriteIOPS
        - aws.rds.metrics.Queries
        - aws.rds.metrics.Deadlocks
        - aws.rds.metrics.VolumeBytesUsed
        - aws.rds.metrics.FreeLocalStorage
        - aws.rds.metrics.ActiveTransactions
        - aws.rds.metrics.BlockedTransactions
        - aws.rds.metrics.LoginFailures
        - aws.rds.metrics.AuroraBinlogReplicaLag
        - aws.rds.metrics.aurora_bin_log_replica_lag
        - aws.rds.metrics.AuroraGlobalDBDataTransferBytes
        - aws.rds.metrics.AuroraGlobalDBReplicationLag
        - aws.rds.metrics.AuroraReplicaLag
        - aws.rds.metrics.AuroraReplicaLagMaximum
        - aws.rds.metrics.AuroraReplicaLagMinimum
        - aws.rds.metrics.BacktrackChangeRecordsCreationRate
        - aws.rds.metrics.BacktrackChangeRecordsStored
        - aws.rds.metrics.BacktrackWindowActual
        - aws.rds.metrics.BacktrackWindowAlert
        - aws.rds.metrics.BackupRetentionPeriodStorageUsed
        - aws.rds.metrics.SnapshotStorageUsed
        - aws.rds.metrics.BufferCacheHitRatio
        - aws.rds.metrics.ResultSetCacheHitRatio
        - aws.rds.metrics.EngineUptime
        - aws.rds.metrics.VolumeReadIOPs
        - aws.rds.metrics.VolumeWriteIOPs
        - aws.rds.metrics.RDSToAuroraPostgreSQLReplicaLag
        - aws.rds.metrics.TotalBackupStorageBilled
        - aws.rds.metrics.AuroraVolumeBytesLeftTotal
      ignore_missing: true