metricsets: ["cloudwatch"]
period: {{period}}
{{#if data_granularity}}
data_granularity: {{data_granularity}}
{{/if}}
{{#if include_linked_accounts}}
include_linked_accounts: {{include_linked_accounts}}
{{/if}}
{{#if access_key_id}}
access_key_id: {{access_key_id}}
{{/if}}
{{#if secret_access_key}}
secret_access_key: {{secret_access_key}}
{{/if}}
{{#if session_token}}
session_token: {{session_token}}
{{/if}}
{{#if credential_profile_name}}
credential_profile_name: {{credential_profile_name}}
{{/if}}
{{#if shared_credential_file}}
shared_credential_file: {{shared_credential_file}}
{{/if}}
{{#if role_arn}}
role_arn: {{role_arn}}
{{/if}}
{{#if default_region}}
default_region: {{default_region}}
{{/if}}
{{#if regions}}
regions:
{{#each regions as |region i|}}
- {{region}}
{{/each}}
{{/if}}
{{#if latency}}
latency: {{latency}}
{{/if}}
{{#if tags_filter}}
tags_filter: {{tags_filter}}
{{/if}}
{{#if proxy_url }}
proxy_url: {{proxy_url}}
{{/if}}
metrics:
- namespace: AWS/ElasticMapReduce
  resource_type: emr
  statistic: ["Average"]
  name:
  - IsIdle
  - ContainerPendingRatio
  - LiveDataNodes
  - MultiMasterInstanceGroupNodesRunningPercentage
  - HDFSUtilization
  - YARNMemoryAvailablePercentage
  - TotalUnitsRunning
  - TotalNodesRunning
  - TotalVCPURunning
  - CoreUnitsRunning
  - CoreNodesRunning
  - CoreVCPURunning
  - TaskUnitsRunning
  - TaskNodesRunning
  - TaskVCPURunning
  - AutoTerminationIsClusterIdle
- namespace: AWS/ElasticMapReduce
  resource_type: emr
  statistic: ["Sum"]
  name:
  - ContainerAllocated
  - ContainerReserved
  - ContainerPending
  - AppsCompleted
  - AppsFailed
  - AppsKilled
  - AppsPending
  - AppsRunning
  - AppsSubmitted
  - CoreNodesPending
  - MRTotalNodes
  - MRActiveNodes
  - MRLostNodes
  - MRUnhealthyNodes
  - MRDecommissionedNodes
  - MRRebootedNodes
  - MultiMasterInstanceGroupNodesRunning
  - MultiMasterInstanceGroupNodesRequested
  - S3BytesWritten
  - S3BytesRead
  - HDFSBytesRead
  - HDFSBytesWritten
  - TotalLoad
  - MemoryTotalMB
  - MemoryReservedMB
  - MemoryAvailableMB
  - MemoryAllocatedMB
  - PendingDeletionBlocks
  - UnderReplicatedBlocks
  - DfsPendingReplicationBlocks
  - CapacityRemainingGB
  - TotalNotebookKernels
- namespace: AWS/ElasticMapReduce
  resource_type: emr
  statistic: ["Maximum"]
  name:
  - MissingBlocks
  - CorruptBlocks
  - TotalUnitsRequested
  - TotalNodesRequested
  - TotalVCPURequested
  - CoreUnitsRequested
  - CoreNodesRequested
  - CoreVCPURequested
  - TaskUnitsRequested
  - TaskNodesRequested
  - TaskVCPURequested
