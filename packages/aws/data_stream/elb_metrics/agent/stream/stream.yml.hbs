metricsets: ["cloudwatch"]
period: {{period}}
{{#if access_key_id}}
access_key_id: {{access_key_id}}
{{/if}}
{{#if secret_access_key}}
secret_access_key: {{secret_access_key}}
{{/if}}
{{#if session_token}}
session_token: {{session_token}}
{{/if}}
{{#if credential_profile_name}}
credential_profile_name: {{credential_profile_name}}
{{/if}}
{{#if shared_credential_file}}
shared_credential_file: {{shared_credential_file}}
{{/if}}
{{#if role_arn}}
role_arn: {{role_arn}}
{{/if}}
{{#if regions}}
regions:
{{#each regions as |region i|}}
- {{region}}
{{/each}}
{{/if}}
{{#if latency}}
latency: {{latency}}
{{/if}}
{{#if tags_filter}}
tags_filter: {{tags_filter}}
{{/if}}
{{#if proxy_url }}
proxy_url: {{proxy_url}}
{{/if}}
metrics:
- namespace: AWS/ELB
  resource_type: elasticloadbalancing
  statistic: ["Sum"]
  name:
  - BackendConnectionErrors
  - HTTPCode_Backend_2XX
  - HTTPCode_Backend_3XX
  - HTTPCode_Backend_4XX
  - HTTPCode_Backend_5XX
  - HTTPCode_ELB_4XX
  - HTTPCode_ELB_5XX
  - RequestCount
  - SpilloverCount
- namespace: AWS/ELB
  resource_type: elasticloadbalancing
  statistic: ["Maximum"]
  name:
  - HealthyHostCount
  - SurgeQueueLength
  - UnHealthyHostCount
- namespace: AWS/ELB
  resource_type: elasticloadbalancing
  statistic: ["Average"]
  name:
  - Latency
  - EstimatedALBActiveConnectionCount
  - EstimatedALBConsumedLCUs
  - EstimatedALBNewConnectionCount
  - EstimatedProcessedBytes
- namespace: AWS/ApplicationELB
  resource_type: elasticloadbalancing
  statistic: ["Sum"]
  name:
  - ActiveConnectionCount
  - ClientTLSNegotiationErrorCount
  - HTTP_Fixed_Response_Count
  - HTTP_Redirect_Count
  - HTTP_Redirect_Url_Limit_Exceeded_Count
  - HTTPCode_ELB_3XX_Count
  - HTTPCode_ELB_4XX_Count
  - HTTPCode_ELB_5XX_Count
  - HTTPCode_ELB_500_Count
  - HTTPCode_ELB_502_Count
  - HTTPCode_ELB_503_Count
  - HTTPCode_ELB_504_Count
  - IPv6ProcessedBytes
  - IPv6RequestCount
  - NewConnectionCount
  - ProcessedBytes
  - RejectedConnectionCount
  - RequestCount
  - RuleEvaluations
- namespace: AWS/ApplicationELB
  resource_type: elasticloadbalancing
  statistic: ["Average"]
  name:
  - ConsumedLCUs
- namespace: AWS/ApplicationELB
  resource_type: elasticloadbalancing
  statistic: ["Maximum"]
  name:
  - HealthyHostCount
  - UnHealthyHostCount
- namespace: AWS/NetworkELB
  resource_type: elasticloadbalancing
  statistic: ["Average"]
  name:
  - ActiveFlowCount
  - ActiveFlowCount_TCP
  - ActiveFlowCount_TLS
  - ActiveFlowCount_UDP
  - ConsumedLCUs
  - ConsumedLCUs_TCP
  - ConsumedLCUs_TLS
  - ConsumedLCUs_UDP
- namespace: AWS/NetworkELB
  resource_type: elasticloadbalancing
  statistic: ["Sum"]
  name:
  - ClientTLSNegotiationErrorCount
  - NewFlowCount
  - NewFlowCount_TLS
  - NewFlowCount_TCP
  - NewFlowCount_UDP
  - ProcessedBytes
  - ProcessedBytes_TCP
  - ProcessedBytes_TLS
  - ProcessedBytes_UDP
  - TargetTLSNegotiationErrorCount
  - TCP_Client_Reset_Count
  - TCP_ELB_Reset_Count
  - TCP_Target_Reset_Count
- namespace: AWS/NetworkELB
  resource_type: elasticloadbalancing
  statistic: ["Maximum"]
  name:
  - HealthyHostCount
  - UnHealthyHostCount