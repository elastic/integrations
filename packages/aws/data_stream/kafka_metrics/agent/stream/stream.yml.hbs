metricsets: ["cloudwatch"]
period: {{period}}
{{#if data_granularity}}
data_granularity: {{data_granularity}}
{{/if}}
{{#if include_linked_accounts}}
include_linked_accounts: {{include_linked_accounts}}
{{/if}}
{{#if access_key_id}}
access_key_id: {{access_key_id}}
{{/if}}
{{#if secret_access_key}}
secret_access_key: {{secret_access_key}}
{{/if}}
{{#if session_token}}
session_token: {{session_token}}
{{/if}}
{{#if credential_profile_name}}
credential_profile_name: {{credential_profile_name}}
{{/if}}
{{#if shared_credential_file}}
shared_credential_file: {{shared_credential_file}}
{{/if}}
{{#if role_arn}}
role_arn: {{role_arn}}
{{/if}}
{{#if default_region}}
default_region: {{default_region}}
{{/if}}
{{#if regions}}
regions:
{{#each regions as |region i|}}
- {{region}}
{{/each}}
{{/if}}
{{#if latency}}
latency: {{latency}}
{{/if}}
{{#if tags_filter}}
tags_filter: {{tags_filter}}
{{/if}}
{{#if proxy_url }}
proxy_url: {{proxy_url}}
{{/if}}
metrics:
- namespace: AWS/Kafka
  resource_type: kafka
  statistic: ["Sum"]
  name:
  - ActiveControllerCount
  - ClientConnectionCount
  - ConnectionCount
  - GlobalPartitionCount
  - GlobalTopicCount
  - LeaderCount
  - NetworkRxDropped
  - NetworkRxErrors
  - NetworkRxPackets
  - NetworkTxDropped
  - NetworkTxErrors
  - NetworkTxPackets
  - MaxOffsetLag
- namespace: AWS/Kafka
  resource_type: kafka
  statistic: ["Average"]
  name:
  - BurstBalance
  - BytesInPerSec
  - BytesOutPerSec
  - CPUCreditBalance
  - CpuIdle
  - CpuIoWait
  - CpuSystem
  - CpuUser
  - EstimatedMaxTimeLag
  - KafkaAppLogsDiskUsed
  - KafkaDataLogsDiskUsed
  - LeaderCount
  - MaxOffsetLag
  - MemoryBuffered
  - MemoryCached
  - MemoryFree
  - HeapMemoryAfterGC
  - MemoryUsed
  - MessagesInPerSec
  - OfflinePartitionsCount
  - PartitionCount
  - ProduceTotalTimeMsMean
  - RequestBytesMean
  - RequestTime
  - RootDiskUsed
  - SumOffsetLag
  - SwapFree
  - SwapUsed
  - TrafficShaping
  - UnderMinIsrPartitionCount
  - UnderReplicatedPartitions
  - ZooKeeperRequestLatencyMsMean
