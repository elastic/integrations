{{#if connection_string}}
connection_string: {{connection_string}}
{{/if}}
{{#if storage_account_container }}
storage_account_container: {{storage_account_container}}
{{else}}
{{#if eventhub}}
storage_account_container: azure-eventhub-input-{{eventhub}}
{{/if}}
{{/if}}
{{#if eventhub}}
eventhub: {{eventhub}}
{{/if}}
{{#if consumer_group}}
consumer_group: {{consumer_group}}
{{/if}}
{{#if storage_account}}
storage_account: {{storage_account}}
{{/if}}
{{#if storage_account_key}}
storage_account_key: {{storage_account_key}}
{{$if endpoint_suffix}}
storage_account_connection_string: DefaultEndpointsProtocol=https;AccountName={{storage_account}};AccountKey={{storage_account_key}};EndpointSuffix={{endpoint_suffix}}
{{else}}
storage_account_connection_string: DefaultEndpointsProtocol=https;AccountName={{storage_account}};AccountKey={{storage_account_key}};EndpointSuffix=core.windows.net
{{/if }}
{{/if}}
{{#if pipeline}}
pipeline: {{pipeline}}
{{/if}}
{{#if resource_manager_endpoint}}
resource_manager_endpoint: {{resource_manager_endpoint}}
{{/if}}
data_stream:
    dataset: {{data_stream.dataset}}

{{#if processor_version}}
processor_version: {{processor_version}}
{{/if}}
{{#if migrate_checkpoint}}
migrate_checkpoint: {{migrate_checkpoint}}
{{/if}}
{{#if processor_update_interval}}
processor_update_interval: {{processor_update_interval}}
{{/if}}
{{#if processor_start_position}}
processor_start_position: {{processor_start_position}}
{{/if}}
{{#if partition_receive_timeout}}
partition_receive_timeout: {{partition_receive_timeout}}
{{/if}}
{{#if partition_receive_count}}
partition_receive_count: {{partition_receive_count}}
{{/if}}

tags:
{{#if preserve_original_event}}
  - preserve_original_event
{{/if}}
{{#each tags as |tag i|}}
  - {{tag}}
{{/each}}
{{#contains "forwarded" tags}}
publisher_pipeline.disable_host: true
{{/contains}}
{{#if processors}}
processors:
{{processors}}
{{/if}}
sanitize_options:
{{#if sanitize_newlines}}
  - NEW_LINES
{{/if}}
{{#if sanitize_singlequotes}}
  - SINGLE_QUOTES
{{/if}}