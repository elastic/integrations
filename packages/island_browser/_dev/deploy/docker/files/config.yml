rules:
  - path: /api/external/v1/users
    methods: ['GET']
    query_params:
      Offset: 0
      Limit: 2
    responses:
      - status_code: 200
        body: |
          {{ minify_json `
          {
            "users": [
              {
                "id": "f3d9a7c8-42b1-4f19-9b51-8a3c56e6d912",
                "createdDate": "2025-08-15T10:30:00Z",
                "updatedDate": "2025-08-18T14:45:00Z",
                "tenantId": "acme-tenant-001",
                "userId": "user-12345",
                "userType": "Management",
                "userStatus": "Active",
                "groups": [
                  "Admins",
                  "Security"
                ],
                "connectionName": "AzureAD",
                "allowedTenantsIds": [
                  "acme-tenant-001",
                  "partner-tenant-002"
                ],
                "firstName": "John",
                "lastName": "Doe",
                "email": "john.doe@example.com",
                "lastLogin": "2025-08-18T14:40:10Z",
                "lastSeen": "2025-08-18T14:41:55Z",
                "invitationDate": "2025-08-10T09:00:00Z",
                "expirationDate": null,
                "emailVerified": true,
                "userSource": "Email",
                "claims": {},
                "scimId": null
              },
              {
                "id": "f3d9a7c8-42b1-4f19-9b51-8a3c56e6d913",
                "createdDate": "2025-08-15T10:30:01Z",
                "updatedDate": "2025-08-18T14:45:01Z",
                "tenantId": "acme-tenant-002",
                "userId": "user-1234",
                "userType": "Browser",
                "userStatus": "Invited",
                "groups": [
                  "Admins",
                  "Security"
                ],
                "connectionName": "AzureAD",
                "allowedTenantsIds": [
                  "acme-tenant-002",
                  "partner-tenant-003"
                ],
                "firstName": "Clerk",
                "lastName": "Doe",
                "email": "clerk.doe@example.com",
                "lastLogin": "2025-08-18T14:40:20Z",
                "lastSeen": "2025-08-18T14:41:56Z",
                "invitationDate": "2025-08-10T09:00:00Z",
                "expirationDate": null,
                "emailVerified": true,
                "userSource": "Idp",
                "claims": {},
                "scimId": null
              }
            ]
          }
          `}}
  - path: /api/external/v1/users
    methods: ['GET']
    query_params:
      Offset: 2
      Limit: 2
    responses:
      - status_code: 200
        body: |
          {{ minify_json `
          {
            "users": [
              {
                "id": "f3d9a7c8-42b1-4f19-9b51-8a3c56e6d929",
                "createdDate": "2025-08-15T10:30:01Z",
                "updatedDate": "2025-08-18T14:45:01Z",
                "tenantId": "acme-tenant-002",
                "userId": "user-1234",
                "userType": "Management",
                "userStatus": "BlockedSuspicious",
                "groups": [
                  "Admins",
                  "Security"
                ],
                "connectionName": "AzureAD",
                "allowedTenantsIds": [
                  "acme-tenant-002",
                  "partner-tenant-003"
                ],
                "firstName": "Richard",
                "lastName": "Smith",
                "email": "richard.Smith@example.com",
                "lastLogin": "2025-08-18T14:40:20Z",
                "lastSeen": "2025-08-18T14:41:56Z",
                "invitationDate": "2025-08-10T09:00:00Z",
                "expirationDate": null,
                "emailVerified": true,
                "userSource": "External",
                "claims": {},
                "scimId": null
              },
              {
                "id": "a8e5b2f1-73c4-4d28-8f67-1b9e4a5c7d84",
                "createdDate": "2025-08-27T07:09:49Z",
                "updatedDate": "2025-08-27T07:09:49Z",
                "tenantId": "acme-tenant-003",
                "userId": "user-67890",
                "userType": "Browser",
                "userStatus": "BlockedAcknowledged",
                "groups": [
                  "Users",
                  "Analytics"
                ],
                "connectionName": "GoogleSSO",
                "allowedTenantsIds": [
                  "acme-tenant-003",
                  "partner-tenant-004"
                ],
                "firstName": "Sarah",
                "lastName": "Connor",
                "email": "sarah.connor@example.com",
                "lastLogin": "2025-08-27T07:05:30Z",
                "lastSeen": "2025-08-27T07:09:45Z",
                "invitationDate": "2025-08-20T11:15:00Z",
                "expirationDate": null,
                "emailVerified": true,
                "userSource": "Email",
                "claims": {},
                "scimId": null
              }
            ]
          }
          `}}
  - path: /api/external/v1/users
    methods: ['GET']
    query_params:
      Offset: 4
      Limit: 2
    responses:
      - status_code: 200
        body: |
          {{ minify_json `
          {
            "users": [
              {
                "id": "c7f3e9d2-85a6-4b17-9c42-3e8f1a6b9d75",
                "createdDate": "2025-08-27T07:09:50Z",
                "updatedDate": "2025-08-27T07:09:50Z",
                "tenantId": "acme-tenant-004",
                "userId": "user-54321",
                "userType": "Management",
                "userStatus": "Subscribed",
                "groups": [
                  "Managers",
                  "Finance"
                ],
                "connectionName": "OKTA",
                "allowedTenantsIds": [
                  "acme-tenant-004"
                ],
                "firstName": "Michael",
                "lastName": "Smith",
                "email": "michael.smith@example.com",
                "lastLogin": null,
                "lastSeen": null,
                "invitationDate": "2025-08-27T07:00:00Z",
                "expirationDate": "2025-09-27T07:00:00Z",
                "emailVerified": false,
                "userSource": "GroupToken",
                "claims": {},
                "scimId": "scim-98765"
              }
            ]
          }
          `}}
  - path: /api/external/v1/users
    methods: ['GET']
    query_params:
      Offset: 5
      Limit: 2
    responses:
      - status_code: 200
        body: |
          {{ minify_json `
          {
            "users": []
          }
          `}}
