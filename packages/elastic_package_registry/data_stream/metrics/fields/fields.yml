- name: package_registry.labels
  type: group
  fields:
    - name: job
      type: keyword
    - name: instance
      type: keyword
      description: Elastic Package Registry instance
    - name: component
      type: keyword
      description: Component type of the storage (statics, artifacts, signature...)
    - name: location
      type: keyword
      description: Storage location (remote or local)
    - name: code
      type: keyword
      description: HTTP Code
    - name: method
      type: keyword
      description: HTTP method
    - name: path
      type: keyword
      description: Path of the HTTP request.
    - name: version
      type: keyword
      description: Elastic Package Registry version.
- name: package_registry.up.value
  type: short
  description: >
    Monitoring up metric

- name: package_registry.epr_service_info.value
  type: short
  description: >
    Version information about Elastic Package Registry

- name: package_registry.epr_http_requests_total.counter
  type: long
  description: >
    Counter for requests to the http server

- name: package_registry.epr_storage_requests_total.counter
  type: long
  description: >
    Counter for requests performed to the storage

- name: package_registry.epr_http_request_duration_seconds.histogram
  type: histogram
  description: >
    A histogram of latencies for requests to the http server

- name: package_registry.epr_http_request_duration_seconds.histogram.counts
  type: long
  description: >
    Counters of the histogram of latencies for requests to the http server

- name: package_registry.epr_http_request_duration_seconds.histogram.values
  type: double
  description: >
    Bucket values of the histogram of latencies for requests to the http server

- name: package_registry.epr_http_request_size_bytes.histogram
  type: histogram
  description: >
    A histogram of sizes of requests to the http server

- name: package_registry.epr_http_request_size_bytes.histogram.counts
  type: histogram
  description: >
    Counters of the histogram of sizes of requests to the http server

- name: package_registry.epr_http_request_size_bytes.histogram.values
  type: histogram
  description: >
    Bucket values of the histogram of sizes of requests to the http server

- name: package_registry.epr_http_response_size_bytes.histogram
  type: histogram
  description: >
    A histogram of response sizes for requests to the http server

- name: package_registry.epr_http_response_size_bytes.histogram.counts
  type: histogram
  description: >
    Counters fo the histogram of response sizes for requests to the http server

- name: package_registry.epr_http_response_size_bytes.histogram.values
  type: histogram
  description: >
    Bucket values of the the histogram of response sizes for requests to the http server

- name: package_registry.epr_in_flight_requests.value
  type: double
  description: >
    Requests currently being served by the http server

- name: package_registry.epr_number_indexed_packages.value
  type: integer
  description: >
    Number of indexed packages

- name: package_registry.epr_storage_indexer_get_duration_seconds.histogram
  type: histogram
  description: >
    A histogram of latencies for get processes run by the indexer

- name: package_registry.epr_storage_indexer_get_duration_seconds.histogram.counts
  type: histogram
  description: >
    Counters of the histogram of latencies for get processes run by the indexer

- name: package_registry.epr_storage_indexer_get_duration_seconds.histogram.values
  type: histogram
  description: >
    Bucket values of the histogram of latencies for get processes run by the indexer

- name: package_registry.epr_storage_indexer_update_index_duration_seconds.histogram
  type: histogram
  description: >
    A histogram of latencies for update index processes run by the indexer

- name: package_registry.epr_storage_indexer_update_index_duration_seconds.histogram.counts
  type: histogram
  description: >
    Counters of the histogram of latencies for update index processes run by the indexer

- name: package_registry.epr_storage_indexer_update_index_duration_seconds.histogram.values
  type: histogram
  description: >
    Bucket values of the histogram of latencies for update index processes run by the indexer

- name: package_registry.epr_storage_indexer_update_index_error_total.counter
  type: long
  description: >
    A counter for all the update index processes that finished with error

- name: package_registry.epr_storage_indexer_update_index_success_total.counter
  type: long
  description: >
    A counter for all the update index processes that finished with error

- name: package_registry.process_cpu_seconds_total.counter
  type: double
  description: >
    Total user and system CPU time spent in seconds

- name: package_registry.process_max_fds.value
  type: double
  description: >
    Maximum number of open file descriptors

- name: package_registry.process_open_fds.value
  type: double
  description: >
    Number of open file descriptors

- name: package_registry.process_resident_memory_bytes.value
  type: double
  description: >
    Resident memory size in bytes

- name: package_registry.process_start_time_seconds.value
  type: double
  description: >
    Start time of the process since unix epoch in seconds

- name: package_registry.process_virtual_memory_bytes.value
  type: double
  description: >
    Virtual memory size in bytes

- name: package_registry.process_virtual_memory_max_bytes.value
  type: double
  description: >
    Maximum amount of virtual memory available in bytes

