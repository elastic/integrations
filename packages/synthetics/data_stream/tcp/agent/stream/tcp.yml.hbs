__ui: {{__ui}}
type: {{type}}
name: {{name}}
{{#if id}}
id: {{id}}
{{/if}}
{{#if origin}}
origin: {{origin}}
{{/if}}
{{#if location_name}}
run_from.id: {{location_name}}
{{/if}}
enabled: {{enabled}}
hosts: {{hosts}}
{{#if service.name}}
service.name: {{service.name}}
{{/if}}
schedule: {{schedule}}
timeout: {{timeout}}
{{#if proxy_url}}
proxy_url: {{proxy_url}}
{{/if}}
proxy_use_local_resolver: {{proxy_use_local_resolver}}
{{#if tags}}
tags: {{tags}}
{{/if}}
{{#if check.send}}
check.send: {{check.send}}
{{/if}}
{{#if check.receive}}
check.receive: {{check.receive}}
{{/if}}
{{#if ssl.certificate}}
ssl.certificate: {{ssl.certificate}}
{{/if}}
{{#if ssl.certificate_authorities}}
ssl.certificate_authorities: {{ssl.certificate_authorities}}
{{/if}}
{{#if ssl.key}}
ssl.key: {{ssl.key}}
{{/if}}
{{#if ssl.key_passphrase}}
ssl.key_passphrase: {{ssl.key_passphrase}}
{{/if}}
{{#if ssl.verification_mode}}
ssl.verification_mode: {{ssl.verification_mode}}
{{/if}}
{{#if ssl.supported_protocols}}
ssl.supported_protocols: {{ssl.supported_protocols}}
{{/if}}
processors:
  - add_observer_metadata:
      geo: 
        name: {{location_name}}
  - add_fields:
      target: ''
      fields:
        monitor.fleet_managed: true
        {{#if config_id}}
        config_id: {{config_id}}
        {{/if}}
        {{#if run_once}}
        run_once: {{run_once}}
        {{/if}}
        {{#if monitor.project.name}}
        monitor.project.name: {{monitor.project.name}}
        {{/if}}
        {{#if monitor.project.id}}
        monitor.project.id: {{monitor.project.id}}
        {{/if}}