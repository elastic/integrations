format_version: 2.0.0
name: sql
title: "SQL Input"
version: 0.0.1
description: "Collects Metrics by Quering on SQL Databases"
type: input
categories:
  - custom
conditions:
  kibana.version: "^8.5.0"
  elastic.subscription: "basic"
policy_templates:
  - name: sql
    type: metrics
    title: SQL Metrics
    description: Collects Metrics by Quering on SQL Databases
    input: sql/metrics
    template_path: input.yml.hbs
    vars:
      - name: hosts
        type: text
        title: Hosts
        multi: true
        required: true
        show_user: true
        default:
          - root:test@tcp(127.0.0.1:3306)/
      - name: period
        type: text
        title: Period
        default: 10s
      - name: driver
        type: text
        title: Driver
        multi: false
        required: true
        show_user: true
        default: "mysql"
      - name: sql_queries
        type: yaml
        title: SQL Queries
        multi: false
        required: true
        show_user: true
        default: |   
         - query: SHOW GLOBAL STATUS LIKE 'Innodb_system%'
           response_format: variables
                 
owner:
  github: elastic/obs-service-integrations