format_version: 3.4.0
name: statsd_input
title: StatsD Input
version: "1.0.0"
description: StatsD Input Package
type: input
categories:
  - observability
  - custom
conditions:
  kibana:
    version: "^8.13.0 || ^9.0.0"
  elastic:
    subscription: "basic"
icons:
  - src: /img/statsd.svg
    title: statsd
    size: 266x266
    type: image/svg+xml
policy_templates:
  - name: statsd
    type: metrics
    title: StatsD Metrics
    description: Collect metrics from StatsD instances
    input: statsd/metrics
    template_path: input.yml.hbs
    vars:
      - name: listen_address
        type: text
        title: Listen Address
        description: |
          Bind address for the listener. Use 0.0.0.0 to listen on all interfaces.
        required: true
        show_user: true
        default: localhost
      - name: listen_port
        type: text
        title: Listen Port
        description: |
          Bind port for the listener.
        required: true
        show_user: true
        default: 8125
      - name: ttl
        type: text
        title: TTL
        description: |
          It defines how long a metric will be reported after it was last recorded. Irrespective of the given ttl, metrics will be reported at least once. A ttl of zero means metrics will never expire.
        required: true
        show_user: false
        default: 30s
      - name: statsd.mappings
        type: yaml
        title: StatsD metric mappings
        description: |
          It defines how metrics will mapped from the original metric label to the event json.
        required: false
        show_user: false
        default: |
          # - metric: 'ti_failures'
          #   value:
          #     field: task_failures
          # - metric: '<job_name>_start'
          #   labels:
          #     - attr: job_name
          #       field: job_name
          #   value:
          #     field: started
owner:
  github: elastic/obs-infraobs-integrations
  type: elastic
