deployer: docker
service: gcs-mock-service
input: gcs
vars:
data_stream:
  vars:
    project_id: fake-gcs-project
    alternative_host: "http://{{Hostname}}:{{Port}}"
    number_of_workers: 1
    poll: true
    poll_interval: 15s
    service_account_key: |
      {
        "type": "service_account",
        "project_id": "fake-gcs-project",
        "private_key_id": "a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2",
        "private_key": "-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQDLG1W45M5A25x/\n... (fake key data) ...\nB00//FFAohg=\n-----END PRIVATE KEY-----\n",
        "client_email": "fake-service-account@fake-gcs-project.iam.gserviceaccount.com",
        "client_id": "123456789012345678901",
        "auth_uri": "https://accounts.google.com/o/oauth2/auth",
        "token_uri": "https://oauth2.googleapis.com/token",
        "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
        "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/fake-service-account%40fake-gcs-project.iam.gserviceaccount.com"
      }
    buckets: |
      - name: testbucket
assert:
  hit_count: 3
