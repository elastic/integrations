format_version: 3.1.2
name: kubernetes
title: Kubernetes
version: 1.61.0
description: Collect logs and metrics from Kubernetes clusters with Elastic Agent.
type: integration
categories:
  - observability
  - containers
  - kubernetes
conditions:
  kibana:
    version: "^8.14.0"
screenshots:
  - src: /img/metricbeat_kubernetes_overview.png
    title: Metricbeat Kubernetes Overview
    size: 1896x961
    type: image/png
icons:
  - src: /img/logo_kubernetes.svg
    title: Logo Kubernetes
    size: 32x32
    type: image/svg+xml
policy_templates:
  - name: events
    title: Kubernetes Event Metrics
    description: Collect events related metrics from Kubernetes API server with Elastic Agent.
    data_streams:
      - event
    inputs:
      - type: kubernetes/metrics
        title: Kubernetes Event Metrics
        description: Collecting events from Kubernetes API Server.
        input_group: metrics
    icons:
      - src: /img/logo_kubernetes.svg
        title: Logo Kubernetes
        size: 32x32
        type: image/svg+xml
    screenshots:
      - src: /img/metricbeat_kubernetes_overview.png
        title: Metricbeat Kubernetes Overview
        size: 1896x961
        type: image/png
  - name: logs
    title: Logs
    description: Collect container related logs and audit logs with Elastic Agent.
    data_streams:
      - container_logs
      - audit_logs
    inputs:
      - type: filestream
        title: Container logs
        description: Collecting Kubernetes container and audit logs.
    icons:
      - src: /img/logo_kubernetes.svg
        title: Logo Kubernetes
        size: 32x32
        type: image/svg+xml
    screenshots:
      - src: /img/metricbeat_kubernetes_overview.png
        title: Metricbeat Kubernetes Overview
        size: 1896x961
        type: image/png
  - name: container
    title: Container Metrics
    description: Collect metrics for containers with Elastic Agent. It includes metrics from Kubernetes Kubelet API and from Kube-state-metrics.
    data_streams:
      - container
      - state_container
    inputs:
      - type: kubernetes/metrics
        title: Container Metrics
        description: Collecting Container metrics from Kubernetes Kubelet API and kube-state-metrics.
        input_group: metrics
        vars:
          - name: condition
            title: Condition
            description: |
              Condition to filter when to collect this input. See [Dynamic Input Configuration](https://www.elastic.co/guide/en/fleet/current/dynamic-input-configuration.html) for details.
              Note: This condition value will be appended to the individual metric condition values by an "and" clause if defined.
            type: text
            multi: false
            required: false
            show_user: false
    icons:
      - src: /img/logo_kubernetes.svg
        title: Logo Kubernetes
        size: 32x32
        type: image/svg+xml
    screenshots:
      - src: /img/metricbeat_kubernetes_overview.png
        title: Metricbeat Kubernetes Overview
        size: 1896x961
        type: image/png
  - name: workload
    title: Workload Metrics
    description: Collect workload related metrics with Elastic Agent. It includes metrics from Kubernetes Kubelet API and from Kube-state-metrics.
    data_streams:
      - pod
      - state_pod
      - state_cronjob
      - state_job
      - state_daemonset
      - state_deployment
      - state_replicaset
      - state_statefulset
    inputs:
      - type: kubernetes/metrics
        title: Pod Metrics
        description: Collecting Pod metrics from Kubernetes Kubelet API and kube-state-metrics.
        input_group: metrics
        vars:
          - name: condition
            title: Condition
            description: |
              Condition to filter when to collect this input. See [Dynamic Input Configuration](https://www.elastic.co/guide/en/fleet/current/dynamic-input-configuration.html) for details.
              Note: This condition value will be appended to the individual metric condition values by an "and" clause if defined.
            type: text
            multi: false
            required: false
            show_user: false
    icons:
      - src: /img/logo_kubernetes.svg
        title: Logo Kubernetes
        size: 32x32
        type: image/svg+xml
    screenshots:
      - src: /img/metricbeat_kubernetes_overview.png
        title: Metricbeat Kubernetes Overview
        size: 1896x961
        type: image/png
  - name: node
    title: Node Metrics
    description: Collect metrics for node with Elastic Agent. It includes metrics from Kubernetes Kubelet API and from Kube-state-metrics.
    data_streams:
      - node
      - state_node
    inputs:
      - type: kubernetes/metrics
        title: Node Metrics
        description: Collecting Node metrics from Kubernetes Kubelet API and kube-state-metrics.
        input_group: metrics
        vars:
          - name: condition
            title: Condition
            description: |
              Condition to filter when to collect this input. See [Dynamic Input Configuration](https://www.elastic.co/guide/en/fleet/current/dynamic-input-configuration.html) for details.
              Note: This condition value will be appended to the individual metric condition values by an "and" clause if defined.
            type: text
            multi: false
            required: false
            show_user: false
    icons:
      - src: /img/logo_kubernetes.svg
        title: Logo Kubernetes
        size: 32x32
        type: image/svg+xml
    screenshots:
      - src: /img/metricbeat_kubernetes_overview.png
        title: Metricbeat Kubernetes Overview
        size: 1896x961
        type: image/png
  - name: Storage
    title: Storage Metrics
    description: Collect storage metrics with Elastic Agent. It includes metrics from Kubernetes Kubelet API and from Kube-state-metrics.
    data_streams:
      - volume
      - state_persistentvolume
      - state_persistentvolumeclaim
      - state_storageclass
    inputs:
      - type: kubernetes/metrics
        title: Storage Metrics
        description: Collecting Storage metrics from Kubernetes Kubelet API and kube-state-metrics.
        input_group: metrics
        vars:
          - name: condition
            title: Condition
            description: |
              Condition to filter when to collect this input. See [Dynamic Input Configuration](https://www.elastic.co/guide/en/fleet/current/dynamic-input-configuration.html) for details.
              Note: This condition value will be appended to the individual metric condition values by an "and" clause if defined.
            type: text
            multi: false
            required: false
            show_user: false
    icons:
      - src: /img/logo_kubernetes.svg
        title: Logo Kubernetes
        size: 32x32
        type: image/svg+xml
    screenshots:
      - src: /img/metricbeat_kubernetes_overview.png
        title: Metricbeat Kubernetes Overview
        size: 1896x961
        type: image/png
  - name: component-metrics
    title: Kubernetes component metrics
    description: Collect kubernetes component metrics with Elastic Agent.
    data_streams:
      - apiserver
      - proxy
      - scheduler
      - controllermanager
      - system
    inputs:
      - type: kubernetes/metrics
        title: Component Metrics
        description: Collecting kubernetes component metrics (Kube-apiserver, Kube-proxy, kube-scheduler, Kube-controller-manager) and System container metrics from Kubernetes Kubelet API.
        input_group: metrics
    icons:
      - src: /img/logo_kubernetes.svg
        title: Logo Kubernetes
        size: 32x32
        type: image/svg+xml
    screenshots:
      - src: /img/metricbeat_kubernetes_overview.png
        title: Metricbeat Kubernetes Overview
        size: 1896x961
        type: image/png
  - name: state-namespace
    title: Namespace metrics
    description: Collect namespace metrics with Elastic Agent. It uses Kube-state-metrics.
    data_streams:
      - state_namespace
    inputs:
      - type: kubernetes/metrics
        title: Namespace Metrics
        description: Collecting namespace metrics from kube-state-metrics
        input_group: metrics
        vars:
          - name: condition
            title: Condition
            description: Condition to filter when to collect this input. See [Dynamic Input Configuration](https://www.elastic.co/guide/en/fleet/current/dynamic-input-configuration.html) for details.
            type: text
            multi: false
            required: false
            show_user: false
    icons:
      - src: /img/logo_kubernetes.svg
        title: Logo Kubernetes
        size: 32x32
        type: image/svg+xml
    screenshots:
      - src: /img/metricbeat_kubernetes_overview.png
        title: Metricbeat Kubernetes Overview
        size: 1896x961
        type: image/png
  - name: state-resourcequota
    title: Resourcequota metrics
    description: Collect resourcequota metrics with Elastic Agent. It uses Kube-state-metrics.
    data_streams:
      - state_resourcequota
    inputs:
      - type: kubernetes/metrics
        title: Resourcequota Metrics
        description: Collecting resourcequota metrics from kube-state-metrics
        input_group: metrics
        vars:
          - name: condition
            title: Condition
            description: Condition to filter when to collect this input. See [Dynamic Input Configuration](https://www.elastic.co/guide/en/fleet/current/dynamic-input-configuration.html) for details.
            type: text
            multi: false
            required: false
            show_user: false
    icons:
      - src: /img/logo_kubernetes.svg
        title: Logo Kubernetes
        size: 32x32
        type: image/svg+xml
    screenshots:
      - src: /img/metricbeat_kubernetes_overview.png
        title: Metricbeat Kubernetes Overview
        size: 1896x961
        type: image/png
  - name: state-service
    title: Service metrics
    description: Collect service metrics with Elastic Agent. It uses Kube-state-metrics.
    data_streams:
      - state_service
    inputs:
      - type: kubernetes/metrics
        title: Service Metrics
        description: Collecting service metrics from kube-state-metrics 
        input_group: metrics
        vars:
          - name: condition
            title: Condition
            description: Condition to filter when to collect this input. See [Dynamic Input Configuration](https://www.elastic.co/guide/en/fleet/current/dynamic-input-configuration.html) for details.
            type: text
            multi: false
            required: false
            show_user: false
    icons:
      - src: /img/logo_kubernetes.svg
        title: Logo Kubernetes
        size: 32x32
        type: image/svg+xml
    screenshots:
      - src: /img/metricbeat_kubernetes_overview.png
        title: Metricbeat Kubernetes Overview
        size: 1896x961
        type: image/png
owner:
  github: elastic/obs-cloudnative-monitoring
  type: elastic
