{
    "attributes": {
        "controlGroupInput": {
            "chainingSystem": "HIERARCHICAL",
            "controlStyle": "oneLine",
            "ignoreParentSettingsJSON": {
                "ignoreFilters": false,
                "ignoreQuery": false,
                "ignoreTimerange": false,
                "ignoreValidations": false
            },
            "panelsJSON": {
                "adef11a4-fc89-48e2-9008-1d327a67b704": {
                    "explicitInput": {
                        "dataViewId": "metrics-*",
                        "exclude": false,
                        "existsSelected": false,
                        "fieldName": "aws.dimensions.Resource",
                        "searchTechnique": "prefix",
                        "selectedOptions": [],
                        "sort": {
                            "by": "_count",
                            "direction": "desc"
                        },
                        "title": "Resource"
                    },
                    "grow": false,
                    "order": 2,
                    "type": "optionsListControl",
                    "width": "medium"
                },
                "be3cd122-d633-4eee-a60c-2206df0976d4": {
                    "explicitInput": {
                        "dataViewId": "metrics-*",
                        "exclude": false,
                        "existsSelected": false,
                        "fieldName": "cloud.account.id",
                        "searchTechnique": "prefix",
                        "selectedOptions": [],
                        "sort": {
                            "by": "_count",
                            "direction": "desc"
                        },
                        "title": "AWS Account"
                    },
                    "grow": false,
                    "order": 0,
                    "type": "optionsListControl",
                    "width": "medium"
                },
                "d3e2b7be-7907-4c13-9391-309d8e4b6311": {
                    "explicitInput": {
                        "dataViewId": "metrics-*",
                        "exclude": false,
                        "existsSelected": false,
                        "fieldName": "cloud.region",
                        "searchTechnique": "prefix",
                        "selectedOptions": [],
                        "sort": {
                            "by": "_count",
                            "direction": "desc"
                        },
                        "title": "AWS Region"
                    },
                    "grow": false,
                    "order": 1,
                    "type": "optionsListControl",
                    "width": "medium"
                }
            },
            "showApplySelections": false
        },
        "description": "Agentcore code interpreter dashboard showcasing session management, code execution performance, and operational health.",
        "kibanaSavedObjectMeta": {
            "searchSourceJSON": {
                "filter": [
                    {
                        "$state": {
                            "store": "appState"
                        },
                        "meta": {
                            "alias": "Dataset filter",
                            "disabled": false,
                            "field": "data_stream.dataset",
                            "indexRefName": "kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index",
                            "key": "data_stream.dataset",
                            "negate": false,
                            "params": {
                                "query": "aws_bedrock_agentcore.metrics"
                            },
                            "type": "phrase"
                        },
                        "query": {
                            "match_phrase": {
                                "data_stream.dataset": "aws_bedrock_agentcore.metrics"
                            }
                        }
                    },
                    {
                        "$state": {
                            "store": "appState"
                        },
                        "meta": {
                            "alias": "Code interpreter operations",
                            "disabled": false,
                            "field": "aws.dimensions.Operation",
                            "indexRefName": "kibanaSavedObjectMeta.searchSourceJSON.filter[1].meta.index",
                            "key": "aws.dimensions.Operation",
                            "negate": false,
                            "params": [
                                "InvokeCodeInterpreter",
                                "StartCodeInterpreterSession",
                                "CodeInterpreterSession",
                                "StopCodeInterpreterSession",
                                "ListCodeInterpreterSessions"
                            ],
                            "type": "phrases"
                        },
                        "query": {
                            "bool": {
                                "minimum_should_match": 1,
                                "should": [
                                    {
                                        "match_phrase": {
                                            "aws.dimensions.Operation": "InvokeCodeInterpreter"
                                        }
                                    },
                                    {
                                        "match_phrase": {
                                            "aws.dimensions.Operation": "StartCodeInterpreterSession"
                                        }
                                    },
                                    {
                                        "match_phrase": {
                                            "aws.dimensions.Operation": "CodeInterpreterSession"
                                        }
                                    },
                                    {
                                        "match_phrase": {
                                            "aws.dimensions.Operation": "StopCodeInterpreterSession"
                                        }
                                    },
                                    {
                                        "match_phrase": {
                                            "aws.dimensions.Operation": "ListCodeInterpreterSessions"
                                        }
                                    }
                                ]
                            }
                        }
                    }
                ],
                "query": {
                    "language": "kuery",
                    "query": ""
                }
            }
        },
        "optionsJSON": {
            "hidePanelTitles": false,
            "syncColors": false,
            "syncCursor": true,
            "syncTooltips": false,
            "useMargins": true
        },
        "panelsJSON": [
            {
                "embeddableConfig": {
                    "attributes": {
                        "layout": "horizontal",
                        "links": [
                            {
                                "destinationRefName": "link_83900b36-2b7c-4d33-a4d5-eb8d8f88fd6a_dashboard",
                                "id": "83900b36-2b7c-4d33-a4d5-eb8d8f88fd6a",
                                "label": "Agentcore runtime",
                                "options": {
                                    "openInNewTab": false,
                                    "useCurrentDateRange": true,
                                    "useCurrentFilters": false
                                },
                                "order": 0,
                                "type": "dashboardLink"
                            },
                            {
                                "destinationRefName": "link_6bfc6abe-352b-4ba0-9074-1f4f42135a06_dashboard",
                                "id": "6bfc6abe-352b-4ba0-9074-1f4f42135a06",
                                "label": "Gateway",
                                "options": {
                                    "openInNewTab": false,
                                    "useCurrentDateRange": true,
                                    "useCurrentFilters": false
                                },
                                "order": 1,
                                "type": "dashboardLink"
                            },
                            {
                                "destinationRefName": "link_22d809c7-154b-49e8-b9d6-99f330e54102_dashboard",
                                "id": "22d809c7-154b-49e8-b9d6-99f330e54102",
                                "label": "Memory",
                                "options": {
                                    "openInNewTab": false,
                                    "useCurrentDateRange": true,
                                    "useCurrentFilters": false
                                },
                                "order": 2,
                                "type": "dashboardLink"
                            },
                            {
                                "destinationRefName": "link_62af6ff1-17cd-42e7-bc72-f274e3b545df_dashboard",
                                "id": "62af6ff1-17cd-42e7-bc72-f274e3b545df",
                                "label": "Identity",
                                "options": {
                                    "openInNewTab": false,
                                    "useCurrentDateRange": true,
                                    "useCurrentFilters": false
                                },
                                "order": 3,
                                "type": "dashboardLink"
                            },
                            {
                                "destinationRefName": "link_eabbeaa5-4de6-4840-828b-20b7dbe2c956_dashboard",
                                "id": "eabbeaa5-4de6-4840-828b-20b7dbe2c956",
                                "label": "Browser",
                                "options": {
                                    "openInNewTab": false,
                                    "useCurrentDateRange": true,
                                    "useCurrentFilters": false
                                },
                                "order": 4,
                                "type": "dashboardLink"
                            },
                            {
                                "destinationRefName": "link_95cc91ad-eb10-492d-8cf9-ce70489c3b97_dashboard",
                                "id": "95cc91ad-eb10-492d-8cf9-ce70489c3b97",
                                "label": "Code interpreter",
                                "options": {
                                    "openInNewTab": false,
                                    "useCurrentDateRange": true,
                                    "useCurrentFilters": false
                                },
                                "order": 5,
                                "type": "dashboardLink"
                            }
                        ]
                    }
                },
                "gridData": {
                    "h": 4,
                    "i": "dff3ffac-e45d-4e53-8a5b-c745ab4ad44c",
                    "w": 48,
                    "x": 0,
                    "y": 0
                },
                "panelIndex": "dff3ffac-e45d-4e53-8a5b-c745ab4ad44c",
                "type": "links"
            },
            {
                "embeddableConfig": {
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "savedVis": {
                        "data": {
                            "aggs": [],
                            "searchSource": {
                                "filter": [],
                                "query": {
                                    "language": "kuery",
                                    "query": ""
                                }
                            }
                        },
                        "description": "",
                        "params": {
                            "fontSize": 12,
                            "markdown": "## Code interpreter\n\nThis dashboard provides insights into the following:\n\n- Code Interpreter session lifecycle metrics including sessions started, stopped, and average duration\n- Code execution monitoring with invocation counts, execution duration, and performance trends\n- Session start operations with duration, errors, and throttle analysis\n- Session stop operations with duration, errors, and throttle analysis\n- Resource-level analytics for identifying top resources by errors across all Code Interpreter operations",
                            "openLinksInNewTab": false
                        },
                        "title": "",
                        "type": "markdown",
                        "uiState": {}
                    }
                },
                "gridData": {
                    "h": 14,
                    "i": "bdffc46e-da34-422e-be59-fcb295816adf",
                    "w": 16,
                    "x": 0,
                    "y": 4
                },
                "panelIndex": "bdffc46e-da34-422e-be59-fcb295816adf",
                "type": "visualization"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "41789e6c-aad3-4e8d-98db-59bba891cb7b": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_invoke_codeinterpreter_session",
                                                    "customLabel": true,
                                                    "fieldName": "sum_invoke_codeinterpreter_session",
                                                    "inMetricDimension": true,
                                                    "label": "Total Invocations",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation == \"InvokeCodeInterpreter\" \n  AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_invoke_codeinterpreter_session = COALESCE(SUM(aws.bedrock_agentcore.metrics.Invocations.sum), 0)"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation == \"InvokeCodeInterpreter\" \n  AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_invoke_codeinterpreter_session = COALESCE(SUM(aws.bedrock_agentcore.metrics.Invocations.sum), 0)"
                            },
                            "visualization": {
                                "color": "#DED3BE",
                                "layerId": "41789e6c-aad3-4e8d-98db-59bba891cb7b",
                                "layerType": "data",
                                "metricAccessor": "sum_invoke_codeinterpreter_session"
                            }
                        },
                        "title": "sum_invoke_codeinterpreter_session",
                        "visualizationType": "lnsMetric"
                    },
                    "description": "Total number of code execution invocations in AWS Bedrock AgentCore Code Interpreter.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": true,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation == \"InvokeCodeInterpreter\" \n  AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_invoke_codeinterpreter_session = COALESCE(SUM(aws.bedrock_agentcore.metrics.Invocations.sum), 0)"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Total Code Interpreter Invocations"
                },
                "gridData": {
                    "h": 7,
                    "i": "056a4645-cfa7-4d0b-8a68-67de44cf5e40",
                    "w": 8,
                    "x": 16,
                    "y": 4
                },
                "panelIndex": "056a4645-cfa7-4d0b-8a68-67de44cf5e40",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "711d560c-7bd1-41da-b93b-93e5421cf144": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_start_codeinterpreter_session",
                                                    "customLabel": true,
                                                    "fieldName": "sum_start_codeinterpreter_session",
                                                    "inMetricDimension": true,
                                                    "label": "Total sessions started",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation == \"StartCodeInterpreterSession\" \n  AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_start_codeinterpreter_session = COALESCE(SUM(aws.bedrock_agentcore.metrics.Invocations.sum), 0)"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation == \"StartCodeInterpreterSession\" \n  AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_start_codeinterpreter_session = COALESCE(SUM(aws.bedrock_agentcore.metrics.Invocations.sum), 0)"
                            },
                            "visualization": {
                                "color": "#B0CED0",
                                "layerId": "711d560c-7bd1-41da-b93b-93e5421cf144",
                                "layerType": "data",
                                "metricAccessor": "sum_start_codeinterpreter_session"
                            }
                        },
                        "title": "sum_start_codeinterpreter_session",
                        "visualizationType": "lnsMetric"
                    },
                    "description": "Total number of Code Interpreter sessions initiated in AWS Bedrock AgentCore.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": true,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation == \"StartCodeInterpreterSession\" \n  AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_start_codeinterpreter_session = COALESCE(SUM(aws.bedrock_agentcore.metrics.Invocations.sum), 0)"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Total Code Interpreter Sessions Started"
                },
                "gridData": {
                    "h": 7,
                    "i": "f762aac2-ad4e-4479-bce9-0bcd06b38e15",
                    "w": 8,
                    "x": 24,
                    "y": 4
                },
                "panelIndex": "f762aac2-ad4e-4479-bce9-0bcd06b38e15",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "2fd69bca-e4d4-43fd-95f9-55b1530019df": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_stop_codeinterpreter_session",
                                                    "customLabel": true,
                                                    "fieldName": "sum_stop_codeinterpreter_session",
                                                    "inMetricDimension": true,
                                                    "label": "Total sessions stopped",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation == \"StopCodeInterpreterSession\" \n  AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_stop_codeinterpreter_session = COALESCE(SUM(aws.bedrock_agentcore.metrics.Invocations.sum), 0)"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation == \"StopCodeInterpreterSession\" \n  AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_stop_codeinterpreter_session = COALESCE(SUM(aws.bedrock_agentcore.metrics.Invocations.sum), 0)"
                            },
                            "visualization": {
                                "color": "#c1b6cf",
                                "layerId": "2fd69bca-e4d4-43fd-95f9-55b1530019df",
                                "layerType": "data",
                                "metricAccessor": "sum_stop_codeinterpreter_session"
                            }
                        },
                        "title": "sum_stop_codeinterpreter_session",
                        "visualizationType": "lnsMetric"
                    },
                    "description": "Total number of Code Interpreter sessions terminated in AWS Bedrock AgentCore.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": true,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation == \"StopCodeInterpreterSession\" \n  AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_stop_codeinterpreter_session = COALESCE(SUM(aws.bedrock_agentcore.metrics.Invocations.sum), 0)"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Total sessions stopped"
                },
                "gridData": {
                    "h": 7,
                    "i": "14ea0af0-cac2-4792-a6bb-02f25603ad32",
                    "w": 8,
                    "x": 32,
                    "y": 4
                },
                "panelIndex": "14ea0af0-cac2-4792-a6bb-02f25603ad32",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "56018ebf-ed75-4ba9-abbe-651d242020e3": {
                                            "columns": [
                                                {
                                                    "columnId": "avg_session_duration",
                                                    "customLabel": true,
                                                    "fieldName": "avg_session_duration",
                                                    "inMetricDimension": true,
                                                    "label": "Average session duration",
                                                    "meta": {
                                                        "esType": "double",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "duration",
                                                            "params": {
                                                                "decimals": 0,
                                                                "fromUnit": "milliseconds"
                                                            }
                                                        }
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation == \"CodeInterpreterSession\" \n  AND aws.dimensions.Resource IS NOT NULL\n| STATS avg_session_duration = COALESCE(AVG(aws.bedrock_agentcore.metrics.Duration.avg), 0)"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation == \"CodeInterpreterSession\" \n  AND aws.dimensions.Resource IS NOT NULL\n| STATS avg_session_duration = COALESCE(AVG(aws.bedrock_agentcore.metrics.Duration.avg), 0)"
                            },
                            "visualization": {
                                "color": "#A6BED5",
                                "layerId": "56018ebf-ed75-4ba9-abbe-651d242020e3",
                                "layerType": "data",
                                "metricAccessor": "avg_session_duration"
                            }
                        },
                        "title": "avg_session_duration",
                        "visualizationType": "lnsMetric"
                    },
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": true,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation == \"CodeInterpreterSession\" \n  AND aws.dimensions.Resource IS NOT NULL\n| STATS avg_session_duration = COALESCE(AVG(aws.bedrock_agentcore.metrics.Duration.avg), 0)"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Average duration"
                },
                "gridData": {
                    "h": 7,
                    "i": "3a7b110c-33bc-481f-8cdd-cc291a803c4d",
                    "w": 8,
                    "x": 40,
                    "y": 4
                },
                "panelIndex": "3a7b110c-33bc-481f-8cdd-cc291a803c4d",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "c8e25c73-bd06-41a7-89ad-476d94333584": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_user_errors",
                                                    "customLabel": true,
                                                    "fieldName": "sum_user_errors",
                                                    "inMetricDimension": true,
                                                    "label": "Total user errors",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation IN  (\"StopCodeInterpreterSession\",\"InvokeCodeInterpreter\", \"StartCodeInterpreterSession\", \"CodeInterpreterSession\", \"ListCodeInterpreterSessions\")\n  AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = SUM(aws.bedrock_agentcore.metrics.UserErrors.sum)"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation IN  (\"StopCodeInterpreterSession\",\"InvokeCodeInterpreter\", \"StartCodeInterpreterSession\", \"CodeInterpreterSession\", \"ListCodeInterpreterSessions\")\n  AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = SUM(aws.bedrock_agentcore.metrics.UserErrors.sum)"
                            },
                            "visualization": {
                                "color": "#d2daa9",
                                "layerId": "c8e25c73-bd06-41a7-89ad-476d94333584",
                                "layerType": "data",
                                "metricAccessor": "sum_user_errors"
                            }
                        },
                        "title": "sum_user_errors",
                        "visualizationType": "lnsMetric"
                    },
                    "description": "Total number of client-side errors across all Code Interpreter operations in AWS Bedrock AgentCore.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": true,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation IN  (\"StopCodeInterpreterSession\",\"InvokeCodeInterpreter\", \"StartCodeInterpreterSession\", \"CodeInterpreterSession\", \"ListCodeInterpreterSessions\")\n  AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = SUM(aws.bedrock_agentcore.metrics.UserErrors.sum)"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Total user errors"
                },
                "gridData": {
                    "h": 7,
                    "i": "d46d6088-8859-4479-8133-0e81a5a7a3ae",
                    "w": 8,
                    "x": 16,
                    "y": 11
                },
                "panelIndex": "d46d6088-8859-4479-8133-0e81a5a7a3ae",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "0fc2cce3-9a66-403d-b788-0c7781e3c97f": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_system_errors",
                                                    "customLabel": true,
                                                    "fieldName": "sum_system_errors",
                                                    "inMetricDimension": true,
                                                    "label": "Total system errors",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation IN  (\"StopCodeInterpreterSession\",\"InvokeCodeInterpreter\", \"StartCodeInterpreterSession\", \"CodeInterpreterSession\", \"ListCodeInterpreterSessions\")\n  AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_system_errors = SUM(aws.bedrock_agentcore.metrics.SystemErrors.sum)"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation IN  (\"StopCodeInterpreterSession\",\"InvokeCodeInterpreter\", \"StartCodeInterpreterSession\", \"CodeInterpreterSession\", \"ListCodeInterpreterSessions\")\n  AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_system_errors = SUM(aws.bedrock_agentcore.metrics.SystemErrors.sum)"
                            },
                            "visualization": {
                                "color": "#d8b2c9",
                                "layerId": "0fc2cce3-9a66-403d-b788-0c7781e3c97f",
                                "layerType": "data",
                                "metricAccessor": "sum_system_errors"
                            }
                        },
                        "title": "sum_system_errors",
                        "visualizationType": "lnsMetric"
                    },
                    "description": "Total number of server-side errors across all Code Interpreter operations in AWS Bedrock AgentCore.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": true,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation IN  (\"StopCodeInterpreterSession\",\"InvokeCodeInterpreter\", \"StartCodeInterpreterSession\", \"CodeInterpreterSession\", \"ListCodeInterpreterSessions\")\n  AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_system_errors = SUM(aws.bedrock_agentcore.metrics.SystemErrors.sum)"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Total system errors"
                },
                "gridData": {
                    "h": 7,
                    "i": "51308d51-808c-4905-a376-fce9eccbe2b0",
                    "w": 8,
                    "x": 24,
                    "y": 11
                },
                "panelIndex": "51308d51-808c-4905-a376-fce9eccbe2b0",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "0b7565be-101b-4f7d-aee4-2d267be19faa": {
                                            "columns": [
                                                {
                                                    "columnId": "avg_session_duration",
                                                    "customLabel": true,
                                                    "fieldName": "avg_session_duration",
                                                    "inMetricDimension": true,
                                                    "label": "Duration",
                                                    "meta": {
                                                        "esType": "double",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "duration",
                                                            "params": {
                                                                "decimals": 2,
                                                                "fromUnit": "milliseconds",
                                                                "toUnit": "humanizePrecise"
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "6cb9b278-3b1c-459d-a399-b94726fa1c7d",
                                                    "fieldName": "@timestamp",
                                                    "label": "@timestamp",
                                                    "meta": {
                                                        "esType": "date",
                                                        "sourceParams": {
                                                            "appliedTimeRange": {
                                                                "from": "2025-12-03T18:30:00.000Z",
                                                                "to": "2025-12-11T11:37:43.749Z"
                                                            },
                                                            "indexPattern": "metrics-aws_bedrock_agentcore.metrics-default",
                                                            "params": {},
                                                            "sourceField": "@timestamp"
                                                        },
                                                        "type": "date"
                                                    }
                                                },
                                                {
                                                    "columnId": "31b9d1d0-e0c1-45e5-8cc4-016fcbb4bf8c",
                                                    "customLabel": true,
                                                    "fieldName": "aws.dimensions.Resource",
                                                    "label": "Resource",
                                                    "meta": {
                                                        "esType": "keyword",
                                                        "sourceParams": {
                                                            "indexPattern": "metrics-aws_bedrock_agentcore.metrics-default",
                                                            "sourceField": "aws.dimensions.Resource"
                                                        },
                                                        "type": "string"
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation == \"CodeInterpreterSession\" \n  AND aws.dimensions.Resource IS NOT NULL\n| STATS avg_session_duration = COALESCE(AVG(aws.bedrock_agentcore.metrics.Duration.avg), 0) BY @timestamp, aws.dimensions.Resource"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation == \"CodeInterpreterSession\" \n  AND aws.dimensions.Resource IS NOT NULL\n| STATS avg_session_duration = COALESCE(AVG(aws.bedrock_agentcore.metrics.Duration.avg), 0) BY @timestamp, aws.dimensions.Resource"
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "avg_session_duration"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "default",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rules": [
                                                        {
                                                            "type": "other"
                                                        }
                                                    ],
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "0b7565be-101b-4f7d-aee4-2d267be19faa",
                                        "layerType": "data",
                                        "seriesType": "bar_stacked",
                                        "splitAccessor": "31b9d1d0-e0c1-45e5-8cc4-016fcbb4bf8c",
                                        "xAccessor": "6cb9b278-3b1c-459d-a399-b94726fa1c7d"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "bottom"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide"
                            }
                        },
                        "title": "avg_session_duration",
                        "visualizationType": "lnsXY"
                    },
                    "description": "Average duration of Code Interpreter sessions in AWS Bedrock AgentCore, grouped by resource.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": false,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| WHERE aws.dimensions.Operation == \"CodeInterpreterSession\" \n  AND aws.dimensions.Resource IS NOT NULL\n| STATS avg_session_duration = COALESCE(AVG(aws.bedrock_agentcore.metrics.Duration.avg), 0) BY @timestamp, aws.dimensions.Resource"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Average session duration"
                },
                "gridData": {
                    "h": 14,
                    "i": "49a2e306-11e7-4fec-bdba-cf83decb907a",
                    "w": 48,
                    "x": 0,
                    "y": 18
                },
                "panelIndex": "49a2e306-11e7-4fec-bdba-cf83decb907a",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "1d93c9fe-6164-49de-846e-b9f87c06a7ef": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_invocations",
                                                    "customLabel": true,
                                                    "fieldName": "sum_invocations",
                                                    "inMetricDimension": true,
                                                    "label": "Invocations",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "aws.dimensions.Resource",
                                                    "customLabel": false,
                                                    "fieldName": "aws.dimensions.Resource",
                                                    "label": "aws.dimensions.Resource",
                                                    "meta": {
                                                        "esType": "keyword",
                                                        "type": "string"
                                                    }
                                                },
                                                {
                                                    "columnId": "@timestamp",
                                                    "customLabel": false,
                                                    "fieldName": "@timestamp",
                                                    "label": "@timestamp",
                                                    "meta": {
                                                        "esType": "date",
                                                        "type": "date"
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_invocations = sum(aws.bedrock_agentcore.metrics.Invocations.sum) by aws.dimensions.Resource, @timestamp"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_invocations = sum(aws.bedrock_agentcore.metrics.Invocations.sum) by aws.dimensions.Resource, @timestamp"
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "sum_invocations"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "default",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rules": [
                                                        {
                                                            "type": "other"
                                                        }
                                                    ],
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "1d93c9fe-6164-49de-846e-b9f87c06a7ef",
                                        "layerType": "data",
                                        "seriesType": "bar",
                                        "splitAccessor": "aws.dimensions.Resource",
                                        "xAccessor": "@timestamp"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "bottom"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide"
                            }
                        },
                        "title": "sum_invocations over @timestamp",
                        "visualizationType": "lnsXY"
                    },
                    "description": "Code Interpreter session start invocations, grouped by resource.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": false,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_invocations = sum(aws.bedrock_agentcore.metrics.Invocations.sum) by aws.dimensions.Resource, @timestamp"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Sessions starts - by resource"
                },
                "gridData": {
                    "h": 14,
                    "i": "fccdcce9-d8ae-41f8-b7ab-cf8e8aef9053",
                    "sectionId": "68a3205a-95ae-4024-9059-5f1bb3e2828a",
                    "w": 48,
                    "x": 0,
                    "y": 10
                },
                "panelIndex": "fccdcce9-d8ae-41f8-b7ab-cf8e8aef9053",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "bae3899f-3014-4954-8ea6-20d2885058b7": {
                                            "columns": [
                                                {
                                                    "columnId": "avg_duration",
                                                    "customLabel": true,
                                                    "fieldName": "avg_duration",
                                                    "inMetricDimension": true,
                                                    "label": "Duration",
                                                    "meta": {
                                                        "esType": "double",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "duration",
                                                            "params": {
                                                                "decimals": 2,
                                                                "fromUnit": "milliseconds",
                                                                "toUnit": "humanizePrecise"
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "aws.dimensions.Resource",
                                                    "customLabel": false,
                                                    "fieldName": "aws.dimensions.Resource",
                                                    "label": "aws.dimensions.Resource",
                                                    "meta": {
                                                        "esType": "keyword",
                                                        "type": "string"
                                                    }
                                                },
                                                {
                                                    "columnId": "@timestamp",
                                                    "customLabel": false,
                                                    "fieldName": "@timestamp",
                                                    "label": "@timestamp",
                                                    "meta": {
                                                        "esType": "date",
                                                        "type": "date"
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS avg_duration = avg(aws.bedrock_agentcore.metrics.Duration.avg) by aws.dimensions.Resource, @timestamp"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS avg_duration = avg(aws.bedrock_agentcore.metrics.Duration.avg) by aws.dimensions.Resource, @timestamp"
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "avg_duration"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "default",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rules": [
                                                        {
                                                            "type": "other"
                                                        }
                                                    ],
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "bae3899f-3014-4954-8ea6-20d2885058b7",
                                        "layerType": "data",
                                        "seriesType": "bar",
                                        "splitAccessor": "aws.dimensions.Resource",
                                        "xAccessor": "@timestamp"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "bottom"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide"
                            }
                        },
                        "title": "avg_duration over @timestamp",
                        "visualizationType": "lnsXY"
                    },
                    "description": "Average duration of Code Interpreter session start operations, grouped by resource.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": false,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS avg_duration = avg(aws.bedrock_agentcore.metrics.Duration.avg) by aws.dimensions.Resource, @timestamp"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Session start duration - by resource"
                },
                "gridData": {
                    "h": 13,
                    "i": "c2596e33-2a38-41ad-a53a-1ad8449832bf",
                    "sectionId": "68a3205a-95ae-4024-9059-5f1bb3e2828a",
                    "w": 24,
                    "x": 0,
                    "y": 24
                },
                "panelIndex": "c2596e33-2a38-41ad-a53a-1ad8449832bf",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "2e4328d9-75fa-44b1-b134-3aa93740d083": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_user_errors",
                                                    "customLabel": true,
                                                    "fieldName": "sum_user_errors",
                                                    "inMetricDimension": true,
                                                    "label": "User errors",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "sum_system_errors",
                                                    "customLabel": true,
                                                    "fieldName": "sum_system_errors",
                                                    "inMetricDimension": true,
                                                    "label": "System errors",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "avg_duration",
                                                    "customLabel": true,
                                                    "fieldName": "avg_duration",
                                                    "inMetricDimension": true,
                                                    "label": "Duration",
                                                    "meta": {
                                                        "esType": "double",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "duration",
                                                            "params": {
                                                                "decimals": 0,
                                                                "fromUnit": "milliseconds",
                                                                "toUnit": "humanizePrecise"
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "sum_throttles",
                                                    "customLabel": true,
                                                    "fieldName": "sum_throttles",
                                                    "inMetricDimension": true,
                                                    "label": "Throttles",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "sum_invocations",
                                                    "customLabel": true,
                                                    "fieldName": "sum_invocations",
                                                    "inMetricDimension": true,
                                                    "label": "Invocations",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "8e251f91-d2d6-45e7-9958-27c561588eb1",
                                                    "customLabel": true,
                                                    "fieldName": "aws.dimensions.Resource",
                                                    "label": "Resource",
                                                    "meta": {
                                                        "esType": "keyword",
                                                        "sourceParams": {
                                                            "indexPattern": "metrics-aws_bedrock_agentcore.metrics-default",
                                                            "sourceField": "aws.dimensions.Resource"
                                                        },
                                                        "type": "string"
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = sum(aws.bedrock_agentcore.metrics.UserErrors.sum),\n        sum_system_errors = sum(aws.bedrock_agentcore.metrics.SystemErrors.sum),\n        avg_duration = avg(aws.bedrock_agentcore.metrics.Duration.avg), \n        sum_throttles = sum(aws.bedrock_agentcore.metrics.Throttles.sum),\n        sum_invocations = sum(aws.bedrock_agentcore.metrics.Invocations.sum) by aws.dimensions.Resource\n| EVAL total_errors = sum_system_errors + sum_user_errors        \n| SORT total_errors DESC\n| LIMIT 10"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = sum(aws.bedrock_agentcore.metrics.UserErrors.sum),\n        sum_system_errors = sum(aws.bedrock_agentcore.metrics.SystemErrors.sum),\n        avg_duration = avg(aws.bedrock_agentcore.metrics.Duration.avg), \n        sum_throttles = sum(aws.bedrock_agentcore.metrics.Throttles.sum),\n        sum_invocations = sum(aws.bedrock_agentcore.metrics.Invocations.sum) by aws.dimensions.Resource\n| EVAL total_errors = sum_system_errors + sum_user_errors        \n| SORT total_errors DESC\n| LIMIT 10"
                            },
                            "visualization": {
                                "columns": [
                                    {
                                        "colorMode": "cell",
                                        "columnId": "sum_user_errors",
                                        "palette": {
                                            "name": "negative",
                                            "params": {
                                                "continuity": "above",
                                                "name": "negative",
                                                "rangeMax": null,
                                                "rangeMin": 0,
                                                "reverse": false,
                                                "stops": [
                                                    {
                                                        "color": "#fbddd6",
                                                        "stop": 0
                                                    },
                                                    {
                                                        "color": "#f3bbaf",
                                                        "stop": 20
                                                    },
                                                    {
                                                        "color": "#e99a89",
                                                        "stop": 40
                                                    },
                                                    {
                                                        "color": "#db7965",
                                                        "stop": 60
                                                    },
                                                    {
                                                        "color": "#cc5642",
                                                        "stop": 80
                                                    }
                                                ]
                                            },
                                            "type": "palette"
                                        }
                                    },
                                    {
                                        "colorMode": "cell",
                                        "columnId": "sum_system_errors",
                                        "palette": {
                                            "name": "negative",
                                            "params": {
                                                "continuity": "above",
                                                "name": "negative",
                                                "rangeMax": null,
                                                "rangeMin": 0,
                                                "reverse": false,
                                                "stops": [
                                                    {
                                                        "color": "#fbddd6",
                                                        "stop": 0
                                                    },
                                                    {
                                                        "color": "#f3bbaf",
                                                        "stop": 20
                                                    },
                                                    {
                                                        "color": "#e99a89",
                                                        "stop": 40
                                                    },
                                                    {
                                                        "color": "#db7965",
                                                        "stop": 60
                                                    },
                                                    {
                                                        "color": "#cc5642",
                                                        "stop": 80
                                                    }
                                                ]
                                            },
                                            "type": "palette"
                                        }
                                    },
                                    {
                                        "colorMode": "cell",
                                        "columnId": "avg_duration",
                                        "palette": {
                                            "name": "complementary",
                                            "params": {
                                                "continuity": "above",
                                                "name": "complementary",
                                                "rangeMax": null,
                                                "rangeMin": 0,
                                                "reverse": false,
                                                "stops": [
                                                    {
                                                        "color": "#6092c0",
                                                        "stop": 0
                                                    },
                                                    {
                                                        "color": "#a6c1db",
                                                        "stop": 20
                                                    },
                                                    {
                                                        "color": "#ebeff5",
                                                        "stop": 40
                                                    },
                                                    {
                                                        "color": "#e3bd9d",
                                                        "stop": 60
                                                    },
                                                    {
                                                        "color": "#da8b45",
                                                        "stop": 80
                                                    }
                                                ]
                                            },
                                            "type": "palette"
                                        }
                                    },
                                    {
                                        "colorMode": "cell",
                                        "columnId": "sum_throttles",
                                        "palette": {
                                            "name": "warm",
                                            "params": {
                                                "continuity": "above",
                                                "name": "warm",
                                                "rangeMax": null,
                                                "rangeMin": 0,
                                                "reverse": false,
                                                "stops": [
                                                    {
                                                        "color": "#f7e0b8",
                                                        "stop": 0
                                                    },
                                                    {
                                                        "color": "#f2c596",
                                                        "stop": 20
                                                    },
                                                    {
                                                        "color": "#eca976",
                                                        "stop": 40
                                                    },
                                                    {
                                                        "color": "#e78c5b",
                                                        "stop": 60
                                                    },
                                                    {
                                                        "color": "#e7664c",
                                                        "stop": 80
                                                    }
                                                ]
                                            },
                                            "type": "palette"
                                        }
                                    },
                                    {
                                        "colorMode": "cell",
                                        "columnId": "sum_invocations",
                                        "palette": {
                                            "name": "positive",
                                            "params": {
                                                "stops": [
                                                    {
                                                        "color": "#d6e9e4",
                                                        "stop": 20
                                                    },
                                                    {
                                                        "color": "#aed3ca",
                                                        "stop": 40
                                                    },
                                                    {
                                                        "color": "#85bdb1",
                                                        "stop": 60
                                                    },
                                                    {
                                                        "color": "#5aa898",
                                                        "stop": 80
                                                    },
                                                    {
                                                        "color": "#209280",
                                                        "stop": 100
                                                    }
                                                ]
                                            },
                                            "type": "palette"
                                        }
                                    },
                                    {
                                        "columnId": "8e251f91-d2d6-45e7-9958-27c561588eb1",
                                        "isMetric": false,
                                        "isTransposed": false
                                    }
                                ],
                                "layerId": "2e4328d9-75fa-44b1-b134-3aa93740d083",
                                "layerType": "data"
                            }
                        },
                        "title": "sum_user_errors \u0026 sum_system_errors \u0026 avg_duration \u0026 sum_throttles \u0026 sum_invocations of (empty)",
                        "visualizationType": "lnsDatatable"
                    },
                    "description": "Top 10 resources by total errors for Code Interpreter session start operations, including invocations, duration, throttles, and error breakdown.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = sum(aws.bedrock_agentcore.metrics.UserErrors.sum),\n        sum_system_errors = sum(aws.bedrock_agentcore.metrics.SystemErrors.sum),\n        avg_duration = avg(aws.bedrock_agentcore.metrics.Duration.avg), \n        sum_throttles = sum(aws.bedrock_agentcore.metrics.Throttles.sum),\n        sum_invocations = sum(aws.bedrock_agentcore.metrics.Invocations.sum) by aws.dimensions.Resource\n| EVAL total_errors = sum_system_errors + sum_user_errors        \n| SORT total_errors DESC\n| LIMIT 10"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Top session starts - by resource"
                },
                "gridData": {
                    "h": 10,
                    "i": "d15a427a-a95e-40ff-b650-ce593df48e6e",
                    "sectionId": "68a3205a-95ae-4024-9059-5f1bb3e2828a",
                    "w": 48,
                    "x": 0,
                    "y": 0
                },
                "panelIndex": "d15a427a-a95e-40ff-b650-ce593df48e6e",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "5d5c3995-a706-43a6-a992-81a3883aed80": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_throttles",
                                                    "customLabel": true,
                                                    "fieldName": "sum_throttles",
                                                    "inMetricDimension": true,
                                                    "label": "Throttles",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "aws.dimensions.Resource",
                                                    "customLabel": false,
                                                    "fieldName": "aws.dimensions.Resource",
                                                    "label": "aws.dimensions.Resource",
                                                    "meta": {
                                                        "esType": "keyword",
                                                        "type": "string"
                                                    }
                                                },
                                                {
                                                    "columnId": "@timestamp",
                                                    "customLabel": false,
                                                    "fieldName": "@timestamp",
                                                    "label": "@timestamp",
                                                    "meta": {
                                                        "esType": "date",
                                                        "type": "date"
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_throttles = sum(aws.bedrock_agentcore.metrics.Throttles.sum) by aws.dimensions.Resource, @timestamp"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_throttles = sum(aws.bedrock_agentcore.metrics.Throttles.sum) by aws.dimensions.Resource, @timestamp"
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "sum_throttles"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "default",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rules": [
                                                        {
                                                            "type": "other"
                                                        }
                                                    ],
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "5d5c3995-a706-43a6-a992-81a3883aed80",
                                        "layerType": "data",
                                        "seriesType": "bar_stacked",
                                        "splitAccessor": "aws.dimensions.Resource",
                                        "xAccessor": "@timestamp"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "bottom"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide"
                            }
                        },
                        "title": "sum_throttles over @timestamp",
                        "visualizationType": "lnsXY"
                    },
                    "description": "Throttled requests during Code Interpreter session start operations, grouped by resource.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": false,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_throttles = sum(aws.bedrock_agentcore.metrics.Throttles.sum) by aws.dimensions.Resource, @timestamp"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": " Session start throttles - by resource"
                },
                "gridData": {
                    "h": 13,
                    "i": "d3163e18-67bf-4396-b80d-58a6ad61684d",
                    "sectionId": "68a3205a-95ae-4024-9059-5f1bb3e2828a",
                    "w": 24,
                    "x": 24,
                    "y": 24
                },
                "panelIndex": "d3163e18-67bf-4396-b80d-58a6ad61684d",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "a3706436-2f50-4b71-b084-1b6dc5c1fab8": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_system_errors",
                                                    "customLabel": true,
                                                    "fieldName": "sum_system_errors",
                                                    "inMetricDimension": true,
                                                    "label": "System errors",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "aws.dimensions.Resource",
                                                    "customLabel": false,
                                                    "fieldName": "aws.dimensions.Resource",
                                                    "label": "aws.dimensions.Resource",
                                                    "meta": {
                                                        "esType": "keyword",
                                                        "type": "string"
                                                    }
                                                },
                                                {
                                                    "columnId": "@timestamp",
                                                    "customLabel": false,
                                                    "fieldName": "@timestamp",
                                                    "label": "@timestamp",
                                                    "meta": {
                                                        "esType": "date",
                                                        "type": "date"
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_system_errors = sum(aws.bedrock_agentcore.metrics.SystemErrors.sum) by aws.dimensions.Resource, @timestamp"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_system_errors = sum(aws.bedrock_agentcore.metrics.SystemErrors.sum) by aws.dimensions.Resource, @timestamp"
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "sum_system_errors"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "default",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rules": [
                                                        {
                                                            "type": "other"
                                                        }
                                                    ],
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "a3706436-2f50-4b71-b084-1b6dc5c1fab8",
                                        "layerType": "data",
                                        "seriesType": "bar_stacked",
                                        "splitAccessor": "aws.dimensions.Resource",
                                        "xAccessor": "@timestamp"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "bottom"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide"
                            }
                        },
                        "title": "sum_system_errors over @timestamp",
                        "visualizationType": "lnsXY"
                    },
                    "description": "Server-side errors during Code Interpreter session start operations, grouped by resource.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": false,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_system_errors = sum(aws.bedrock_agentcore.metrics.SystemErrors.sum) by aws.dimensions.Resource, @timestamp"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Session start system errors - by resource"
                },
                "gridData": {
                    "h": 13,
                    "i": "ae5f9c8a-6790-4c46-b396-6c2f727a88e4",
                    "sectionId": "68a3205a-95ae-4024-9059-5f1bb3e2828a",
                    "w": 24,
                    "x": 0,
                    "y": 37
                },
                "panelIndex": "ae5f9c8a-6790-4c46-b396-6c2f727a88e4",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "eeb59286-4ae4-45a7-a680-00c868ceb72c": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_user_errors",
                                                    "customLabel": true,
                                                    "fieldName": "sum_user_errors",
                                                    "inMetricDimension": true,
                                                    "label": "User errors",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "aws.dimensions.Resource",
                                                    "customLabel": false,
                                                    "fieldName": "aws.dimensions.Resource",
                                                    "label": "aws.dimensions.Resource",
                                                    "meta": {
                                                        "esType": "keyword",
                                                        "type": "string"
                                                    }
                                                },
                                                {
                                                    "columnId": "@timestamp",
                                                    "customLabel": false,
                                                    "fieldName": "@timestamp",
                                                    "label": "@timestamp",
                                                    "meta": {
                                                        "esType": "date",
                                                        "type": "date"
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = sum(aws.bedrock_agentcore.metrics.UserErrors.sum) by aws.dimensions.Resource, @timestamp\n"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = sum(aws.bedrock_agentcore.metrics.UserErrors.sum) by aws.dimensions.Resource, @timestamp\n"
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "sum_user_errors"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "default",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rules": [
                                                        {
                                                            "type": "other"
                                                        }
                                                    ],
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "eeb59286-4ae4-45a7-a680-00c868ceb72c",
                                        "layerType": "data",
                                        "seriesType": "bar",
                                        "splitAccessor": "aws.dimensions.Resource",
                                        "xAccessor": "@timestamp"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "bottom"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide"
                            }
                        },
                        "title": "sum_user_errors over @timestamp",
                        "visualizationType": "lnsXY"
                    },
                    "description": "Client-side errors during Code Interpreter session start operations, grouped by resource.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": false,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = sum(aws.bedrock_agentcore.metrics.UserErrors.sum) by aws.dimensions.Resource, @timestamp\n"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Session start user errors - by resource"
                },
                "gridData": {
                    "h": 13,
                    "i": "fd648b96-9d8a-493e-8d7e-944354f21a1d",
                    "sectionId": "68a3205a-95ae-4024-9059-5f1bb3e2828a",
                    "w": 24,
                    "x": 24,
                    "y": 37
                },
                "panelIndex": "fd648b96-9d8a-493e-8d7e-944354f21a1d",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "2abfd17f-60f8-48b1-a684-9c67bb406dc2": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_user_errors",
                                                    "customLabel": true,
                                                    "fieldName": "sum_user_errors",
                                                    "inMetricDimension": true,
                                                    "label": "User errors",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "sum_system_errors",
                                                    "customLabel": true,
                                                    "fieldName": "sum_system_errors",
                                                    "inMetricDimension": true,
                                                    "label": "System errors",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "avg_duration",
                                                    "customLabel": true,
                                                    "fieldName": "avg_duration",
                                                    "inMetricDimension": true,
                                                    "label": "Duration",
                                                    "meta": {
                                                        "esType": "double",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "duration",
                                                            "params": {
                                                                "decimals": 2,
                                                                "fromUnit": "milliseconds",
                                                                "toUnit": "humanizePrecise"
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "sum_throttles",
                                                    "customLabel": true,
                                                    "fieldName": "sum_throttles",
                                                    "inMetricDimension": true,
                                                    "label": "Throttles",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "sum_invocations",
                                                    "customLabel": true,
                                                    "fieldName": "sum_invocations",
                                                    "inMetricDimension": true,
                                                    "label": "Invocations",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "00a5dba3-3b9a-4f72-9594-290428a3a480",
                                                    "customLabel": true,
                                                    "fieldName": "aws.dimensions.Resource",
                                                    "label": "Resource",
                                                    "meta": {
                                                        "esType": "keyword",
                                                        "sourceParams": {
                                                            "indexPattern": "metrics-aws_bedrock_agentcore.metrics-default",
                                                            "sourceField": "aws.dimensions.Resource"
                                                        },
                                                        "type": "string"
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"InvokeCodeInterpreter\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = sum(aws.bedrock_agentcore.metrics.UserErrors.sum),\n        sum_system_errors = sum(aws.bedrock_agentcore.metrics.SystemErrors.sum),\n        avg_duration = avg(aws.bedrock_agentcore.metrics.Duration.avg), \n        sum_throttles = sum(aws.bedrock_agentcore.metrics.Throttles.sum),\n        sum_invocations = sum(aws.bedrock_agentcore.metrics.Invocations.sum) by aws.dimensions.Resource\n| EVAL total_errors = sum_system_errors + sum_user_errors        \n| SORT total_errors DESC\n| LIMIT 10"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"InvokeCodeInterpreter\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = sum(aws.bedrock_agentcore.metrics.UserErrors.sum),\n        sum_system_errors = sum(aws.bedrock_agentcore.metrics.SystemErrors.sum),\n        avg_duration = avg(aws.bedrock_agentcore.metrics.Duration.avg), \n        sum_throttles = sum(aws.bedrock_agentcore.metrics.Throttles.sum),\n        sum_invocations = sum(aws.bedrock_agentcore.metrics.Invocations.sum) by aws.dimensions.Resource\n| EVAL total_errors = sum_system_errors + sum_user_errors        \n| SORT total_errors DESC\n| LIMIT 10"
                            },
                            "visualization": {
                                "columns": [
                                    {
                                        "colorMode": "cell",
                                        "columnId": "sum_user_errors",
                                        "palette": {
                                            "name": "custom",
                                            "params": {
                                                "colorStops": [
                                                    {
                                                        "color": "#fbddd6",
                                                        "stop": 1
                                                    },
                                                    {
                                                        "color": "#f3bbaf",
                                                        "stop": 20
                                                    },
                                                    {
                                                        "color": "#e99a89",
                                                        "stop": 40
                                                    },
                                                    {
                                                        "color": "#db7965",
                                                        "stop": 60
                                                    },
                                                    {
                                                        "color": "#cc5642",
                                                        "stop": 80
                                                    }
                                                ],
                                                "continuity": "above",
                                                "name": "custom",
                                                "rangeMax": null,
                                                "rangeMin": 1,
                                                "reverse": false,
                                                "steps": 5,
                                                "stops": [
                                                    {
                                                        "color": "#fbddd6",
                                                        "stop": 20
                                                    },
                                                    {
                                                        "color": "#f3bbaf",
                                                        "stop": 40
                                                    },
                                                    {
                                                        "color": "#e99a89",
                                                        "stop": 60
                                                    },
                                                    {
                                                        "color": "#db7965",
                                                        "stop": 80
                                                    },
                                                    {
                                                        "color": "#cc5642",
                                                        "stop": 100
                                                    }
                                                ]
                                            },
                                            "type": "palette"
                                        }
                                    },
                                    {
                                        "colorMode": "cell",
                                        "columnId": "sum_system_errors",
                                        "palette": {
                                            "name": "negative",
                                            "params": {
                                                "continuity": "above",
                                                "name": "negative",
                                                "rangeMax": null,
                                                "rangeMin": 0,
                                                "rangeType": "percent",
                                                "reverse": false,
                                                "stops": [
                                                    {
                                                        "color": "#fbddd6",
                                                        "stop": 0
                                                    },
                                                    {
                                                        "color": "#f3bbaf",
                                                        "stop": 20
                                                    },
                                                    {
                                                        "color": "#e99a89",
                                                        "stop": 40
                                                    },
                                                    {
                                                        "color": "#db7965",
                                                        "stop": 60
                                                    },
                                                    {
                                                        "color": "#cc5642",
                                                        "stop": 80
                                                    }
                                                ]
                                            },
                                            "type": "palette"
                                        }
                                    },
                                    {
                                        "colorMode": "cell",
                                        "columnId": "avg_duration",
                                        "palette": {
                                            "name": "temperature",
                                            "params": {
                                                "continuity": "above",
                                                "name": "temperature",
                                                "rangeMax": null,
                                                "rangeMin": 0,
                                                "reverse": false,
                                                "stops": [
                                                    {
                                                        "color": "#6092c0",
                                                        "stop": 0
                                                    },
                                                    {
                                                        "color": "#a8bfda",
                                                        "stop": 20
                                                    },
                                                    {
                                                        "color": "#ebeff5",
                                                        "stop": 40
                                                    },
                                                    {
                                                        "color": "#efb785",
                                                        "stop": 60
                                                    },
                                                    {
                                                        "color": "#e7664c",
                                                        "stop": 80
                                                    }
                                                ]
                                            },
                                            "type": "palette"
                                        }
                                    },
                                    {
                                        "colorMode": "cell",
                                        "columnId": "sum_throttles",
                                        "palette": {
                                            "name": "warm",
                                            "params": {
                                                "continuity": "above",
                                                "name": "warm",
                                                "rangeMax": null,
                                                "rangeMin": 0,
                                                "reverse": false,
                                                "stops": [
                                                    {
                                                        "color": "#f7e0b8",
                                                        "stop": 0
                                                    },
                                                    {
                                                        "color": "#f2c596",
                                                        "stop": 20
                                                    },
                                                    {
                                                        "color": "#eca976",
                                                        "stop": 40
                                                    },
                                                    {
                                                        "color": "#e78c5b",
                                                        "stop": 60
                                                    },
                                                    {
                                                        "color": "#e7664c",
                                                        "stop": 80
                                                    }
                                                ]
                                            },
                                            "type": "palette"
                                        }
                                    },
                                    {
                                        "colorMode": "cell",
                                        "columnId": "sum_invocations",
                                        "palette": {
                                            "name": "positive",
                                            "params": {
                                                "stops": [
                                                    {
                                                        "color": "#d6e9e4",
                                                        "stop": 20
                                                    },
                                                    {
                                                        "color": "#aed3ca",
                                                        "stop": 40
                                                    },
                                                    {
                                                        "color": "#85bdb1",
                                                        "stop": 60
                                                    },
                                                    {
                                                        "color": "#5aa898",
                                                        "stop": 80
                                                    },
                                                    {
                                                        "color": "#209280",
                                                        "stop": 100
                                                    }
                                                ]
                                            },
                                            "type": "palette"
                                        }
                                    },
                                    {
                                        "columnId": "00a5dba3-3b9a-4f72-9594-290428a3a480",
                                        "isMetric": false,
                                        "isTransposed": false
                                    }
                                ],
                                "layerId": "2abfd17f-60f8-48b1-a684-9c67bb406dc2",
                                "layerType": "data"
                            }
                        },
                        "title": "sum_user_errors \u0026 sum_system_errors \u0026 avg_duration \u0026 sum_throttles \u0026 sum_invocations of (empty)",
                        "visualizationType": "lnsDatatable"
                    },
                    "description": "Top 10 resources by total errors for code execution operations within Code Interpreter sessions, including invocation count, execution duration, throttles, and error breakdown.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"InvokeCodeInterpreter\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = sum(aws.bedrock_agentcore.metrics.UserErrors.sum),\n        sum_system_errors = sum(aws.bedrock_agentcore.metrics.SystemErrors.sum),\n        avg_duration = avg(aws.bedrock_agentcore.metrics.Duration.avg), \n        sum_throttles = sum(aws.bedrock_agentcore.metrics.Throttles.sum),\n        sum_invocations = sum(aws.bedrock_agentcore.metrics.Invocations.sum) by aws.dimensions.Resource\n| EVAL total_errors = sum_system_errors + sum_user_errors        \n| SORT total_errors DESC\n| LIMIT 10"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Top code execution invocations - by resource"
                },
                "gridData": {
                    "h": 10,
                    "i": "1e0fbae1-5ad2-4278-af0c-f08a2a0d2384",
                    "sectionId": "a55c3226-25e8-4136-96b1-9ba79fe3bda6",
                    "w": 48,
                    "x": 0,
                    "y": 0
                },
                "panelIndex": "1e0fbae1-5ad2-4278-af0c-f08a2a0d2384",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "1d93c9fe-6164-49de-846e-b9f87c06a7ef": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_invocations",
                                                    "customLabel": true,
                                                    "fieldName": "sum_invocations",
                                                    "inMetricDimension": true,
                                                    "label": "Invocations",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "aws.dimensions.Resource",
                                                    "customLabel": false,
                                                    "fieldName": "aws.dimensions.Resource",
                                                    "label": "aws.dimensions.Resource",
                                                    "meta": {
                                                        "esType": "keyword",
                                                        "type": "string"
                                                    }
                                                },
                                                {
                                                    "columnId": "@timestamp",
                                                    "customLabel": false,
                                                    "fieldName": "@timestamp",
                                                    "label": "@timestamp",
                                                    "meta": {
                                                        "esType": "date",
                                                        "type": "date"
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_invocations = sum(aws.bedrock_agentcore.metrics.Invocations.sum) by aws.dimensions.Resource, @timestamp"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_invocations = sum(aws.bedrock_agentcore.metrics.Invocations.sum) by aws.dimensions.Resource, @timestamp"
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "sum_invocations"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "default",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rules": [
                                                        {
                                                            "type": "other"
                                                        }
                                                    ],
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "1d93c9fe-6164-49de-846e-b9f87c06a7ef",
                                        "layerType": "data",
                                        "seriesType": "bar",
                                        "splitAccessor": "aws.dimensions.Resource",
                                        "xAccessor": "@timestamp"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "bottom"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide"
                            }
                        },
                        "title": "sum_invocations over @timestamp",
                        "visualizationType": "lnsXY"
                    },
                    "description": "Code execution invocations within Code Interpreter sessions, grouped by resource.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": false,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StartCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_invocations = sum(aws.bedrock_agentcore.metrics.Invocations.sum) by aws.dimensions.Resource, @timestamp"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Code execution invocations - by resource"
                },
                "gridData": {
                    "h": 14,
                    "i": "396eccac-b576-4a6d-a9ce-8e14dc8a23ad",
                    "sectionId": "a55c3226-25e8-4136-96b1-9ba79fe3bda6",
                    "w": 48,
                    "x": 0,
                    "y": 10
                },
                "panelIndex": "396eccac-b576-4a6d-a9ce-8e14dc8a23ad",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "bae3899f-3014-4954-8ea6-20d2885058b7": {
                                            "columns": [
                                                {
                                                    "columnId": "avg_duration",
                                                    "customLabel": true,
                                                    "fieldName": "avg_duration",
                                                    "inMetricDimension": true,
                                                    "label": "Duration",
                                                    "meta": {
                                                        "esType": "double",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "duration",
                                                            "params": {
                                                                "decimals": 2,
                                                                "fromUnit": "milliseconds",
                                                                "toUnit": "humanizePrecise"
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "aws.dimensions.Resource",
                                                    "customLabel": false,
                                                    "fieldName": "aws.dimensions.Resource",
                                                    "label": "aws.dimensions.Resource",
                                                    "meta": {
                                                        "esType": "keyword",
                                                        "type": "string"
                                                    }
                                                },
                                                {
                                                    "columnId": "@timestamp",
                                                    "customLabel": false,
                                                    "fieldName": "@timestamp",
                                                    "label": "@timestamp",
                                                    "meta": {
                                                        "esType": "date",
                                                        "type": "date"
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"InvokeCodeInterpreter\" AND aws.dimensions.Resource IS NOT NULL\n| STATS avg_duration = avg(aws.bedrock_agentcore.metrics.Duration.avg) by aws.dimensions.Resource, @timestamp\n"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"InvokeCodeInterpreter\" AND aws.dimensions.Resource IS NOT NULL\n| STATS avg_duration = avg(aws.bedrock_agentcore.metrics.Duration.avg) by aws.dimensions.Resource, @timestamp\n"
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "avg_duration"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "default",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rules": [
                                                        {
                                                            "type": "other"
                                                        }
                                                    ],
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "bae3899f-3014-4954-8ea6-20d2885058b7",
                                        "layerType": "data",
                                        "seriesType": "bar",
                                        "splitAccessor": "aws.dimensions.Resource",
                                        "xAccessor": "@timestamp"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "bottom"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide"
                            }
                        },
                        "title": "avg_duration over @timestamp",
                        "visualizationType": "lnsXY"
                    },
                    "description": "Average duration of Code Interpreter session start operations, grouped by resource.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": false,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"InvokeCodeInterpreter\" AND aws.dimensions.Resource IS NOT NULL\n| STATS avg_duration = avg(aws.bedrock_agentcore.metrics.Duration.avg) by aws.dimensions.Resource, @timestamp\n"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Code execution duration - by resource"
                },
                "gridData": {
                    "h": 13,
                    "i": "70b5890d-4414-4a7b-bde3-3bd043d06f08",
                    "sectionId": "a55c3226-25e8-4136-96b1-9ba79fe3bda6",
                    "w": 24,
                    "x": 0,
                    "y": 24
                },
                "panelIndex": "70b5890d-4414-4a7b-bde3-3bd043d06f08",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "5d5c3995-a706-43a6-a992-81a3883aed80": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_throttles",
                                                    "customLabel": true,
                                                    "fieldName": "sum_throttles",
                                                    "inMetricDimension": true,
                                                    "label": "Throttles",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "aws.dimensions.Resource",
                                                    "customLabel": false,
                                                    "fieldName": "aws.dimensions.Resource",
                                                    "label": "aws.dimensions.Resource",
                                                    "meta": {
                                                        "esType": "keyword",
                                                        "type": "string"
                                                    }
                                                },
                                                {
                                                    "columnId": "@timestamp",
                                                    "customLabel": false,
                                                    "fieldName": "@timestamp",
                                                    "label": "@timestamp",
                                                    "meta": {
                                                        "esType": "date",
                                                        "type": "date"
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"InvokeCodeInterpreter\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_throttles = sum(aws.bedrock_agentcore.metrics.Throttles.sum) by aws.dimensions.Resource, @timestamp"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"InvokeCodeInterpreter\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_throttles = sum(aws.bedrock_agentcore.metrics.Throttles.sum) by aws.dimensions.Resource, @timestamp"
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "sum_throttles"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "default",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rules": [
                                                        {
                                                            "type": "other"
                                                        }
                                                    ],
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "5d5c3995-a706-43a6-a992-81a3883aed80",
                                        "layerType": "data",
                                        "seriesType": "bar_stacked",
                                        "splitAccessor": "aws.dimensions.Resource",
                                        "xAccessor": "@timestamp"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "bottom"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide"
                            }
                        },
                        "title": "sum_throttles over @timestamp",
                        "visualizationType": "lnsXY"
                    },
                    "description": "Throttled code execution requests within Code Interpreter sessions, grouped by resource.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": false,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"InvokeCodeInterpreter\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_throttles = sum(aws.bedrock_agentcore.metrics.Throttles.sum) by aws.dimensions.Resource, @timestamp"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Code execution throttles - by resource"
                },
                "gridData": {
                    "h": 13,
                    "i": "b247d3a7-65a3-4a64-9fc8-4fc478724ced",
                    "sectionId": "a55c3226-25e8-4136-96b1-9ba79fe3bda6",
                    "w": 24,
                    "x": 24,
                    "y": 24
                },
                "panelIndex": "b247d3a7-65a3-4a64-9fc8-4fc478724ced",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "a3706436-2f50-4b71-b084-1b6dc5c1fab8": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_system_errors",
                                                    "customLabel": true,
                                                    "fieldName": "sum_system_errors",
                                                    "inMetricDimension": true,
                                                    "label": "System errors",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "aws.dimensions.Resource",
                                                    "customLabel": false,
                                                    "fieldName": "aws.dimensions.Resource",
                                                    "label": "aws.dimensions.Resource",
                                                    "meta": {
                                                        "esType": "keyword",
                                                        "type": "string"
                                                    }
                                                },
                                                {
                                                    "columnId": "@timestamp",
                                                    "customLabel": false,
                                                    "fieldName": "@timestamp",
                                                    "label": "@timestamp",
                                                    "meta": {
                                                        "esType": "date",
                                                        "type": "date"
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"InvokeCodeInterpreter\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_system_errors = sum(aws.bedrock_agentcore.metrics.SystemErrors.sum) by aws.dimensions.Resource, @timestamp"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"InvokeCodeInterpreter\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_system_errors = sum(aws.bedrock_agentcore.metrics.SystemErrors.sum) by aws.dimensions.Resource, @timestamp"
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "sum_system_errors"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "default",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rules": [
                                                        {
                                                            "type": "other"
                                                        }
                                                    ],
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "a3706436-2f50-4b71-b084-1b6dc5c1fab8",
                                        "layerType": "data",
                                        "seriesType": "bar_stacked",
                                        "splitAccessor": "aws.dimensions.Resource",
                                        "xAccessor": "@timestamp"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "bottom"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide"
                            }
                        },
                        "title": "sum_system_errors over @timestamp",
                        "visualizationType": "lnsXY"
                    },
                    "description": "Server-side errors during code execution within Code Interpreter sessions, grouped by resource.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": false,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"InvokeCodeInterpreter\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_system_errors = sum(aws.bedrock_agentcore.metrics.SystemErrors.sum) by aws.dimensions.Resource, @timestamp"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Code execution system errors - by resource"
                },
                "gridData": {
                    "h": 13,
                    "i": "ccc8d3ad-3f84-4b42-a075-bf31d9dced01",
                    "sectionId": "a55c3226-25e8-4136-96b1-9ba79fe3bda6",
                    "w": 24,
                    "x": 0,
                    "y": 37
                },
                "panelIndex": "ccc8d3ad-3f84-4b42-a075-bf31d9dced01",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "eeb59286-4ae4-45a7-a680-00c868ceb72c": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_user_errors",
                                                    "customLabel": true,
                                                    "fieldName": "sum_user_errors",
                                                    "inMetricDimension": true,
                                                    "label": "User errors",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "aws.dimensions.Resource",
                                                    "customLabel": false,
                                                    "fieldName": "aws.dimensions.Resource",
                                                    "label": "aws.dimensions.Resource",
                                                    "meta": {
                                                        "esType": "keyword",
                                                        "type": "string"
                                                    }
                                                },
                                                {
                                                    "columnId": "@timestamp",
                                                    "customLabel": false,
                                                    "fieldName": "@timestamp",
                                                    "label": "@timestamp",
                                                    "meta": {
                                                        "esType": "date",
                                                        "type": "date"
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"InvokeCodeInterpreter\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = sum(aws.bedrock_agentcore.metrics.UserErrors.sum) by aws.dimensions.Resource, @timestamp\n"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"InvokeCodeInterpreter\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = sum(aws.bedrock_agentcore.metrics.UserErrors.sum) by aws.dimensions.Resource, @timestamp\n"
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "sum_user_errors"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "default",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rules": [
                                                        {
                                                            "type": "other"
                                                        }
                                                    ],
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "eeb59286-4ae4-45a7-a680-00c868ceb72c",
                                        "layerType": "data",
                                        "seriesType": "bar",
                                        "splitAccessor": "aws.dimensions.Resource",
                                        "xAccessor": "@timestamp"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "bottom"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide"
                            }
                        },
                        "title": "sum_user_errors over @timestamp",
                        "visualizationType": "lnsXY"
                    },
                    "description": "Client-side errors during code execution within Code Interpreter sessions, grouped by resource.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": false,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"InvokeCodeInterpreter\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = sum(aws.bedrock_agentcore.metrics.UserErrors.sum) by aws.dimensions.Resource, @timestamp\n"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Code execution user errors - by resource"
                },
                "gridData": {
                    "h": 13,
                    "i": "e99c7220-0c27-4fc6-9d33-7d873589dc26",
                    "sectionId": "a55c3226-25e8-4136-96b1-9ba79fe3bda6",
                    "w": 24,
                    "x": 24,
                    "y": 37
                },
                "panelIndex": "e99c7220-0c27-4fc6-9d33-7d873589dc26",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "d0ee0c84-935c-4971-b108-9b7e81603d04": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_user_errors",
                                                    "customLabel": true,
                                                    "fieldName": "sum_user_errors",
                                                    "inMetricDimension": true,
                                                    "label": "User errors",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "sum_system_errors",
                                                    "customLabel": true,
                                                    "fieldName": "sum_system_errors",
                                                    "inMetricDimension": true,
                                                    "label": "System errors",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "avg_duration",
                                                    "customLabel": true,
                                                    "fieldName": "avg_duration",
                                                    "inMetricDimension": true,
                                                    "label": "Duration",
                                                    "meta": {
                                                        "esType": "double",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "duration",
                                                            "params": {
                                                                "decimals": 2,
                                                                "toUnit": "humanizePrecise"
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "sum_throttles",
                                                    "customLabel": true,
                                                    "fieldName": "sum_throttles",
                                                    "inMetricDimension": true,
                                                    "label": "Throttles",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "sum_invocations",
                                                    "customLabel": true,
                                                    "fieldName": "sum_invocations",
                                                    "inMetricDimension": true,
                                                    "label": "Invocations",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "afde4777-0e82-41b0-a5dc-69de4326dd8e",
                                                    "customLabel": true,
                                                    "fieldName": "aws.dimensions.Resource",
                                                    "label": "Resource",
                                                    "meta": {
                                                        "esType": "keyword",
                                                        "sourceParams": {
                                                            "indexPattern": "metrics-aws_bedrock_agentcore.metrics-default",
                                                            "sourceField": "aws.dimensions.Resource"
                                                        },
                                                        "type": "string"
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StopCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = sum(aws.bedrock_agentcore.metrics.UserErrors.sum),\n        sum_system_errors = sum(aws.bedrock_agentcore.metrics.SystemErrors.sum),\n        avg_duration = avg(aws.bedrock_agentcore.metrics.Duration.avg), \n        sum_throttles = sum(aws.bedrock_agentcore.metrics.Throttles.sum),\n        sum_invocations = sum(aws.bedrock_agentcore.metrics.Invocations.sum) by aws.dimensions.Resource\n| EVAL total_errors = sum_system_errors + sum_user_errors        \n| SORT total_errors DESC\n| LIMIT 10"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StopCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = sum(aws.bedrock_agentcore.metrics.UserErrors.sum),\n        sum_system_errors = sum(aws.bedrock_agentcore.metrics.SystemErrors.sum),\n        avg_duration = avg(aws.bedrock_agentcore.metrics.Duration.avg), \n        sum_throttles = sum(aws.bedrock_agentcore.metrics.Throttles.sum),\n        sum_invocations = sum(aws.bedrock_agentcore.metrics.Invocations.sum) by aws.dimensions.Resource\n| EVAL total_errors = sum_system_errors + sum_user_errors        \n| SORT total_errors DESC\n| LIMIT 10"
                            },
                            "visualization": {
                                "columns": [
                                    {
                                        "colorMode": "cell",
                                        "columnId": "sum_user_errors",
                                        "palette": {
                                            "name": "negative",
                                            "params": {
                                                "continuity": "above",
                                                "name": "negative",
                                                "rangeMax": null,
                                                "rangeMin": 0,
                                                "reverse": false,
                                                "stops": [
                                                    {
                                                        "color": "#fbddd6",
                                                        "stop": 0
                                                    },
                                                    {
                                                        "color": "#f3bbaf",
                                                        "stop": 20
                                                    },
                                                    {
                                                        "color": "#e99a89",
                                                        "stop": 40
                                                    },
                                                    {
                                                        "color": "#db7965",
                                                        "stop": 60
                                                    },
                                                    {
                                                        "color": "#cc5642",
                                                        "stop": 80
                                                    }
                                                ]
                                            },
                                            "type": "palette"
                                        }
                                    },
                                    {
                                        "colorMode": "cell",
                                        "columnId": "sum_system_errors",
                                        "palette": {
                                            "name": "negative",
                                            "params": {
                                                "continuity": "above",
                                                "name": "negative",
                                                "rangeMax": null,
                                                "rangeMin": 0,
                                                "reverse": false,
                                                "stops": [
                                                    {
                                                        "color": "#fbddd6",
                                                        "stop": 0
                                                    },
                                                    {
                                                        "color": "#f3bbaf",
                                                        "stop": 20
                                                    },
                                                    {
                                                        "color": "#e99a89",
                                                        "stop": 40
                                                    },
                                                    {
                                                        "color": "#db7965",
                                                        "stop": 60
                                                    },
                                                    {
                                                        "color": "#cc5642",
                                                        "stop": 80
                                                    }
                                                ]
                                            },
                                            "type": "palette"
                                        }
                                    },
                                    {
                                        "colorMode": "cell",
                                        "columnId": "avg_duration",
                                        "palette": {
                                            "name": "complementary",
                                            "params": {
                                                "continuity": "above",
                                                "name": "complementary",
                                                "rangeMax": null,
                                                "rangeMin": 0,
                                                "reverse": false,
                                                "stops": [
                                                    {
                                                        "color": "#6092c0",
                                                        "stop": 0
                                                    },
                                                    {
                                                        "color": "#a6c1db",
                                                        "stop": 20
                                                    },
                                                    {
                                                        "color": "#ebeff5",
                                                        "stop": 40
                                                    },
                                                    {
                                                        "color": "#e3bd9d",
                                                        "stop": 60
                                                    },
                                                    {
                                                        "color": "#da8b45",
                                                        "stop": 80
                                                    }
                                                ]
                                            },
                                            "type": "palette"
                                        }
                                    },
                                    {
                                        "colorMode": "cell",
                                        "columnId": "sum_throttles",
                                        "palette": {
                                            "name": "warm",
                                            "params": {
                                                "continuity": "above",
                                                "name": "warm",
                                                "rangeMax": null,
                                                "rangeMin": 0,
                                                "reverse": false,
                                                "stops": [
                                                    {
                                                        "color": "#f7e0b8",
                                                        "stop": 0
                                                    },
                                                    {
                                                        "color": "#f2c596",
                                                        "stop": 20
                                                    },
                                                    {
                                                        "color": "#eca976",
                                                        "stop": 40
                                                    },
                                                    {
                                                        "color": "#e78c5b",
                                                        "stop": 60
                                                    },
                                                    {
                                                        "color": "#e7664c",
                                                        "stop": 80
                                                    }
                                                ]
                                            },
                                            "type": "palette"
                                        }
                                    },
                                    {
                                        "colorMode": "cell",
                                        "columnId": "sum_invocations",
                                        "palette": {
                                            "name": "positive",
                                            "params": {
                                                "stops": [
                                                    {
                                                        "color": "#d6e9e4",
                                                        "stop": 20
                                                    },
                                                    {
                                                        "color": "#aed3ca",
                                                        "stop": 40
                                                    },
                                                    {
                                                        "color": "#85bdb1",
                                                        "stop": 60
                                                    },
                                                    {
                                                        "color": "#5aa898",
                                                        "stop": 80
                                                    },
                                                    {
                                                        "color": "#209280",
                                                        "stop": 100
                                                    }
                                                ]
                                            },
                                            "type": "palette"
                                        }
                                    },
                                    {
                                        "columnId": "afde4777-0e82-41b0-a5dc-69de4326dd8e",
                                        "isMetric": false,
                                        "isTransposed": false
                                    }
                                ],
                                "layerId": "d0ee0c84-935c-4971-b108-9b7e81603d04",
                                "layerType": "data"
                            }
                        },
                        "title": "sum_user_errors \u0026 sum_system_errors \u0026 avg_duration \u0026 sum_throttles \u0026 sum_invocations of (empty)",
                        "visualizationType": "lnsDatatable"
                    },
                    "description": "Top 10 resources by total errors for Code Interpreter session stop operations, including invocation count, duration, throttles, and error breakdown.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StopCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = sum(aws.bedrock_agentcore.metrics.UserErrors.sum),\n        sum_system_errors = sum(aws.bedrock_agentcore.metrics.SystemErrors.sum),\n        avg_duration = avg(aws.bedrock_agentcore.metrics.Duration.avg), \n        sum_throttles = sum(aws.bedrock_agentcore.metrics.Throttles.sum),\n        sum_invocations = sum(aws.bedrock_agentcore.metrics.Invocations.sum) by aws.dimensions.Resource\n| EVAL total_errors = sum_system_errors + sum_user_errors        \n| SORT total_errors DESC\n| LIMIT 10"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Top session stops - by resource"
                },
                "gridData": {
                    "h": 10,
                    "i": "8986c7f7-1c25-430c-9d2c-d17e7f3c3ffc",
                    "sectionId": "6e81e563-1152-490d-a819-c4f45bbe47e9",
                    "w": 48,
                    "x": 0,
                    "y": 0
                },
                "panelIndex": "8986c7f7-1c25-430c-9d2c-d17e7f3c3ffc",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "1d93c9fe-6164-49de-846e-b9f87c06a7ef": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_invocations",
                                                    "customLabel": true,
                                                    "fieldName": "sum_invocations",
                                                    "inMetricDimension": true,
                                                    "label": "Invocations",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "aws.dimensions.Resource",
                                                    "customLabel": false,
                                                    "fieldName": "aws.dimensions.Resource",
                                                    "label": "aws.dimensions.Resource",
                                                    "meta": {
                                                        "esType": "keyword",
                                                        "type": "string"
                                                    }
                                                },
                                                {
                                                    "columnId": "@timestamp",
                                                    "customLabel": false,
                                                    "fieldName": "@timestamp",
                                                    "label": "@timestamp",
                                                    "meta": {
                                                        "esType": "date",
                                                        "type": "date"
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StopCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_invocations = sum(aws.bedrock_agentcore.metrics.Invocations.sum) by aws.dimensions.Resource, @timestamp"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StopCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_invocations = sum(aws.bedrock_agentcore.metrics.Invocations.sum) by aws.dimensions.Resource, @timestamp"
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "sum_invocations"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "default",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rules": [
                                                        {
                                                            "type": "other"
                                                        }
                                                    ],
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "1d93c9fe-6164-49de-846e-b9f87c06a7ef",
                                        "layerType": "data",
                                        "seriesType": "bar",
                                        "splitAccessor": "aws.dimensions.Resource",
                                        "xAccessor": "@timestamp"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "bottom"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide"
                            }
                        },
                        "title": "sum_invocations over @timestamp",
                        "visualizationType": "lnsXY"
                    },
                    "description": "Code Interpreter session stop invocations, grouped by resource.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": false,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StopCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_invocations = sum(aws.bedrock_agentcore.metrics.Invocations.sum) by aws.dimensions.Resource, @timestamp"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Sessions stops - by resource"
                },
                "gridData": {
                    "h": 14,
                    "i": "dd75d9a7-9169-4801-8981-95f184cfdcc8",
                    "sectionId": "6e81e563-1152-490d-a819-c4f45bbe47e9",
                    "w": 48,
                    "x": 0,
                    "y": 10
                },
                "panelIndex": "dd75d9a7-9169-4801-8981-95f184cfdcc8",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "bae3899f-3014-4954-8ea6-20d2885058b7": {
                                            "columns": [
                                                {
                                                    "columnId": "avg_duration",
                                                    "customLabel": true,
                                                    "fieldName": "avg_duration",
                                                    "inMetricDimension": true,
                                                    "label": "Duration",
                                                    "meta": {
                                                        "esType": "double",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "duration",
                                                            "params": {
                                                                "decimals": 2,
                                                                "fromUnit": "milliseconds",
                                                                "toUnit": "humanizePrecise"
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "aws.dimensions.Resource",
                                                    "customLabel": false,
                                                    "fieldName": "aws.dimensions.Resource",
                                                    "label": "aws.dimensions.Resource",
                                                    "meta": {
                                                        "esType": "keyword",
                                                        "type": "string"
                                                    }
                                                },
                                                {
                                                    "columnId": "@timestamp",
                                                    "customLabel": false,
                                                    "fieldName": "@timestamp",
                                                    "label": "@timestamp",
                                                    "meta": {
                                                        "esType": "date",
                                                        "type": "date"
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StopCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS avg_duration = avg(aws.bedrock_agentcore.metrics.Duration.avg) by aws.dimensions.Resource, @timestamp\n"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StopCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS avg_duration = avg(aws.bedrock_agentcore.metrics.Duration.avg) by aws.dimensions.Resource, @timestamp\n"
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "avg_duration"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "default",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rules": [
                                                        {
                                                            "type": "other"
                                                        }
                                                    ],
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "bae3899f-3014-4954-8ea6-20d2885058b7",
                                        "layerType": "data",
                                        "seriesType": "bar",
                                        "splitAccessor": "aws.dimensions.Resource",
                                        "xAccessor": "@timestamp"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "bottom"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide"
                            }
                        },
                        "title": "avg_duration over @timestamp",
                        "visualizationType": "lnsXY"
                    },
                    "description": "Average duration of Code Interpreter session stop operations, grouped by resource.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": false,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StopCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS avg_duration = avg(aws.bedrock_agentcore.metrics.Duration.avg) by aws.dimensions.Resource, @timestamp\n"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Session stop duration - by resource"
                },
                "gridData": {
                    "h": 13,
                    "i": "0fd12120-ae47-4e5d-b022-79a81d516e03",
                    "sectionId": "6e81e563-1152-490d-a819-c4f45bbe47e9",
                    "w": 24,
                    "x": 0,
                    "y": 24
                },
                "panelIndex": "0fd12120-ae47-4e5d-b022-79a81d516e03",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "5d5c3995-a706-43a6-a992-81a3883aed80": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_throttles",
                                                    "customLabel": true,
                                                    "fieldName": "sum_throttles",
                                                    "inMetricDimension": true,
                                                    "label": "Throttles",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "aws.dimensions.Resource",
                                                    "customLabel": false,
                                                    "fieldName": "aws.dimensions.Resource",
                                                    "label": "aws.dimensions.Resource",
                                                    "meta": {
                                                        "esType": "keyword",
                                                        "type": "string"
                                                    }
                                                },
                                                {
                                                    "columnId": "@timestamp",
                                                    "customLabel": false,
                                                    "fieldName": "@timestamp",
                                                    "label": "@timestamp",
                                                    "meta": {
                                                        "esType": "date",
                                                        "type": "date"
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StopCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_throttles = sum(aws.bedrock_agentcore.metrics.Throttles.sum) by aws.dimensions.Resource, @timestamp"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StopCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_throttles = sum(aws.bedrock_agentcore.metrics.Throttles.sum) by aws.dimensions.Resource, @timestamp"
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "sum_throttles"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "default",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rules": [
                                                        {
                                                            "type": "other"
                                                        }
                                                    ],
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "5d5c3995-a706-43a6-a992-81a3883aed80",
                                        "layerType": "data",
                                        "seriesType": "bar_stacked",
                                        "splitAccessor": "aws.dimensions.Resource",
                                        "xAccessor": "@timestamp"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "bottom"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide"
                            }
                        },
                        "title": "sum_throttles over @timestamp",
                        "visualizationType": "lnsXY"
                    },
                    "description": "Throttled requests during Code Interpreter session stop operations, grouped by resource.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": false,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StopCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_throttles = sum(aws.bedrock_agentcore.metrics.Throttles.sum) by aws.dimensions.Resource, @timestamp"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Session stop throttles - by resource"
                },
                "gridData": {
                    "h": 13,
                    "i": "3e01e824-8f09-4e39-ada5-5a95d3b26618",
                    "sectionId": "6e81e563-1152-490d-a819-c4f45bbe47e9",
                    "w": 24,
                    "x": 24,
                    "y": 24
                },
                "panelIndex": "3e01e824-8f09-4e39-ada5-5a95d3b26618",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "a3706436-2f50-4b71-b084-1b6dc5c1fab8": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_system_errors",
                                                    "customLabel": true,
                                                    "fieldName": "sum_system_errors",
                                                    "inMetricDimension": true,
                                                    "label": "System errors",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "aws.dimensions.Resource",
                                                    "customLabel": false,
                                                    "fieldName": "aws.dimensions.Resource",
                                                    "label": "aws.dimensions.Resource",
                                                    "meta": {
                                                        "esType": "keyword",
                                                        "type": "string"
                                                    }
                                                },
                                                {
                                                    "columnId": "@timestamp",
                                                    "customLabel": false,
                                                    "fieldName": "@timestamp",
                                                    "label": "@timestamp",
                                                    "meta": {
                                                        "esType": "date",
                                                        "type": "date"
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StopCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_system_errors = sum(aws.bedrock_agentcore.metrics.SystemErrors.sum) by aws.dimensions.Resource, @timestamp"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StopCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_system_errors = sum(aws.bedrock_agentcore.metrics.SystemErrors.sum) by aws.dimensions.Resource, @timestamp"
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "sum_system_errors"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "default",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rules": [
                                                        {
                                                            "type": "other"
                                                        }
                                                    ],
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "a3706436-2f50-4b71-b084-1b6dc5c1fab8",
                                        "layerType": "data",
                                        "seriesType": "bar_stacked",
                                        "splitAccessor": "aws.dimensions.Resource",
                                        "xAccessor": "@timestamp"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "bottom"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide"
                            }
                        },
                        "title": "sum_system_errors over @timestamp",
                        "visualizationType": "lnsXY"
                    },
                    "description": "Server-side errors during Code Interpreter session stop operations, grouped by resource.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": false,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StopCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_system_errors = sum(aws.bedrock_agentcore.metrics.SystemErrors.sum) by aws.dimensions.Resource, @timestamp"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Session stop system errors - by resource"
                },
                "gridData": {
                    "h": 13,
                    "i": "a0abea49-f9cb-4923-aa03-7244e248ed21",
                    "sectionId": "6e81e563-1152-490d-a819-c4f45bbe47e9",
                    "w": 24,
                    "x": 0,
                    "y": 37
                },
                "panelIndex": "a0abea49-f9cb-4923-aa03-7244e248ed21",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8": {
                                    "allowHidden": false,
                                    "allowNoIndex": false,
                                    "fieldFormats": {},
                                    "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                    "name": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-aws_bedrock_agentcore.metrics-default",
                                    "type": "esql"
                                }
                            },
                            "datasourceStates": {
                                "textBased": {
                                    "indexPatternRefs": [
                                        {
                                            "id": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "timeField": "@timestamp",
                                            "title": "metrics-aws_bedrock_agentcore.metrics-default"
                                        }
                                    ],
                                    "layers": {
                                        "eeb59286-4ae4-45a7-a680-00c868ceb72c": {
                                            "columns": [
                                                {
                                                    "columnId": "sum_user_errors",
                                                    "customLabel": true,
                                                    "fieldName": "sum_user_errors",
                                                    "inMetricDimension": true,
                                                    "label": "User errors",
                                                    "meta": {
                                                        "esType": "long",
                                                        "type": "number"
                                                    },
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        }
                                                    }
                                                },
                                                {
                                                    "columnId": "aws.dimensions.Resource",
                                                    "customLabel": false,
                                                    "fieldName": "aws.dimensions.Resource",
                                                    "label": "aws.dimensions.Resource",
                                                    "meta": {
                                                        "esType": "keyword",
                                                        "type": "string"
                                                    }
                                                },
                                                {
                                                    "columnId": "@timestamp",
                                                    "customLabel": false,
                                                    "fieldName": "@timestamp",
                                                    "label": "@timestamp",
                                                    "meta": {
                                                        "esType": "date",
                                                        "type": "date"
                                                    }
                                                }
                                            ],
                                            "index": "5d84d24641364db141b9aa48297180299afa47f7717dcedcedd6b5e1f32e07f8",
                                            "query": {
                                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StopCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = sum(aws.bedrock_agentcore.metrics.UserErrors.sum) by aws.dimensions.Resource, @timestamp\n"
                                            },
                                            "timeField": "@timestamp"
                                        }
                                    }
                                }
                            },
                            "filters": [],
                            "needsRefresh": false,
                            "query": {
                                "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StopCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = sum(aws.bedrock_agentcore.metrics.UserErrors.sum) by aws.dimensions.Resource, @timestamp\n"
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fittingFunction": "Linear",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "sum_user_errors"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "default",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rules": [
                                                        {
                                                            "type": "other"
                                                        }
                                                    ],
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "eeb59286-4ae4-45a7-a680-00c868ceb72c",
                                        "layerType": "data",
                                        "seriesType": "bar",
                                        "splitAccessor": "aws.dimensions.Resource",
                                        "xAccessor": "@timestamp"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "bottom"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide"
                            }
                        },
                        "title": "sum_user_errors over @timestamp",
                        "visualizationType": "lnsXY"
                    },
                    "description": "Client-side errors during Code Interpreter session stop operations, grouped by resource.",
                    "enhancements": {
                        "dynamicActions": {
                            "events": []
                        }
                    },
                    "filters": [],
                    "hidePanelTitles": false,
                    "query": {
                        "esql": "FROM metrics-aws_bedrock_agentcore.metrics-default\n| WHERE @timestamp \u003e ?_tstart AND @timestamp \u003c ?_tend\n| where aws.dimensions.Operation == \"StopCodeInterpreterSession\" AND aws.dimensions.Resource IS NOT NULL\n| STATS sum_user_errors = sum(aws.bedrock_agentcore.metrics.UserErrors.sum) by aws.dimensions.Resource, @timestamp\n"
                    },
                    "syncColors": false,
                    "syncCursor": true,
                    "syncTooltips": false,
                    "title": "Session stop user errors - by resource"
                },
                "gridData": {
                    "h": 13,
                    "i": "9d7a848f-6054-421f-b1d3-f4c153fc594f",
                    "sectionId": "6e81e563-1152-490d-a819-c4f45bbe47e9",
                    "w": 24,
                    "x": 24,
                    "y": 37
                },
                "panelIndex": "9d7a848f-6054-421f-b1d3-f4c153fc594f",
                "type": "lens"
            }
        ],
        "sections": [
            {
                "collapsed": false,
                "gridData": {
                    "i": "68a3205a-95ae-4024-9059-5f1bb3e2828a",
                    "y": 32
                },
                "title": "Session start details"
            },
            {
                "collapsed": false,
                "gridData": {
                    "i": "a55c3226-25e8-4136-96b1-9ba79fe3bda6",
                    "y": 33
                },
                "title": "Code execution details"
            },
            {
                "collapsed": false,
                "gridData": {
                    "i": "6e81e563-1152-490d-a819-c4f45bbe47e9",
                    "y": 34
                },
                "title": "Session stop details"
            }
        ],
        "timeRestore": false,
        "title": " [Amazon Bedrock Agentcore] Code interpreter",
        "version": 3
    },
    "coreMigrationVersion": "8.8.0",
    "created_at": "2025-12-16T07:00:49.318Z",
    "id": "aws_bedrock_agentcore-5e628ac1-5bd8-48f1-acad-5a940483b81a",
    "references": [
        {
            "id": "metrics-*",
            "name": "kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "kibanaSavedObjectMeta.searchSourceJSON.filter[1].meta.index",
            "type": "index-pattern"
        },
        {
            "id": "aws_bedrock_agentcore-3235ab43-8fa0-47f5-9590-b8d7451a4c92",
            "name": "dff3ffac-e45d-4e53-8a5b-c745ab4ad44c:link_83900b36-2b7c-4d33-a4d5-eb8d8f88fd6a_dashboard",
            "type": "dashboard"
        },
        {
            "id": "aws_bedrock_agentcore-b113ff26-879e-4ea2-b0ac-993b98ed06c4",
            "name": "dff3ffac-e45d-4e53-8a5b-c745ab4ad44c:link_6bfc6abe-352b-4ba0-9074-1f4f42135a06_dashboard",
            "type": "dashboard"
        },
        {
            "id": "aws_bedrock_agentcore-1f2ef1c3-afab-4b23-9e8b-b966f2fe40d2",
            "name": "dff3ffac-e45d-4e53-8a5b-c745ab4ad44c:link_22d809c7-154b-49e8-b9d6-99f330e54102_dashboard",
            "type": "dashboard"
        },
        {
            "id": "aws_bedrock_agentcore-b2372a13-4d94-43ec-8623-6c8d226dd071",
            "name": "dff3ffac-e45d-4e53-8a5b-c745ab4ad44c:link_62af6ff1-17cd-42e7-bc72-f274e3b545df_dashboard",
            "type": "dashboard"
        },
        {
            "id": "aws_bedrock_agentcore-65fae3e1-0b7f-410f-81c1-67055a71c595",
            "name": "dff3ffac-e45d-4e53-8a5b-c745ab4ad44c:link_eabbeaa5-4de6-4840-828b-20b7dbe2c956_dashboard",
            "type": "dashboard"
        },
        {
            "id": "aws_bedrock_agentcore-5e628ac1-5bd8-48f1-acad-5a940483b81a",
            "name": "dff3ffac-e45d-4e53-8a5b-c745ab4ad44c:link_95cc91ad-eb10-492d-8cf9-ce70489c3b97_dashboard",
            "type": "dashboard"
        },
        {
            "id": "metrics-*",
            "name": "controlGroup_be3cd122-d633-4eee-a60c-2206df0976d4:optionsListDataView",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "controlGroup_d3e2b7be-7907-4c13-9391-309d8e4b6311:optionsListDataView",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "controlGroup_adef11a4-fc89-48e2-9008-1d327a67b704:optionsListDataView",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "kibanaSavedObjectMeta.searchSourceJSON.filter[1].meta.index",
            "type": "index-pattern"
        }
    ],
    "type": "dashboard",
    "typeMigrationVersion": "10.3.0"
}