title: "Query Log"
type: logs
streams:
  - input: cel
    title: Collect Pi-hole query logs
    description: Collect individual DNS queries from Pi-hole API with query details and actions
    template_path: cel.yml.hbs
    vars:
      - name: interval
        type: text
        title: Collection Interval
        description: Interval for data collection
        default: 60s
        required: false
        show_user: true
      - name: max_queries_per_request
        type: integer
        title: Maximum Queries Per Request
        description: Maximum number of queries to fetch per API request (1-10000)
        default: 1000
        required: false
        show_user: true
      - name: enable_request_tracer
        type: bool
        title: Enable Request Tracer
        description: Enable request tracing for debugging
        default: false
      - name: proxy_url
        type: text
        title: Proxy URL
        description: Optional HTTP proxy for connecting to Pi-hole
        required: false
        show_user: false
      - name: ssl
        type: yaml
        title: SSL Configuration
        description: Custom SSL/TLS settings for HTTPS connections
        required: false
        show_user: false
      - name: http_client_timeout
        type: text
        title: HTTP Client Timeout
        description: Request timeout duration (default 30s)
        default: 30s
        required: false
        show_user: false
      - name: preserve_original_event
        type: bool
        title: Preserve Original Event
        description: Preserve the original event data for debugging
        default: false
        required: false
        show_user: false
      - name: tags
        type: text
        title: Tags
        multi: true
        default:
          - pihole-dns_queries
        required: false
        show_user: false
      - name: processors
        type: yaml
        title: Processors
        description: Custom processors for data processing
        required: false
        show_user: false
elasticsearch:
  source_mode: default
