# Prometheus OpenTelemetry Input Package

## Overview

This package allows you to scrape Prometheus-compatible metrics endpoints using the OpenTelemetry Collector's [Prometheus receiver](https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/receiver/prometheusreceiver).

### How it works

This package configures the Prometheus receiver in the EDOT collector to scrape metrics from Prometheus-compatible endpoints. The Elastic Agent processes and enriches the data before sending it to Elasticsearch for indexing and analysis.

## Migrating from Prometheus

If you have an existing Prometheus scrape configuration, you can migrate it directly to this package. The package generates a Prometheus receiver configuration that follows the same structure.

**Example Prometheus scrape config:**

```yaml
scrape_configs:
  - job_name: 'my-app'
    scrape_interval: 15s
    scrape_timeout: 10s
    metrics_path: /metrics
    scheme: http
    static_configs:
      - targets:
          - 'localhost:9090'
          - 'localhost:9100'
    honor_labels: true
    honor_timestamps: true
```

**Equivalent receiver config generated by this package:**

```yaml
receivers:
  prometheus:
    config:
      scrape_configs:
        - job_name: 'prometheus_scrape'
          scrape_interval: 15s
          scrape_timeout: 10s
          metrics_path: /metrics
          scheme: http
          honor_labels: true
          honor_timestamps: true
          static_configs:
            - targets:
                - localhost:9090
                - localhost:9100
```

## Configuration Reference

For detailed configuration options and their descriptions, refer to the [Prometheus Receiver documentation](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/receiver/prometheusreceiver/README.md) in the upstream OpenTelemetry Collector repository.

## Use Cases

- Monitor applications exposing Prometheus metrics
- Scrape Node Exporter, cAdvisor, or other Prometheus exporters
- Collect custom application metrics in Prometheus format
- Migrate from Prometheus to Elastic Observability

## Compatibility

This package requires:

- Kibana 9.2.0 or later
- Elastic Agent with OpenTelemetry Collector support
