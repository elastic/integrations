metricsets: ["metrics"]
period: {{period}}
project_id: {{project_id}}
{{#if credentials_file}}
credentials_file_path: {{credentials_file}}
{{/if}}
{{#if credentials_json}}
credentials_json: '{{credentials_json}}'
{{/if}}
{{#if region}}
region: {{region}}
{{/if}}
exclude_labels: {{exclude_labels}}
metrics:
  - aligner: ALIGN_NONE
    service: cloudsql
    metric_types:
      - "database/active_directory/domain_reachable"
      - "database/active_directory/instance_available"
      - "database/auto_failover_request_count"
      - "database/available_for_failover"
      - "database/cpu/reserved_cores"
      - "database/cpu/usage_time"
      - "database/cpu/utilization"
      - "database/disk/bytes_used"
      - "database/disk/bytes_used_by_data_type"
      - "database/disk/quota"
      - "database/disk/read_ops_count"
      - "database/disk/utilization"
      - "database/disk/write_ops_count"
      - "database/instance_state"
      - "database/memory/quota"
      - "database/memory/total_usage"
      - "database/memory/usage"
      - "database/memory/utilization"
      - "database/network/connections"
      - "database/network/received_bytes_count"
      - "database/network/sent_bytes_count"
      - "database/postgresql/blocks_read_count"
      - "database/postgresql/deadlock_count"
      - "database/postgresql/external_sync/initial_sync_complete"
      - "database/postgresql/external_sync/max_replica_byte_lag"
      - "database/postgresql/insights/aggregate/execution_time"
      - "database/postgresql/insights/aggregate/io_time"
      - "database/postgresql/insights/aggregate/latencies"
      - "database/postgresql/insights/aggregate/lock_time"
      - "database/postgresql/insights/aggregate/row_count"
      - "database/postgresql/insights/aggregate/shared_blk_access_count"
      - "database/postgresql/insights/perquery/execution_time"
      - "database/postgresql/insights/perquery/io_time"
      - "database/postgresql/insights/perquery/latencies"
      - "database/postgresql/insights/perquery/lock_time"
      - "database/postgresql/insights/perquery/row_count"
      - "database/postgresql/insights/perquery/shared_blk_access_count"
      - "database/postgresql/insights/pertag/execution_time"
      - "database/postgresql/insights/pertag/io_time"
      - "database/postgresql/insights/pertag/latencies"
      - "database/postgresql/insights/pertag/lock_time"
      - "database/postgresql/insights/pertag/row_count"
      - "database/postgresql/insights/pertag/shared_blk_access_count"
      - "database/postgresql/num_backends"
      - "database/postgresql/num_backends_by_state"
      - "database/postgresql/replication/replica_byte_lag"
      - "database/postgresql/transaction_count"
      - "database/postgresql/transaction_id_count"
      - "database/postgresql/transaction_id_utilization"
      - "database/postgresql/tuple_size"
      - "database/postgresql/tuples_processed_count"
      - "database/postgresql/vacuum/oldest_transaction_age"
      - "database/replication/log_archive_failure_count"
      - "database/replication/log_archive_success_count"
      - "database/replication/network_lag"
      - "database/replication/replica_lag"
      - "database/replication/state"
      - "database/state"
      - "database/up"
      - "database/uptime"
processors:
  - rename:
      ignore_missing: true
      fields:
        - from: "gcp.metrics.database.active_directory.domain_reachable.value"
          to: "gcp.cloudsql_postgresql.database.active_directory.domain_reachable"
        - from: "gcp.metrics.database.active_directory.instance_available.value"
          to: "gcp.cloudsql_postgresql.database.active_directory.instance_available"
        - from: "gcp.metrics.database.auto_failover_request_count.value"
          to: "gcp.cloudsql_postgresql.database.auto_failover_request_count"
        - from: "gcp.metrics.database.available_for_failover.value"
          to: "gcp.cloudsql_postgresql.database.available_for_failover"
        - from: "gcp.metrics.database.cpu.reserved_cores.value"
          to: "gcp.cloudsql_postgresql.database.cpu.reserved_cores"
        - from: "gcp.metrics.database.cpu.usage_time.value"
          to: "gcp.cloudsql_postgresql.database.cpu.usage_time"
        - from: "gcp.metrics.database.cpu.utilization.value"
          to: "gcp.cloudsql_postgresql.database.cpu.utilization"
        - from: "gcp.metrics.database.disk.bytes_used.value"
          to: "gcp.cloudsql_postgresql.database.disk.bytes_used"
        - from: "gcp.metrics.database.disk.bytes_used_by_data_type.value"
          to: "gcp.cloudsql_postgresql.database.disk.bytes_used_by_data_type"
        - from: "gcp.metrics.database.disk.quota.value"
          to: "gcp.cloudsql_postgresql.database.disk.quota"
        - from: "gcp.metrics.database.disk.read_ops_count.value"
          to: "gcp.cloudsql_postgresql.database.disk.read_ops_count"
        - from: "gcp.metrics.database.disk.utilization.value"
          to: "gcp.cloudsql_postgresql.database.disk.utilization"
        - from: "gcp.metrics.database.disk.write_ops_count.value"
          to: "gcp.cloudsql_postgresql.database.disk.write_ops_count"
        - from: "gcp.metrics.database.instance_state.value"
          to: "gcp.cloudsql_postgresql.database.instance_state"
        - from: "gcp.metrics.database.memory.quota.value"
          to: "gcp.cloudsql_postgresql.database.memory.quota"
        - from: "gcp.metrics.database.memory.total_usage.value"
          to: "gcp.cloudsql_postgresql.database.memory.total_usage"
        - from: "gcp.metrics.database.memory.usage.value"
          to: "gcp.cloudsql_postgresql.database.memory.usage"
        - from: "gcp.metrics.database.memory.utilization.value"
          to: "gcp.cloudsql_postgresql.database.memory.utilization"
        - from: "gcp.metrics.database.network.connections.value"
          to: "gcp.cloudsql_postgresql.database.network.connections"
        - from: "gcp.metrics.database.network.received_bytes_count.value"
          to: "gcp.cloudsql_postgresql.database.network.received_bytes_count"
        - from: "gcp.metrics.database.network.sent_bytes_count.value"
          to: "gcp.cloudsql_postgresql.database.network.sent_bytes_count"
        - from: "gcp.metrics.database.postgresql.blocks_read_count.value"
          to: "gcp.cloudsql_postgresql.database.blocks_read_count"
        - from: "gcp.metrics.database.postgresql.deadlock_count.value"
          to: "gcp.cloudsql_postgresql.database.deadlock_count"
        - from: "gcp.metrics.database.postgresql.external_sync.initial_sync_complete.value"
          to: "gcp.cloudsql_postgresql.database.external_sync.initial_sync_complete"
        - from: "gcp.metrics.database.postgresql.external_sync.max_replica_byte_lag.value"
          to: "gcp.cloudsql_postgresql.database.external_sync.max_replica_byte_lag"
        - from: "gcp.metrics.database.postgresql.insights.aggregate.execution_time.value"
          to: "gcp.cloudsql_postgresql.database.insights.aggregate.execution_time"
        - from: "gcp.metrics.database.postgresql.insights.aggregate.io_time.value"
          to: "gcp.cloudsql_postgresql.database.insights.aggregate.io_time"
        - from: "gcp.metrics.database.postgresql.insights.aggregate.latencies.value"
          to: "gcp.cloudsql_postgresql.database.insights.aggregate.latencies"
        - from: "gcp.metrics.database.postgresql.insights.aggregate.lock_time.value"
          to: "gcp.cloudsql_postgresql.database.insights.aggregate.lock_time"
        - from: "gcp.metrics.database.postgresql.insights.aggregate.row_count.value"
          to: "gcp.cloudsql_postgresql.database.insights.aggregate.row_count"
        - from: "gcp.metrics.database.postgresql.insights.aggregate.shared_blk_access_count.value"
          to: "gcp.cloudsql_postgresql.database.insights.aggregate.shared_blk_access_count"
        - from: "gcp.metrics.database.postgresql.insights.perquery.execution_time.value"
          to: "gcp.cloudsql_postgresql.database.insights.perquery.execution_time"
        - from: "gcp.metrics.database.postgresql.insights.perquery.io_time.value"
          to: "gcp.cloudsql_postgresql.database.insights.perquery.io_time"
        - from: "gcp.metrics.database.postgresql.insights.perquery.latencies.value"
          to: "gcp.cloudsql_postgresql.database.insights.perquery.latencies"
        - from: "gcp.metrics.database.postgresql.insights.perquery.lock_time.value"
          to: "gcp.cloudsql_postgresql.database.insights.perquery.lock_time"
        - from: "gcp.metrics.database.postgresql.insights.perquery.row_count.value"
          to: "gcp.cloudsql_postgresql.database.insights.perquery.row_count"
        - from: "gcp.metrics.database.postgresql.insights.perquery.shared_blk_access_count.value"
          to: "gcp.cloudsql_postgresql.database.insights.perquery.shared_blk_access_count"
        - from: "gcp.metrics.database.postgresql.insights.pertag.execution_time.value"
          to: "gcp.cloudsql_postgresql.database.insights.pertag.execution_time"
        - from: "gcp.metrics.database.postgresql.insights.pertag.io_time.value"
          to: "gcp.cloudsql_postgresql.database.insights.pertag.io_time"
        - from: "gcp.metrics.database.postgresql.insights.pertag.latencies.value"
          to: "gcp.cloudsql_postgresql.database.insights.pertag.latencies"
        - from: "gcp.metrics.database.postgresql.insights.pertag.lock_time.value"
          to: "gcp.cloudsql_postgresql.database.insights.pertag.lock_time"
        - from: "gcp.metrics.database.postgresql.insights.pertag.row_count.value"
          to: "gcp.cloudsql_postgresql.database.insights.pertag.row_count"
        - from: "gcp.metrics.database.postgresql.insights.pertag.shared_blk_access_count.value"
          to: "gcp.cloudsql_postgresql.database.insights.pertag.shared_blk_access_count"
        - from: "gcp.metrics.database.postgresql.num_backends.value"
          to: "gcp.cloudsql_postgresql.database.num_backends"
        - from: "gcp.metrics.database.postgresql.num_backends_by_state.value"
          to: "gcp.cloudsql_postgresql.database.num_backends_by_state"
        - from: "gcp.metrics.database.postgresql.replication.replica_byte_lag.value"
          to: "gcp.cloudsql_postgresql.database.replication.replica_byte_lag"
        - from: "gcp.metrics.database.postgresql.transaction_count.value"
          to: "gcp.cloudsql_postgresql.database.transaction_count"
        - from: "gcp.metrics.database.postgresql.transaction_id_count.value"
          to: "gcp.cloudsql_postgresql.database.transaction_id_count"
        - from: "gcp.metrics.database.postgresql.transaction_id_utilization.value"
          to: "gcp.cloudsql_postgresql.database.transaction_id_utilization"
        - from: "gcp.metrics.database.postgresql.tuple_size.value"
          to: "gcp.cloudsql_postgresql.database.tuple_size"
        - from: "gcp.metrics.database.postgresql.tuples_processed_count.value"
          to: "gcp.cloudsql_postgresql.database.tuples_processed_count"
        - from: "gcp.metrics.database.postgresql.vacuum.oldest_transaction_age.value"
          to: "gcp.cloudsql_postgresql.database.vacuum.oldest_transaction_age"
        - from: "gcp.metrics.database.replication.log_archive_failure_count.value"
          to: "gcp.cloudsql_postgresql.database.replication.log_archive_failure_count"
        - from: "gcp.metrics.database.replication.log_archive_success_count.value"
          to: "gcp.cloudsql_postgresql.database.replication.log_archive_success_count"
        - from: "gcp.metrics.database.replication.network_lag.value"
          to: "gcp.cloudsql_postgresql.database.replication.network_lag"
        - from: "gcp.metrics.database.replication.replica_lag.value"
          to: "gcp.cloudsql_postgresql.database.replication.replica_lag"
        - from: "gcp.metrics.database.replication.state.value"
          to: "gcp.cloudsql_postgresql.database.replication.state"
        - from: "gcp.metrics.database.state.value"
          to: "gcp.cloudsql_postgresql.database.state"
        - from: "gcp.metrics.database.up.value"
          to: "gcp.cloudsql_postgresql.database.up"
        - from: "gcp.metrics.database.uptime.value"
          to: "gcp.cloudsql_postgresql.database.uptime"
  - drop_fields:
      ignore_missing: true
      fields:
        - "gcp.metrics"