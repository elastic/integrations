---
description: Pipeline for parsing GCP Billing metrics.
processors:
  - date:
      field: gcp.billing.usage_start_time
      formats:
        - ISO8601
  - date:
      field: gcp.billing.usage_end_time
      formats:
        - ISO8601
on_failure:
- set:
    field: event.kind
    value: pipeline_error
- append:
    field: tags
    value: preserve_original_event
    allow_duplicates: false
- set:
    field: error.message
    value: 'Processor {{{_ingest.on_failure_processor_type}}} with tag {{{_ingest.on_failure_processor_tag}}} in pipeline {{{_ingest.pipeline}}} failed with message: {{{_ingest.on_failure_message}}}'
