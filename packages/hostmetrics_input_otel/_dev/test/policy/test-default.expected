connectors:
    forward: {}
exporters:
    elasticsearch/componentid-0: []
inputs: []
output_permissions:
    default:
        _elastic_agent_checks:
            cluster:
                - monitor
        _elastic_agent_monitoring:
            indices: []
        uuid-for-permissions-on-related-indices:
            indices:
                - names:
                    - metrics-*-*
                  privileges:
                    - auto_configure
                    - create_doc
processors:
    resourcedetection/componentid-0:
        detectors:
            - system
        system:
            hostname_sources:
                - os
            resource_attributes:
                host.arch:
                    enabled: true
                host.cpu.cache.l2.size:
                    enabled: true
                host.cpu.family:
                    enabled: true
                host.cpu.model.id:
                    enabled: true
                host.cpu.model.name:
                    enabled: true
                host.cpu.stepping:
                    enabled: true
                host.cpu.vendor.id:
                    enabled: true
                host.id:
                    enabled: false
                host.ip:
                    enabled: true
                host.mac:
                    enabled: true
                host.name:
                    enabled: true
                os.description:
                    enabled: true
                os.type:
                    enabled: true
    transform/componentid-1:
        metric_statements:
            - context: datapoint
              statements:
                - set(attributes["data_stream.type"], "metrics")
                - set(attributes["data_stream.dataset"], "hostmetrics_input_otel.hostmetricsreceiver")
                - set(attributes["data_stream.namespace"], "ep")
receivers:
    hostmetrics/componentid-0:
        collection_interval: 30s
        scrapers:
            cpu:
                metrics:
                    system.cpu.logical.count:
                        enabled: true
                    system.cpu.utilization:
                        enabled: true
            disk: null
            filesystem: null
            load: null
            memory:
                metrics:
                    system.memory.utilization:
                        enabled: true
            network: null
            process:
                metrics:
                    process.disk.operations:
                        enabled: true
                    process.memory.utilization:
                        enabled: true
                    process.open_file_descriptors:
                        enabled: true
                    process.threads:
                        enabled: true
            processes: null
secret_references: []
service:
    pipelines:
        metrics:
            exporters:
                - elasticsearch/componentid-0
            receivers:
                - forward
        metrics/componentid-0:
            exporters:
                - forward
            processors:
                - resourcedetection/componentid-0
                - transform/componentid-1
            receivers:
                - hostmetrics/componentid-0
