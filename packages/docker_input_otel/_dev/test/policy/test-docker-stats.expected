connectors:
    forward: {}
exporters:
    elasticsearch/componentid-0: {}
inputs: []
output_permissions:
    default:
        _elastic_agent_checks:
            cluster:
                - monitor
        _elastic_agent_monitoring:
            indices: []
        uuid-for-permissions-on-related-indices:
            indices:
                - names:
                    - metrics-*-*
                  privileges:
                    - auto_configure
                    - create_doc
processors:
    resourcedetection/componentid-0:
        detectors:
            - env
            - system
            - gcp
            - ec2
            - azure
        override: false
        timeout: 2s
    transform/componentid-1:
        metric_statements:
            - context: datapoint
              statements:
                - set(attributes["data_stream.type"], "metrics")
                - set(attributes["data_stream.dataset"], "docker_input_otel.dockerstatsreceiver")
                - set(attributes["data_stream.namespace"], "ep")
receivers:
    docker_stats/componentid-0:
        api_version: "1.44"
        collection_interval: 10s
        container_labels_to_metric_labels:
            com.docker.compose.service: compose_service
            com.docker.compose.project: compose_project
        endpoint: unix:///var/run/docker.sock
        env_vars_to_metric_labels: 
            ENVIRONMENT: environment
        excluded_images:
            - nginx:latest
            - redis:alpine
        provide_per_core_cpu_metrics: true
        timeout: 5s
secret_references: []
service:
    pipelines:
        metrics:
            exporters:
                - elasticsearch/componentid-0
            receivers:
                - forward
        metrics/componentid-0:
            exporters:
                - forward
            processors:
                - resourcedetection/componentid-0
                - transform/componentid-1
            receivers:
                - docker_stats/componentid-0
