title: Windows perfmon metrics
release: experimental
type: metrics
streams:
- input: windows/metrics
  vars:
  - name: perfmon.group_measurements_by_instance
    type: bool
    title: Perfmon Group Measurements By Instance
    multi: false
    required: true
    show_user: true
    default: false
  - name: perfmon.ignore_non_existent_counters
    type: bool
    title: Perfmon Ignore Non Existent Counters
    multi: false
    required: true
    show_user: true
    default: false
  - name: perfmon.queries
    type: yaml
    title: Perfmon Queries
    multi: false
    required: true
    show_user: true
    default: |
      - object: 'Process'
        instance: ["*"]
        counters:
         - name: '% Processor Time'
           field: cpu_perc
           format: "float"
         - name: "Working Set"
  - name: period
    type: text
    title: Period
    multi: false
    required: true
    show_user: true
    default: 10s
  title: Windows perfmon metrics
  description: Collect Windows perfmon metrics
