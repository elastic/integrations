metricsets: ["cloudwatch"]
period: {{period}}
{{#if data_granularity}}
data_granularity: {{data_granularity}}
{{/if}}
{{#if include_linked_accounts}}
include_linked_accounts: {{include_linked_accounts}}
{{#if owning_account}}
owning_account: "{{owning_account}}"
{{/if}}
{{/if}}
{{#if access_key_id}}
access_key_id: {{access_key_id}}
{{/if}}
{{#if secret_access_key}}
secret_access_key: {{secret_access_key}}
{{/if}}
{{#if session_token}}
session_token: {{session_token}}
{{/if}}
{{#if credential_profile_name}}
credential_profile_name: {{credential_profile_name}}
{{/if}}
{{#if shared_credential_file}}
shared_credential_file: {{shared_credential_file}}
{{/if}}
{{#if role_arn}}
role_arn: {{role_arn}}
{{/if}}
{{#if default_region}}
default_region: {{default_region}}
{{/if}}
{{#if regions}}
regions:
{{#each regions as |region|}}
- {{region}}
{{/each}}
{{/if}}
{{#if latency}}
latency: {{latency}}
{{/if}}
{{#if tags_filter}}
tags_filter: {{tags_filter}}
{{/if}}
{{#if proxy_url }}
proxy_url: {{proxy_url}}
{{/if}}
{{#if processors}}
processors:
{{processors}}
{{/if}}
metrics:
{{#if activemq_quota_metrics}}
- namespace: AWS/AmazonMQ
  statistic: ["Maximum"]
  name:
  - AmqpMaximumConnections
  - MqttMaximumConnections
  - OpenwireMaximumConnections
  - StompMaximumConnections
  - WsMaximumConnections
  - CurrentConnectionsCount
  - EstablishedConnectionsCount
  - InactiveDurableTopicSubscribersCount
  - JournalFilesForFastRecovery
  - JournalFilesForFullRecovery
  - NetworkConnectorConnectionCount
  - NetworkIn
  - NetworkOut
  - OpenTransactionCount
  - TotalConsumerCount
  - TotalMessageCount
  - TotalProducerCount
  - VolumeReadOps
  - VolumeWriteOps
  - ConsumerCount
  - ReceiveCount
  - ProducerCount
  - QueueSize
  - TotalEnqueueCount
  - TotalDequeueCount
{{/if}}

- namespace: AWS/AmazonMQ
  statistic: ["Minimum"]
  name:
  - BurstBalance
  - CpuCreditBalance

- namespace: AWS/AmazonMQ
  statistic: ["Average"]
  name:
  - CpuUtilization
  - HeapUsage
  - JobSchedulerStorePercentUsage
  - StorePercentUsage
  - TempPercentUsage
  - EnqueueTime
  - MemoryUsage
  - BurstBalance

- namespace: AWS/AmazonMQ
  statistic: ["Sum"]
  name:
  - EnqueueCount
  - ExpiredCount
  - DequeueCount
  - DispatchCount
  - InFlightCount
