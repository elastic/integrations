metricsets: ["wmi"]
condition: ${host.platform} == 'windows'
data_stream:
  dataset: {{data_stream.dataset}}
period: {{period}}
wmi:
  namespace: {{wmi.namespace}}
{{#if wmi.warning_threshold}}
  warning_threashold: {{wmi.warning_threshold}}
{{/if}}
{{#if wmi.include_query_class}}
  include_query_class: {{wmi.include_query_class}}
{{/if}}
{{#if wmi.include_queries}}
  include_queries: {{wmi.include_queries}}
{{/if}}
{{#if wmi.include_null_properties}}
  include_null_properties: {{wmi.include_null_properties}}
{{/if}}
{{#if wmi.include_empty_strings_properties}}
  include_empty_strings_properties: {{wmi.include_empty_strings_properties}}  
{{/if}}
{{#if wmi.max_rows_per_query}}
  max_rows_per_query: {{wmi.max_rows_per_query}}
{{/if}}
{{#if wmi.schema_cache_size}}
  schema_cache_size: {{wmi.schema_cache_size}}
{{/if}}
  queries: {{wmi.queries}}

{{#if processors}}
processors:
{{processors}}
{{/if}}

{{#if tags}}
tags:
{{#each tags as |tag i|}}
  - {{tag}}
{{/each}}
{{/if}}