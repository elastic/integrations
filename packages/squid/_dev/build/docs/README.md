# Squid Proxy

Squid is a caching and forwarding HTTP web proxy. 
Use the Squid Proxy integration to monitor Squid Proxy access logs.

## Data streams

This integration supports ingestion of logs from Squid Proxy, via the [Filestream](https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-input-filestream.html), [TCP](https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-input-tcp.html), and/or [UDP](https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-input-udp.html) inputs.

**Log** is used to retrieve access log messages generated by Squid Proxy. For more details, refer to [access.log](https://wiki.squid-cache.org/SquidFaq/SquidLogs#accesslog) and [Squid native access.log format in detail](https://wiki.squid-cache.org/Features/LogFormat#squid-native-accesslog-format-in-detail).

## Requirements

You need Elasticsearch for storing and searching your data and Kibana for visualizing and managing it.
You can use our hosted Elasticsearch Service on Elastic Cloud, which is recommended, or self-manage the Elastic Stack on your own hardware.

Elastic Agent must be installed. For more information, refer to [Install Elastic Agents](https://www.elastic.co/guide/en/fleet/current/elastic-agent-installation.html).

### Installing and managing an Elastic Agent:

You have a few options for installing and managing an Elastic Agent:

#### Install a Fleet-managed Elastic Agent (recommended):

With this approach, you install Elastic Agent and use Fleet in Kibana to define, configure, and manage your agents in a central location. We recommend using Fleet management because it makes the management and upgrade of your agents considerably easier.

#### Install Elastic Agent in standalone mode (advanced users):

With this approach, you install Elastic Agent and manually configure the agent locally on the system where itâ€™s installed. You are responsible for managing and upgrading the agents. This approach is reserved for advanced users only.

#### Install Elastic Agent in a containerized environment:

You can run Elastic Agent inside a container, either with Fleet Server or standalone. Docker images for all versions of Elastic Agent are available from the Elastic Docker registry, and we provide deployment manifests for running on Kubernetes.

There are some minimum requirements for running Elastic Agent. For more information, refer to [Install Elastic Agents](https://www.elastic.co/guide/en/fleet/current/elastic-agent-installation.html).

The minimum **Kibana version** required is **8.14.1**.

## Setup

[Configure Squid](https://wiki.squid-cache.org/Features/LogModules#Module:_System_Log) to export access logs using one of the supported methods (file (Module: Standard I/O), udp (Module: UDP Receiver), or tcp (Module: TCP Receiver)).

The integration supports the following formats:

- [Native log file](https://wiki.squid-cache.org/Features/LogFormat#squid)

### Enabling the integration in Elastic:

1. In Kibana go to **Management** > **Integrations**.
2. In the **Search for integrations** bar, type `Squid Proxy`.
3. Select the `Squid Proxy` integration from the search results.
4. Click **Add Squid Proxy** to add the integration.
5. Add all the required integration configuration parameters according to the enabled input type.
6. Click **Save and continue**.

## Logs reference

### Log

The `log` dataset collects Squid logs.

#### Sample Event

{{event "log"}}

#### Exported Fields

{{fields "log"}}
