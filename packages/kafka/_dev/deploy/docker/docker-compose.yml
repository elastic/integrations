services:
  kafka:
    networks:
      default:
        aliases:
          - svc-kafka
    build:
      context: .
      dockerfile: ${DOCKER_FILE}
      args:
        KAFKA_VERSION: ${KAFKA_VERSION:-4.0.0}
        SCALA_VERSION: ${SCALA_VERSION:-2.13}
    ports:
      - "9092:9092"
      - "9093:9093"
      - "8780:8780"
      - "8774:8774"
      - "8775:8775"
      - "2181:2181"
    healthcheck:
      test: [ "CMD-SHELL", "/healthcheck.sh" ]
      interval: 15s
      timeout: 10s
      retries: 5
      start_period: 60s