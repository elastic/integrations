metricsets: ["jmx"]
period: {{period}}
http_method: "GET"
hosts:
{{#each hosts}}
  - {{this}}
{{/each}}
namespace: {{namespace}}
{{#if username}}
username: {{username}}
{{/if}}
{{#if password}}
password: {{password}}
{{/if}}
{{#if processors}}
processors:
{{processors}}
{{/if}}
jmx.mappings:
  # Network Acceptor MBeans
  - mbean: 'kafka.network:type=Acceptor,name=AcceptorBlockedPercent'
    attributes:
      - attr: Value
        field: acceptor.blocked_percent
        
  # Network Processor MBeans
  - mbean: 'kafka.network:type=Processor,name=IdlePercent'
    attributes:
      - attr: Value
        field: processor.idle_percent
        
  # Network Request Channel MBeans
  - mbean: 'kafka.network:type=RequestChannel,name=RequestQueueSize'
    attributes:
      - attr: Value
        field: request_channel.request_queue_size
  - mbean: 'kafka.network:type=RequestChannel,name=ResponseQueueSize'
    attributes:
      - attr: Value
        field: request_channel.response_queue_size
        
  # Network Request Metrics MBeans
  - mbean: 'kafka.network:type=RequestMetrics,name=ErrorsPerSec'
    attributes:
      - attr: OneMinuteRate
        field: request_metrics.errors_per_sec
  - mbean: 'kafka.network:type=RequestMetrics,name=LocalTimeMs'
    attributes:
      - attr: Mean
        field: request_metrics.local_time_ms
  - mbean: 'kafka.network:type=RequestMetrics,name=MessageConversionsTimeMs'
    attributes:
      - attr: Mean
        field: request_metrics.message_conversions_time_ms
  - mbean: 'kafka.network:type=RequestMetrics,name=RemoteTimeMs'
    attributes:
      - attr: Mean
        field: request_metrics.remote_time_ms
  - mbean: 'kafka.network:type=RequestMetrics,name=RequestBytes'
    attributes:
      - attr: Mean
        field: request_metrics.request_bytes
  - mbean: 'kafka.network:type=RequestMetrics,name=RequestQueueTimeMs'
    attributes:
      - attr: Mean
        field: request_metrics.request_queue_time_ms
  - mbean: 'kafka.network:type=RequestMetrics,name=RequestsPerSec'
    attributes:
      - attr: OneMinuteRate
        field: request_metrics.requests_per_sec
  - mbean: 'kafka.network:type=RequestMetrics,name=ResponseQueueTimeMs'
    attributes:
      - attr: Mean
        field: request_metrics.response_queue_time_ms
  - mbean: 'kafka.network:type=RequestMetrics,name=ResponseSendTimeMs'
    attributes:
      - attr: Mean
        field: request_metrics.response_send_time_ms
  - mbean: 'kafka.network:type=RequestMetrics,name=TemporaryMemoryBytes'
    attributes:
      - attr: Mean
        field: request_metrics.temporary_memory_bytes
  - mbean: 'kafka.network:type=RequestMetrics,name=ThrottleTimeMs'
    attributes:
      - attr: Mean
        field: request_metrics.throttle_time_ms
  - mbean: 'kafka.network:type=RequestMetrics,name=TotalTimeMs'
    attributes:
      - attr: Mean
        field: request_metrics.total_time_ms
        
  # Network Socket Server MBeans
  - mbean: 'kafka.network:type=SocketServer,name=ExpiredConnectionsKilledCount'
    attributes:
      - attr: Value
        field: socket_server.expired_connections_killed_count
  - mbean: 'kafka.network:type=SocketServer,name=MemoryPoolAvailable'
    attributes:
      - attr: Value
        field: socket_server.memory_pool_available
  - mbean: 'kafka.network:type=SocketServer,name=MemoryPoolUsed'
    attributes:
      - attr: Value
        field: socket_server.memory_pool_used
  - mbean: 'kafka.network:type=SocketServer,name=NetworkProcessorAvgIdlePercent'
    attributes:
      - attr: Value
        field: socket_server.network_processor_avg_idle_percent