- name: kafka.raft
  type: group
  description: >
    Kafka Raft metrics.
  fields:
    - name: append_records_rate
      type: double
      description: >
        The average number of records appended per sec as the leader of the raft quorum.
      metric_type: gauge
    - name: commit_latency_avg
      type: double
      description: >
        The average time in milliseconds to commit an entry in the raft log.
      metric_type: gauge
      unit: ms
    - name: commit_latency_max
      type: double
      description: >
        The maximum time in milliseconds to commit an entry in the raft log.
      metric_type: gauge
      unit: ms
    - name: current_epoch
      type: long
      description: >
        The current quorum epoch.
      metric_type: gauge
    - name: current_leader
      type: long
      description: >
        The current quorum leader's id; -1 indicates unknown.
      metric_type: gauge
    - name: current_vote
      type: long
      description: >
        The current voted id.
      metric_type: gauge
    - name: fetch_records_rate
      type: double
      description: >
        The average number of records fetched from the leader of the raft quorum.
      metric_type: gauge
    - name: high_watermark
      type: long
      description: >
        The high watermark maintained on this member; -1 if it is unknown.
      metric_type: gauge
    - name: log_end_epoch
      type: long
      description: >
        The current raft log end epoch.
      metric_type: gauge
    - name: log_end_offset
      type: long
      description: >
        The current raft log end offset.
      metric_type: gauge
    - name: number_unknown_voter_connections
      type: double
      description: >
        Number of unknown voters whose connection information is not cached; would never be larger than quorum-size.
      metric_type: gauge
    - name: poll_idle_ratio_avg
      type: double
      description: >
        The ratio of time the Raft IO thread is idle as opposed to doing work (e.g. handling requests or replicating from the leader).
      metric_type: gauge
      unit: percent
    - name: current_state
      type: keyword
      description: >
        The current state of this member; possible values are leader, candidate, voted, follower, unattached, observer.
    - name: number_of_voters
      type: double
      description: >
        Number of voters for a KRaft topic partition.
      metric_type: gauge
