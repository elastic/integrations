{
    "attributes": {
        "controlGroupInput": {
            "chainingSystem": "HIERARCHICAL",
            "controlStyle": "oneLine",
            "ignoreParentSettingsJSON": "{\"ignoreFilters\":false,\"ignoreQuery\":false,\"ignoreTimerange\":false,\"ignoreValidations\":false}",
            "panelsJSON": "{\"aa887cf3-390b-4da6-8c02-43ec133b0971\":{\"order\":0,\"width\":\"medium\",\"grow\":true,\"type\":\"optionsListControl\",\"explicitInput\":{\"title\":\"Topic Name\",\"fieldName\":\"kafka.topic.name\",\"id\":\"aa887cf3-390b-4da6-8c02-43ec133b0971\",\"selectedOptions\":[],\"enhancements\":{}}},\"bb5b4dfa-d433-48d7-8e16-7d2ad832565a\":{\"order\":1,\"width\":\"medium\",\"grow\":true,\"type\":\"rangeSliderControl\",\"explicitInput\":{\"title\":\"Partition\",\"fieldName\":\"kafka.partition.id\",\"id\":\"bb5b4dfa-d433-48d7-8e16-7d2ad832565a\",\"value\":[\"\",\"\"],\"enhancements\":{}}}}"
        },
        "description": "Kafka analysis of topics and consumer groups",
        "kibanaSavedObjectMeta": {
            "searchSourceJSON": {
                "filter": [
                    {
                        "$state": {
                            "store": "appState"
                        },
                        "meta": {
                            "alias": null,
                            "disabled": false,
                            "field": "data_stream.dataset",
                            "indexRefName": "kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index",
                            "key": "data_stream.dataset",
                            "negate": false,
                            "params": [
                                "kafka.broker",
                                "kafka.consumergroup",
                                "kafka.partition"
                            ],
                            "type": "phrases"
                        },
                        "query": {
                            "bool": {
                                "minimum_should_match": 1,
                                "should": [
                                    {
                                        "match_phrase": {
                                            "data_stream.dataset": "kafka.broker"
                                        }
                                    },
                                    {
                                        "match_phrase": {
                                            "data_stream.dataset": "kafka.consumergroup"
                                        }
                                    },
                                    {
                                        "match_phrase": {
                                            "data_stream.dataset": "kafka.partition"
                                        }
                                    }
                                ]
                            }
                        }
                    }
                ],
                "query": {
                    "language": "kuery",
                    "query": ""
                }
            }
        },
        "optionsJSON": {
            "hidePanelTitles": false,
            "syncColors": false,
            "syncCursor": true,
            "syncTooltips": false,
            "useMargins": true
        },
        "panelsJSON": [
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "tsvb_ad_hoc_metrics-*/@timestamp": {
                                    "allowNoIndex": true,
                                    "fieldAttrs": {},
                                    "fieldFormats": {},
                                    "id": "tsvb_ad_hoc_metrics-*/@timestamp",
                                    "name": "metrics-*",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-*"
                                }
                            },
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "e343bc30-40c9-44ef-95c4-e0f3c0c09e42": {
                                            "columnOrder": [
                                                "b7102aca-084c-4804-87f0-e84917de750f",
                                                "26f45bfa-6968-437a-bc86-8597977a9f38",
                                                "45efad59-6952-4670-aecb-085462439a5b"
                                            ],
                                            "columns": {
                                                "26f45bfa-6968-437a-bc86-8597977a9f38": {
                                                    "dataType": "date",
                                                    "isBucketed": true,
                                                    "label": "@timestamp",
                                                    "operationType": "date_histogram",
                                                    "params": {
                                                        "dropPartials": true,
                                                        "includeEmptyRows": true,
                                                        "interval": "auto"
                                                    },
                                                    "scale": "interval",
                                                    "sourceField": "@timestamp"
                                                },
                                                "45efad59-6952-4670-aecb-085462439a5b": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "lucene",
                                                        "query": "metricset.name: consumergroup"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Consumer Offsets",
                                                    "operationType": "sum",
                                                    "params": {
                                                        "emptyAsNull": false,
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 0
                                                            }
                                                        }
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "kafka.consumergroup.offset"
                                                },
                                                "b7102aca-084c-4804-87f0-e84917de750f": {
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Top 10 values of kafka.consumergroup.id",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderAgg": {
                                                            "dataType": "number",
                                                            "isBucketed": false,
                                                            "label": "Count of records",
                                                            "operationType": "count",
                                                            "params": {},
                                                            "scale": "ratio",
                                                            "sourceField": "___records___"
                                                        },
                                                        "orderBy": {
                                                            "type": "custom"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": false,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "secondaryFields": [],
                                                        "size": 10
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "kafka.consumergroup.id"
                                                }
                                            },
                                            "incompleteColumns": {}
                                        },
                                        "f5a5405c-7642-497b-8a1b-085809cb9434": {
                                            "columnOrder": [
                                                "d5e7a98f-3830-4521-8d3a-1f006b0d543e",
                                                "3f05b2ce-029d-4098-9893-eda6d42d766e",
                                                "84ab538f-c208-4951-a008-33550334fd0c"
                                            ],
                                            "columns": {
                                                "3f05b2ce-029d-4098-9893-eda6d42d766e": {
                                                    "dataType": "date",
                                                    "isBucketed": true,
                                                    "label": "@timestamp",
                                                    "operationType": "date_histogram",
                                                    "params": {
                                                        "dropPartials": true,
                                                        "includeEmptyRows": true,
                                                        "interval": "auto"
                                                    },
                                                    "scale": "interval",
                                                    "sourceField": "@timestamp"
                                                },
                                                "84ab538f-c208-4951-a008-33550334fd0c": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "lucene",
                                                        "query": "metricset.name: partition AND kafka.partition.partition.is_leader: true"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Topic Offsets",
                                                    "operationType": "sum",
                                                    "params": {
                                                        "emptyAsNull": false,
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 0
                                                            }
                                                        }
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "kafka.partition.offset.newest"
                                                },
                                                "d5e7a98f-3830-4521-8d3a-1f006b0d543e": {
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Top 10 values of kafka.topic.name",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderAgg": {
                                                            "dataType": "number",
                                                            "isBucketed": false,
                                                            "label": "Count of records",
                                                            "operationType": "count",
                                                            "params": {},
                                                            "scale": "ratio",
                                                            "sourceField": "___records___"
                                                        },
                                                        "orderBy": {
                                                            "type": "custom"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": false,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "secondaryFields": [],
                                                        "size": 10
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "kafka.topic.name"
                                                }
                                            },
                                            "incompleteColumns": {}
                                        }
                                    }
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [
                                {
                                    "id": "tsvb_ad_hoc_metrics-*/@timestamp",
                                    "name": "indexpattern-datasource-layer-e343bc30-40c9-44ef-95c4-e0f3c0c09e42",
                                    "type": "index-pattern"
                                },
                                {
                                    "id": "tsvb_ad_hoc_metrics-*/@timestamp",
                                    "name": "indexpattern-datasource-layer-f5a5405c-7642-497b-8a1b-085809cb9434",
                                    "type": "index-pattern"
                                }
                            ],
                            "query": {
                                "language": "kuery",
                                "query": "NOT kafka.topic.name:__consumer_offsets"
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": false,
                                    "yRight": true
                                },
                                "emphasizeFitting": true,
                                "endValue": "Zero",
                                "fillOpacity": 0.1,
                                "fittingFunction": "None",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "84ab538f-c208-4951-a008-33550334fd0c"
                                        ],
                                        "layerId": "f5a5405c-7642-497b-8a1b-085809cb9434",
                                        "layerType": "data",
                                        "palette": {
                                            "name": "default",
                                            "type": "palette"
                                        },
                                        "seriesType": "bar",
                                        "splitAccessor": "d5e7a98f-3830-4521-8d3a-1f006b0d543e",
                                        "xAccessor": "3f05b2ce-029d-4098-9893-eda6d42d766e",
                                        "yConfig": [
                                            {
                                                "axisMode": "left",
                                                "color": "rgba(244,78,59,1)",
                                                "forAccessor": "84ab538f-c208-4951-a008-33550334fd0c"
                                            }
                                        ]
                                    },
                                    {
                                        "accessors": [
                                            "45efad59-6952-4670-aecb-085462439a5b"
                                        ],
                                        "layerId": "e343bc30-40c9-44ef-95c4-e0f3c0c09e42",
                                        "layerType": "data",
                                        "palette": {
                                            "name": "default",
                                            "type": "palette"
                                        },
                                        "seriesType": "line",
                                        "splitAccessor": "b7102aca-084c-4804-87f0-e84917de750f",
                                        "xAccessor": "26f45bfa-6968-437a-bc86-8597977a9f38",
                                        "yConfig": [
                                            {
                                                "axisMode": "left",
                                                "color": "rgba(244,78,59,0.52)",
                                                "forAccessor": "45efad59-6952-4670-aecb-085462439a5b"
                                            }
                                        ]
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "maxLines": 1,
                                    "position": "right",
                                    "shouldTruncate": true,
                                    "showSingleSeries": true
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide",
                                "valuesInLegend": true,
                                "yLeftExtent": {
                                    "mode": "full"
                                },
                                "yLeftScale": "linear",
                                "yRightExtent": {
                                    "mode": "full"
                                },
                                "yRightScale": "linear",
                                "yTitle": ""
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsXY"
                    },
                    "enhancements": {},
                    "hidePanelTitles": false
                },
                "gridData": {
                    "h": 13,
                    "i": "1",
                    "w": 24,
                    "x": 0,
                    "y": 16
                },
                "panelIndex": "1",
                "title": "Kafka Topic \u0026 Consumer Offsets",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "tsvb_ad_hoc_metrics-*/@timestamp": {
                                    "allowNoIndex": false,
                                    "fieldAttrs": {},
                                    "fieldFormats": {},
                                    "id": "tsvb_ad_hoc_metrics-*/@timestamp",
                                    "name": "metrics-*",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-*"
                                }
                            },
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "b76c820e-d1c2-4a0f-8196-fc993715d766": {
                                            "columnOrder": [
                                                "63dbb107-abcd-4b40-af10-be0b4e2888b2",
                                                "de007327-323d-48eb-b9a0-7c20a500fc35",
                                                "ffd49773-5527-4cc4-8203-bc3b0a156bbe"
                                            ],
                                            "columns": {
                                                "63dbb107-abcd-4b40-af10-be0b4e2888b2": {
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Top 10 values of kafka.topic.name",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderAgg": {
                                                            "dataType": "number",
                                                            "isBucketed": false,
                                                            "label": "Count of records",
                                                            "operationType": "count",
                                                            "params": {},
                                                            "scale": "ratio",
                                                            "sourceField": "___records___"
                                                        },
                                                        "orderBy": {
                                                            "type": "custom"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": false,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "secondaryFields": [],
                                                        "size": 10
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "kafka.topic.name"
                                                },
                                                "de007327-323d-48eb-b9a0-7c20a500fc35": {
                                                    "dataType": "date",
                                                    "isBucketed": true,
                                                    "label": "@timestamp",
                                                    "operationType": "date_histogram",
                                                    "params": {
                                                        "dropPartials": true,
                                                        "includeEmptyRows": true,
                                                        "interval": "auto"
                                                    },
                                                    "scale": "interval",
                                                    "sourceField": "@timestamp"
                                                },
                                                "ffd49773-5527-4cc4-8203-bc3b0a156bbe": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": ""
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Consumer Groups",
                                                    "operationType": "max",
                                                    "params": {
                                                        "emptyAsNull": true,
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 0
                                                            }
                                                        }
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "kafka.consumergroup.consumer_lag"
                                                }
                                            },
                                            "incompleteColumns": {}
                                        }
                                    }
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [
                                {
                                    "id": "tsvb_ad_hoc_metrics-*/@timestamp",
                                    "name": "indexpattern-datasource-layer-b76c820e-d1c2-4a0f-8196-fc993715d766",
                                    "type": "index-pattern"
                                }
                            ],
                            "query": {
                                "language": "kuery",
                                "query": "(metricset.name: consumergroup) AND NOT kafka.topic.name:__consumer_offsets"
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": false,
                                    "yRight": true
                                },
                                "fillOpacity": 0.2,
                                "fittingFunction": "None",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "ffd49773-5527-4cc4-8203-bc3b0a156bbe"
                                        ],
                                        "layerId": "b76c820e-d1c2-4a0f-8196-fc993715d766",
                                        "layerType": "data",
                                        "palette": {
                                            "name": "default",
                                            "type": "palette"
                                        },
                                        "seriesType": "area",
                                        "splitAccessor": "63dbb107-abcd-4b40-af10-be0b4e2888b2",
                                        "xAccessor": "de007327-323d-48eb-b9a0-7c20a500fc35",
                                        "yConfig": [
                                            {
                                                "axisMode": "left",
                                                "color": "rgba(0,156,224,1)",
                                                "forAccessor": "ffd49773-5527-4cc4-8203-bc3b0a156bbe"
                                            }
                                        ]
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "maxLines": 1,
                                    "position": "right",
                                    "shouldTruncate": true,
                                    "showSingleSeries": true
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide",
                                "valuesInLegend": true,
                                "yLeftExtent": {
                                    "mode": "full"
                                },
                                "yLeftScale": "linear",
                                "yRightExtent": {
                                    "mode": "full"
                                },
                                "yRightScale": "linear",
                                "yTitle": ""
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsXY"
                    },
                    "enhancements": {},
                    "hidePanelTitles": false
                },
                "gridData": {
                    "h": 14,
                    "i": "6",
                    "w": 24,
                    "x": 0,
                    "y": 29
                },
                "panelIndex": "6",
                "title": "Consumer Group Lag by Topic",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "tsvb_ad_hoc_metrics-*/@timestamp": {
                                    "allowNoIndex": false,
                                    "fieldAttrs": {},
                                    "fieldFormats": {},
                                    "id": "tsvb_ad_hoc_metrics-*/@timestamp",
                                    "name": "metrics-*",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-*"
                                }
                            },
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "2bf9edb8-f8af-47d8-a670-66657b9deab4": {
                                            "columnOrder": [
                                                "9e9c538c-395a-488a-a2f3-ba1c70cce5ed",
                                                "6f0d8e89-44bb-4ea9-a556-0d0fa3298ae7",
                                                "4d836f5a-e8bc-47cd-aae7-9ae557625ed8",
                                                "4d836f5a-e8bc-47cd-aae7-9ae557625ed8X0",
                                                "4d836f5a-e8bc-47cd-aae7-9ae557625ed8X1",
                                                "4d836f5a-e8bc-47cd-aae7-9ae557625ed8X2"
                                            ],
                                            "columns": {
                                                "4d836f5a-e8bc-47cd-aae7-9ae557625ed8": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Consumer -\u003e Partition Reassignment",
                                                    "operationType": "formula",
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 0
                                                            }
                                                        },
                                                        "formula": "ifelse(differences(sum(kafka.partition.id)) \u003c 0, -1, 1)",
                                                        "isFormulaBroken": false
                                                    },
                                                    "references": [
                                                        "4d836f5a-e8bc-47cd-aae7-9ae557625ed8X2"
                                                    ],
                                                    "scale": "ratio"
                                                },
                                                "4d836f5a-e8bc-47cd-aae7-9ae557625ed8X0": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Part of Consumer -\u003e Partition Reassignment",
                                                    "operationType": "sum",
                                                    "params": {
                                                        "emptyAsNull": false
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "kafka.partition.id"
                                                },
                                                "4d836f5a-e8bc-47cd-aae7-9ae557625ed8X1": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Part of Consumer -\u003e Partition Reassignment",
                                                    "operationType": "differences",
                                                    "references": [
                                                        "4d836f5a-e8bc-47cd-aae7-9ae557625ed8X0"
                                                    ],
                                                    "scale": "ratio"
                                                },
                                                "4d836f5a-e8bc-47cd-aae7-9ae557625ed8X2": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Part of Consumer -\u003e Partition Reassignment",
                                                    "operationType": "math",
                                                    "params": {
                                                        "tinymathAst": {
                                                            "args": [
                                                                {
                                                                    "args": [
                                                                        "4d836f5a-e8bc-47cd-aae7-9ae557625ed8X1",
                                                                        0
                                                                    ],
                                                                    "location": {
                                                                        "max": 47,
                                                                        "min": 7
                                                                    },
                                                                    "name": "lt",
                                                                    "text": "differences(sum(kafka.partition.id)) \u003c 0",
                                                                    "type": "function"
                                                                },
                                                                -1,
                                                                1
                                                            ],
                                                            "location": {
                                                                "max": 55,
                                                                "min": 0
                                                            },
                                                            "name": "ifelse",
                                                            "text": "ifelse(differences(sum(kafka.partition.id)) \u003c 0, -1, 1)",
                                                            "type": "function"
                                                        }
                                                    },
                                                    "references": [
                                                        "4d836f5a-e8bc-47cd-aae7-9ae557625ed8X1"
                                                    ],
                                                    "scale": "ratio"
                                                },
                                                "6f0d8e89-44bb-4ea9-a556-0d0fa3298ae7": {
                                                    "dataType": "date",
                                                    "isBucketed": true,
                                                    "label": "@timestamp",
                                                    "operationType": "date_histogram",
                                                    "params": {
                                                        "dropPartials": true,
                                                        "includeEmptyRows": true,
                                                        "interval": "auto"
                                                    },
                                                    "scale": "interval",
                                                    "sourceField": "@timestamp"
                                                },
                                                "9e9c538c-395a-488a-a2f3-ba1c70cce5ed": {
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Top 10 values of kafka.consumergroup.id",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderAgg": {
                                                            "dataType": "number",
                                                            "isBucketed": false,
                                                            "label": "Count of records",
                                                            "operationType": "count",
                                                            "params": {},
                                                            "scale": "ratio",
                                                            "sourceField": "___records___"
                                                        },
                                                        "orderBy": {
                                                            "type": "custom"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": false,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "secondaryFields": [],
                                                        "size": 10
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "kafka.consumergroup.id"
                                                }
                                            },
                                            "incompleteColumns": {}
                                        }
                                    }
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [
                                {
                                    "id": "tsvb_ad_hoc_metrics-*/@timestamp",
                                    "name": "indexpattern-datasource-layer-2bf9edb8-f8af-47d8-a670-66657b9deab4",
                                    "type": "index-pattern"
                                }
                            ],
                            "query": {
                                "language": "kuery",
                                "query": "NOT kafka.topic.name:__consumer_offsets"
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": false
                                },
                                "fillOpacity": 0,
                                "fittingFunction": "None",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "4d836f5a-e8bc-47cd-aae7-9ae557625ed8"
                                        ],
                                        "layerId": "2bf9edb8-f8af-47d8-a670-66657b9deab4",
                                        "layerType": "data",
                                        "palette": {
                                            "name": "default",
                                            "type": "palette"
                                        },
                                        "seriesType": "line",
                                        "splitAccessor": "9e9c538c-395a-488a-a2f3-ba1c70cce5ed",
                                        "xAccessor": "6f0d8e89-44bb-4ea9-a556-0d0fa3298ae7",
                                        "yConfig": [
                                            {
                                                "axisMode": "right",
                                                "color": "#68BC00",
                                                "forAccessor": "4d836f5a-e8bc-47cd-aae7-9ae557625ed8"
                                            }
                                        ]
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "maxLines": 1,
                                    "position": "right",
                                    "shouldTruncate": true,
                                    "showSingleSeries": true
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide",
                                "valuesInLegend": true,
                                "yLeftExtent": {
                                    "mode": "full"
                                },
                                "yLeftScale": "linear",
                                "yRightExtent": {
                                    "lowerBound": -1,
                                    "mode": "custom",
                                    "upperBound": 1
                                },
                                "yRightScale": "linear",
                                "yRightTitle": ""
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsXY"
                    },
                    "enhancements": {},
                    "hidePanelTitles": false
                },
                "gridData": {
                    "h": 10,
                    "i": "12",
                    "w": 24,
                    "x": 0,
                    "y": 6
                },
                "panelIndex": "12",
                "title": "Consumer Partition Reassignments",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "description": "",
                        "references": [
                            {
                                "id": "metrics-*",
                                "name": "indexpattern-datasource-layer-830f7c05-123b-4860-b1c0-35c43878b6b5",
                                "type": "index-pattern"
                            },
                            {
                                "id": "metrics-*",
                                "name": "9d1b6107-05fe-4216-9c22-22080fabf6e7",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "830f7c05-123b-4860-b1c0-35c43878b6b5": {
                                            "columnOrder": [
                                                "ae32c64d-c441-43cc-8d6f-0fa79bae2e46"
                                            ],
                                            "columns": {
                                                "ae32c64d-c441-43cc-8d6f-0fa79bae2e46": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Consumer Groups",
                                                    "operationType": "unique_count",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "kafka.consumergroup.id"
                                                }
                                            },
                                            "incompleteColumns": {}
                                        }
                                    }
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [
                                {
                                    "$state": {
                                        "store": "appState"
                                    },
                                    "meta": {
                                        "alias": null,
                                        "disabled": false,
                                        "index": "9d1b6107-05fe-4216-9c22-22080fabf6e7",
                                        "key": "kafka.topic.name",
                                        "negate": true,
                                        "params": {
                                            "query": "__consumer_offsets"
                                        },
                                        "type": "phrase"
                                    },
                                    "query": {
                                        "match_phrase": {
                                            "kafka.topic.name": {
                                                "query": "__consumer_offsets"
                                            }
                                        }
                                    }
                                }
                            ],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "layerId": "830f7c05-123b-4860-b1c0-35c43878b6b5",
                                "layerType": "data",
                                "metricAccessor": "ae32c64d-c441-43cc-8d6f-0fa79bae2e46"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsMetric"
                    },
                    "enhancements": {},
                    "hidePanelTitles": false
                },
                "gridData": {
                    "h": 6,
                    "i": "13",
                    "w": 8,
                    "x": 40,
                    "y": 0
                },
                "panelIndex": "13",
                "title": "Consumer Metrics",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "metrics-*",
                                "name": "indexpattern-datasource-layer-e2b7a1c1-c294-4776-8fbd-eb9f3dd589c4",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "e2b7a1c1-c294-4776-8fbd-eb9f3dd589c4": {
                                            "columnOrder": [
                                                "c3601537-b176-4146-9d26-6cd795c5a0e2",
                                                "dfe5de7d-4bea-4bd6-9d99-0f2e79e91cb5",
                                                "850948a3-e2d5-48ac-8f6a-40fbda645be7",
                                                "34e80918-146b-4b09-8b12-33b480467857"
                                            ],
                                            "columns": {
                                                "34e80918-146b-4b09-8b12-33b480467857": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Newest Offset",
                                                    "operationType": "max",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "kafka.consumergroup.offset"
                                                },
                                                "850948a3-e2d5-48ac-8f6a-40fbda645be7": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": true,
                                                    "label": "Partition",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderBy": {
                                                            "columnId": "34e80918-146b-4b09-8b12-33b480467857",
                                                            "type": "column"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": false,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "size": 256
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "kafka.partition.id"
                                                },
                                                "c3601537-b176-4146-9d26-6cd795c5a0e2": {
                                                    "customLabel": true,
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Consumer group client",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderBy": {
                                                            "type": "alphabetical"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": false,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "size": 64
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "kafka.consumergroup.client.id"
                                                },
                                                "dfe5de7d-4bea-4bd6-9d99-0f2e79e91cb5": {
                                                    "customLabel": true,
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Topic",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderBy": {
                                                            "columnId": "34e80918-146b-4b09-8b12-33b480467857",
                                                            "type": "column"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": false,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "size": 64
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "kafka.topic.name"
                                                }
                                            },
                                            "incompleteColumns": {}
                                        }
                                    }
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "columns": [
                                    {
                                        "alignment": "left",
                                        "columnId": "34e80918-146b-4b09-8b12-33b480467857"
                                    },
                                    {
                                        "alignment": "left",
                                        "columnId": "c3601537-b176-4146-9d26-6cd795c5a0e2"
                                    },
                                    {
                                        "alignment": "left",
                                        "columnId": "dfe5de7d-4bea-4bd6-9d99-0f2e79e91cb5"
                                    },
                                    {
                                        "alignment": "left",
                                        "columnId": "850948a3-e2d5-48ac-8f6a-40fbda645be7"
                                    }
                                ],
                                "headerRowHeight": "single",
                                "layerId": "e2b7a1c1-c294-4776-8fbd-eb9f3dd589c4",
                                "layerType": "data",
                                "paging": {
                                    "enabled": true,
                                    "size": 10
                                },
                                "rowHeight": "single"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsDatatable"
                    },
                    "enhancements": {},
                    "hidePanelTitles": false
                },
                "gridData": {
                    "h": 14,
                    "i": "14",
                    "w": 24,
                    "x": 24,
                    "y": 29
                },
                "panelIndex": "14",
                "title": "Kafka Consumer Group Clients",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "description": "",
                        "references": [
                            {
                                "id": "metrics-*",
                                "name": "indexpattern-datasource-layer-4c8601c8-031b-4b4f-8dd3-91fdedd7625f",
                                "type": "index-pattern"
                            },
                            {
                                "id": "metrics-*",
                                "name": "ebc61b65-c863-436a-87c6-4283ed3e22a3",
                                "type": "index-pattern"
                            },
                            {
                                "id": "metrics-*",
                                "name": "209ac5d7-4976-45c6-914d-554e96a04b80",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "4c8601c8-031b-4b4f-8dd3-91fdedd7625f": {
                                            "columnOrder": [
                                                "db07b802-fc70-49da-88ac-5617bff1fab9"
                                            ],
                                            "columns": {
                                                "db07b802-fc70-49da-88ac-5617bff1fab9": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": " Brokers",
                                                    "operationType": "unique_count",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "kafka.broker.id"
                                                }
                                            },
                                            "incompleteColumns": {},
                                            "sampling": 1
                                        }
                                    }
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [
                                {
                                    "$state": {
                                        "store": "appState"
                                    },
                                    "meta": {
                                        "alias": "Partition Metricset",
                                        "disabled": false,
                                        "index": "ebc61b65-c863-436a-87c6-4283ed3e22a3",
                                        "key": "metricset.name",
                                        "negate": false,
                                        "params": {
                                            "query": "partition"
                                        },
                                        "type": "phrase"
                                    },
                                    "query": {
                                        "match_phrase": {
                                            "metricset.name": "partition"
                                        }
                                    }
                                },
                                {
                                    "$state": {
                                        "store": "appState"
                                    },
                                    "meta": {
                                        "alias": null,
                                        "disabled": false,
                                        "index": "209ac5d7-4976-45c6-914d-554e96a04b80",
                                        "key": "kafka.topic.name",
                                        "negate": true,
                                        "params": {
                                            "query": "__consumer_offsets"
                                        },
                                        "type": "phrase"
                                    },
                                    "query": {
                                        "match_phrase": {
                                            "kafka.topic.name": "__consumer_offsets"
                                        }
                                    }
                                }
                            ],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "layerId": "4c8601c8-031b-4b4f-8dd3-91fdedd7625f",
                                "layerType": "data",
                                "metricAccessor": "db07b802-fc70-49da-88ac-5617bff1fab9"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsMetric"
                    },
                    "enhancements": {},
                    "hidePanelTitles": false
                },
                "gridData": {
                    "h": 6,
                    "i": "ad4575fb-5b4f-4c42-8c50-c2b60b2c72f7",
                    "w": 10,
                    "x": 0,
                    "y": 0
                },
                "panelIndex": "ad4575fb-5b4f-4c42-8c50-c2b60b2c72f7",
                "title": "Kafka Metrics",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "description": "",
                        "references": [
                            {
                                "id": "metrics-*",
                                "name": "indexpattern-datasource-layer-4c8601c8-031b-4b4f-8dd3-91fdedd7625f",
                                "type": "index-pattern"
                            },
                            {
                                "id": "metrics-*",
                                "name": "78ae48ec-7c0a-4765-8859-6e03f5918e75",
                                "type": "index-pattern"
                            },
                            {
                                "id": "metrics-*",
                                "name": "f1da74f7-5232-42df-9f63-7d2fa0a62c76",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "4c8601c8-031b-4b4f-8dd3-91fdedd7625f": {
                                            "columnOrder": [
                                                "db07b802-fc70-49da-88ac-5617bff1fab9"
                                            ],
                                            "columns": {
                                                "db07b802-fc70-49da-88ac-5617bff1fab9": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Topics",
                                                    "operationType": "unique_count",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "kafka.topic.name"
                                                }
                                            },
                                            "incompleteColumns": {},
                                            "sampling": 1
                                        }
                                    }
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [
                                {
                                    "$state": {
                                        "store": "appState"
                                    },
                                    "meta": {
                                        "alias": "Partition Metricset",
                                        "disabled": false,
                                        "index": "78ae48ec-7c0a-4765-8859-6e03f5918e75",
                                        "key": "metricset.name",
                                        "negate": false,
                                        "params": {
                                            "query": "partition"
                                        },
                                        "type": "phrase"
                                    },
                                    "query": {
                                        "match_phrase": {
                                            "metricset.name": "partition"
                                        }
                                    }
                                },
                                {
                                    "$state": {
                                        "store": "appState"
                                    },
                                    "meta": {
                                        "alias": null,
                                        "disabled": false,
                                        "index": "f1da74f7-5232-42df-9f63-7d2fa0a62c76",
                                        "key": "kafka.topic.name",
                                        "negate": true,
                                        "params": {
                                            "query": "__consumer_offsets"
                                        },
                                        "type": "phrase"
                                    },
                                    "query": {
                                        "match_phrase": {
                                            "kafka.topic.name": "__consumer_offsets"
                                        }
                                    }
                                }
                            ],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "layerId": "4c8601c8-031b-4b4f-8dd3-91fdedd7625f",
                                "layerType": "data",
                                "metricAccessor": "db07b802-fc70-49da-88ac-5617bff1fab9"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsMetric"
                    },
                    "enhancements": {},
                    "hidePanelTitles": false
                },
                "gridData": {
                    "h": 6,
                    "i": "02a0cadd-8e80-4380-b9a1-0d41cfef29d6",
                    "w": 10,
                    "x": 10,
                    "y": 0
                },
                "panelIndex": "02a0cadd-8e80-4380-b9a1-0d41cfef29d6",
                "title": "Kafka Metrics",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "description": "",
                        "references": [
                            {
                                "id": "metrics-*",
                                "name": "indexpattern-datasource-layer-4c8601c8-031b-4b4f-8dd3-91fdedd7625f",
                                "type": "index-pattern"
                            },
                            {
                                "id": "metrics-*",
                                "name": "da6c65a2-27dc-481d-bc6c-dc1616367f54",
                                "type": "index-pattern"
                            },
                            {
                                "id": "metrics-*",
                                "name": "85d5c138-1e66-41f8-b7cb-4506315cf1db",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "4c8601c8-031b-4b4f-8dd3-91fdedd7625f": {
                                            "columnOrder": [
                                                "db07b802-fc70-49da-88ac-5617bff1fab9"
                                            ],
                                            "columns": {
                                                "db07b802-fc70-49da-88ac-5617bff1fab9": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Partitions",
                                                    "operationType": "unique_count",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "kafka.partition.topic_id"
                                                }
                                            },
                                            "incompleteColumns": {},
                                            "sampling": 1
                                        }
                                    }
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [
                                {
                                    "$state": {
                                        "store": "appState"
                                    },
                                    "meta": {
                                        "alias": "Partition Metricset",
                                        "disabled": false,
                                        "index": "da6c65a2-27dc-481d-bc6c-dc1616367f54",
                                        "key": "metricset.name",
                                        "negate": false,
                                        "params": {
                                            "query": "partition"
                                        },
                                        "type": "phrase"
                                    },
                                    "query": {
                                        "match_phrase": {
                                            "metricset.name": "partition"
                                        }
                                    }
                                },
                                {
                                    "$state": {
                                        "store": "appState"
                                    },
                                    "meta": {
                                        "alias": null,
                                        "disabled": false,
                                        "index": "85d5c138-1e66-41f8-b7cb-4506315cf1db",
                                        "key": "kafka.topic.name",
                                        "negate": true,
                                        "params": {
                                            "query": "__consumer_offsets"
                                        },
                                        "type": "phrase"
                                    },
                                    "query": {
                                        "match_phrase": {
                                            "kafka.topic.name": "__consumer_offsets"
                                        }
                                    }
                                }
                            ],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "layerId": "4c8601c8-031b-4b4f-8dd3-91fdedd7625f",
                                "layerType": "data",
                                "metricAccessor": "db07b802-fc70-49da-88ac-5617bff1fab9"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsMetric"
                    },
                    "enhancements": {},
                    "hidePanelTitles": false
                },
                "gridData": {
                    "h": 6,
                    "i": "b7ca8c63-46bc-46f4-bf44-b211814b5a8b",
                    "w": 10,
                    "x": 20,
                    "y": 0
                },
                "panelIndex": "b7ca8c63-46bc-46f4-bf44-b211814b5a8b",
                "title": "Kafka Metrics",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "description": "",
                        "references": [
                            {
                                "id": "metrics-*",
                                "name": "indexpattern-datasource-layer-4c8601c8-031b-4b4f-8dd3-91fdedd7625f",
                                "type": "index-pattern"
                            },
                            {
                                "id": "metrics-*",
                                "name": "c13f48df-9bb5-43ff-850d-54d8dc041e19",
                                "type": "index-pattern"
                            },
                            {
                                "id": "metrics-*",
                                "name": "8f7d6f5f-3f7d-4b89-9386-9e79ce5babda",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "4c8601c8-031b-4b4f-8dd3-91fdedd7625f": {
                                            "columnOrder": [
                                                "db07b802-fc70-49da-88ac-5617bff1fab9"
                                            ],
                                            "columns": {
                                                "db07b802-fc70-49da-88ac-5617bff1fab9": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Replicas",
                                                    "operationType": "unique_count",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "kafka.partition.topic_broker_id"
                                                }
                                            },
                                            "incompleteColumns": {},
                                            "sampling": 1
                                        }
                                    }
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [
                                {
                                    "$state": {
                                        "store": "appState"
                                    },
                                    "meta": {
                                        "alias": "Partition Metricset",
                                        "disabled": false,
                                        "index": "c13f48df-9bb5-43ff-850d-54d8dc041e19",
                                        "key": "metricset.name",
                                        "negate": false,
                                        "params": {
                                            "query": "partition"
                                        },
                                        "type": "phrase"
                                    },
                                    "query": {
                                        "match_phrase": {
                                            "metricset.name": "partition"
                                        }
                                    }
                                },
                                {
                                    "$state": {
                                        "store": "appState"
                                    },
                                    "meta": {
                                        "alias": null,
                                        "disabled": false,
                                        "index": "8f7d6f5f-3f7d-4b89-9386-9e79ce5babda",
                                        "key": "kafka.topic.name",
                                        "negate": true,
                                        "params": {
                                            "query": "__consumer_offsets"
                                        },
                                        "type": "phrase"
                                    },
                                    "query": {
                                        "match_phrase": {
                                            "kafka.topic.name": "__consumer_offsets"
                                        }
                                    }
                                }
                            ],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "layerId": "4c8601c8-031b-4b4f-8dd3-91fdedd7625f",
                                "layerType": "data",
                                "metricAccessor": "db07b802-fc70-49da-88ac-5617bff1fab9"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsMetric"
                    },
                    "enhancements": {},
                    "hidePanelTitles": false
                },
                "gridData": {
                    "h": 6,
                    "i": "3bf5acc4-bca8-4dae-bf9d-7b7f5de0ef2f",
                    "w": 10,
                    "x": 30,
                    "y": 0
                },
                "panelIndex": "3bf5acc4-bca8-4dae-bf9d-7b7f5de0ef2f",
                "title": "Kafka Metrics",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "metrics-*",
                                "name": "indexpattern-datasource-layer-4861f473-2d68-4883-a7e9-ba3df76aac81",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "4861f473-2d68-4883-a7e9-ba3df76aac81": {
                                            "columnOrder": [
                                                "3cea9a18-83dc-4e71-b1d2-379f9f274ce6",
                                                "e329dd2f-3787-458b-9aa7-a8078e17f68d",
                                                "e3f29d35-5d89-417c-98c2-9bea7510680a",
                                                "b2967600-3833-4e56-99db-02e8055c3d65"
                                            ],
                                            "columns": {
                                                "3cea9a18-83dc-4e71-b1d2-379f9f274ce6": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": true,
                                                    "label": "Broker ID",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderAgg": {
                                                            "dataType": "number",
                                                            "isBucketed": false,
                                                            "label": "Count of records",
                                                            "operationType": "count",
                                                            "params": {
                                                                "emptyAsNull": true
                                                            },
                                                            "scale": "ratio",
                                                            "sourceField": "___records___"
                                                        },
                                                        "orderBy": {
                                                            "type": "custom"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": false,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "size": 256
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "kafka.partition.partition.replica"
                                                },
                                                "b2967600-3833-4e56-99db-02e8055c3d65": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Replicas",
                                                    "operationType": "unique_count",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "kafka.partition.topic_broker_id"
                                                },
                                                "e329dd2f-3787-458b-9aa7-a8078e17f68d": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Topics",
                                                    "operationType": "unique_count",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "kafka.topic.name"
                                                },
                                                "e3f29d35-5d89-417c-98c2-9bea7510680a": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": "kafka.partition.partition.is_leader: true"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Leader Partitions",
                                                    "operationType": "unique_count",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "kafka.partition.topic_id"
                                                }
                                            },
                                            "incompleteColumns": {},
                                            "sampling": 1
                                        }
                                    }
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "columns": [
                                    {
                                        "alignment": "left",
                                        "columnId": "3cea9a18-83dc-4e71-b1d2-379f9f274ce6",
                                        "isTransposed": false
                                    },
                                    {
                                        "alignment": "left",
                                        "columnId": "e329dd2f-3787-458b-9aa7-a8078e17f68d",
                                        "isTransposed": false
                                    },
                                    {
                                        "alignment": "left",
                                        "columnId": "e3f29d35-5d89-417c-98c2-9bea7510680a",
                                        "isTransposed": false
                                    },
                                    {
                                        "alignment": "left",
                                        "columnId": "b2967600-3833-4e56-99db-02e8055c3d65",
                                        "isTransposed": false
                                    }
                                ],
                                "headerRowHeight": "auto",
                                "layerId": "4861f473-2d68-4883-a7e9-ba3df76aac81",
                                "layerType": "data",
                                "paging": {
                                    "enabled": true,
                                    "size": 10
                                },
                                "rowHeight": "auto",
                                "sorting": {
                                    "columnId": "b2967600-3833-4e56-99db-02e8055c3d65",
                                    "direction": "asc"
                                }
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsDatatable"
                    },
                    "enhancements": {},
                    "hidePanelTitles": false
                },
                "gridData": {
                    "h": 10,
                    "i": "6d18f7a0-9156-476a-9b3d-9c2924bc00f1",
                    "w": 24,
                    "x": 24,
                    "y": 6
                },
                "panelIndex": "6d18f7a0-9156-476a-9b3d-9c2924bc00f1",
                "title": "Kafka Brokers",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "metrics-*",
                                "name": "indexpattern-datasource-layer-8aa6d274-217d-41a4-9009-612a9c02c32e",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "8aa6d274-217d-41a4-9009-612a9c02c32e": {
                                            "columnOrder": [
                                                "98bd535f-6f3d-4f42-8466-6d9e3dd77fc1",
                                                "7db4fce9-8761-4cd0-ad38-3bd068ced454",
                                                "7a28ae5e-f7fe-4901-83e6-d4b636c84715",
                                                "77eb3a04-b681-4e46-8803-99f2430b2664",
                                                "5f3ae81a-5ad5-45f3-a90c-4da99fa6a6d8",
                                                "3727b6c1-c37b-41c1-89c5-0ffcb4d67f29",
                                                "7522e2e1-a533-484d-a5f7-afd05f55b117"
                                            ],
                                            "columns": {
                                                "3727b6c1-c37b-41c1-89c5-0ffcb4d67f29": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": " metricset.name: partition"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Newest Offset",
                                                    "operationType": "max",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "kafka.partition.offset.newest"
                                                },
                                                "5f3ae81a-5ad5-45f3-a90c-4da99fa6a6d8": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": " metricset.name: consumergroup"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Consumers",
                                                    "operationType": "unique_count",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "kafka.consumergroup.client.id"
                                                },
                                                "7522e2e1-a533-484d-a5f7-afd05f55b117": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": " metricset.name: partition"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Oldest Offset",
                                                    "operationType": "min",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "kafka.partition.offset.oldest"
                                                },
                                                "77eb3a04-b681-4e46-8803-99f2430b2664": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": " metricset.name: partition"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Replicas",
                                                    "operationType": "unique_count",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "kafka.partition.topic_broker_id"
                                                },
                                                "7a28ae5e-f7fe-4901-83e6-d4b636c84715": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": " metricset.name: partition"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Partitions",
                                                    "operationType": "unique_count",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "kafka.partition.id"
                                                },
                                                "7db4fce9-8761-4cd0-ad38-3bd068ced454": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": " metricset.name: partition"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Brokers",
                                                    "operationType": "unique_count",
                                                    "params": {
                                                        "emptyAsNull": true
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "kafka.broker.id"
                                                },
                                                "98bd535f-6f3d-4f42-8466-6d9e3dd77fc1": {
                                                    "customLabel": true,
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Topic Name",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderAgg": {
                                                            "dataType": "number",
                                                            "isBucketed": false,
                                                            "label": "Count of records",
                                                            "operationType": "count",
                                                            "params": {
                                                                "emptyAsNull": true
                                                            },
                                                            "scale": "ratio",
                                                            "sourceField": "___records___"
                                                        },
                                                        "orderBy": {
                                                            "type": "custom"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": true,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "size": 10
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "kafka.topic.name"
                                                }
                                            },
                                            "incompleteColumns": {},
                                            "sampling": 1
                                        }
                                    }
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": "NOT kafka.topic.name: __consumer_offsets"
                            },
                            "visualization": {
                                "columns": [
                                    {
                                        "columnId": "98bd535f-6f3d-4f42-8466-6d9e3dd77fc1",
                                        "isTransposed": false
                                    },
                                    {
                                        "alignment": "left",
                                        "columnId": "7db4fce9-8761-4cd0-ad38-3bd068ced454",
                                        "isTransposed": false
                                    },
                                    {
                                        "alignment": "left",
                                        "columnId": "7a28ae5e-f7fe-4901-83e6-d4b636c84715",
                                        "isTransposed": false
                                    },
                                    {
                                        "alignment": "left",
                                        "columnId": "77eb3a04-b681-4e46-8803-99f2430b2664",
                                        "isTransposed": false
                                    },
                                    {
                                        "alignment": "left",
                                        "columnId": "5f3ae81a-5ad5-45f3-a90c-4da99fa6a6d8",
                                        "isTransposed": false
                                    },
                                    {
                                        "alignment": "left",
                                        "columnId": "3727b6c1-c37b-41c1-89c5-0ffcb4d67f29",
                                        "isTransposed": false
                                    },
                                    {
                                        "alignment": "left",
                                        "columnId": "7522e2e1-a533-484d-a5f7-afd05f55b117",
                                        "isTransposed": false
                                    }
                                ],
                                "headerRowHeight": "auto",
                                "layerId": "8aa6d274-217d-41a4-9009-612a9c02c32e",
                                "layerType": "data",
                                "paging": {
                                    "enabled": true,
                                    "size": 10
                                },
                                "rowHeight": "auto",
                                "sorting": {
                                    "columnId": "5f3ae81a-5ad5-45f3-a90c-4da99fa6a6d8",
                                    "direction": "desc"
                                }
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsDatatable"
                    },
                    "enhancements": {},
                    "hidePanelTitles": false
                },
                "gridData": {
                    "h": 13,
                    "i": "6e580e38-ab32-407c-8d49-7373decc50f1",
                    "w": 24,
                    "x": 24,
                    "y": 16
                },
                "panelIndex": "6e580e38-ab32-407c-8d49-7373decc50f1",
                "title": "Kafka Topic Details",
                "type": "lens"
            }
        ],
        "timeRestore": false,
        "title": "[Metrics Kafka] Overview",
        "version": 1
    },
    "coreMigrationVersion": "8.8.0",
    "created_at": "2024-04-22T07:06:37.901Z",
    "id": "kafka-ea488d90-8e63-11e8-8fa2-3d5f811fbd0f",
    "managed": false,
    "references": [
        {
            "id": "metrics-*",
            "name": "kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "13:indexpattern-datasource-layer-830f7c05-123b-4860-b1c0-35c43878b6b5",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "13:9d1b6107-05fe-4216-9c22-22080fabf6e7",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "14:indexpattern-datasource-layer-e2b7a1c1-c294-4776-8fbd-eb9f3dd589c4",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "ad4575fb-5b4f-4c42-8c50-c2b60b2c72f7:indexpattern-datasource-layer-4c8601c8-031b-4b4f-8dd3-91fdedd7625f",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "ad4575fb-5b4f-4c42-8c50-c2b60b2c72f7:ebc61b65-c863-436a-87c6-4283ed3e22a3",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "ad4575fb-5b4f-4c42-8c50-c2b60b2c72f7:209ac5d7-4976-45c6-914d-554e96a04b80",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "02a0cadd-8e80-4380-b9a1-0d41cfef29d6:indexpattern-datasource-layer-4c8601c8-031b-4b4f-8dd3-91fdedd7625f",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "02a0cadd-8e80-4380-b9a1-0d41cfef29d6:78ae48ec-7c0a-4765-8859-6e03f5918e75",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "02a0cadd-8e80-4380-b9a1-0d41cfef29d6:f1da74f7-5232-42df-9f63-7d2fa0a62c76",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "b7ca8c63-46bc-46f4-bf44-b211814b5a8b:indexpattern-datasource-layer-4c8601c8-031b-4b4f-8dd3-91fdedd7625f",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "b7ca8c63-46bc-46f4-bf44-b211814b5a8b:da6c65a2-27dc-481d-bc6c-dc1616367f54",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "b7ca8c63-46bc-46f4-bf44-b211814b5a8b:85d5c138-1e66-41f8-b7cb-4506315cf1db",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "3bf5acc4-bca8-4dae-bf9d-7b7f5de0ef2f:indexpattern-datasource-layer-4c8601c8-031b-4b4f-8dd3-91fdedd7625f",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "3bf5acc4-bca8-4dae-bf9d-7b7f5de0ef2f:c13f48df-9bb5-43ff-850d-54d8dc041e19",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "3bf5acc4-bca8-4dae-bf9d-7b7f5de0ef2f:8f7d6f5f-3f7d-4b89-9386-9e79ce5babda",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "6d18f7a0-9156-476a-9b3d-9c2924bc00f1:indexpattern-datasource-layer-4861f473-2d68-4883-a7e9-ba3df76aac81",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "6e580e38-ab32-407c-8d49-7373decc50f1:indexpattern-datasource-layer-8aa6d274-217d-41a4-9009-612a9c02c32e",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "controlGroup_aa887cf3-390b-4da6-8c02-43ec133b0971:optionsListDataView",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "controlGroup_bb5b4dfa-d433-48d7-8e16-7d2ad832565a:rangeSliderDataView",
            "type": "index-pattern"
        }
    ],
    "type": "dashboard",
    "typeMigrationVersion": "8.9.0"
}