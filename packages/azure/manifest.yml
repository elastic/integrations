name: azure
title: Azure Logs
version: "1.36.0"
description: This Elastic integration collects logs from Azure
type: integration
icons:
  - src: /img/azure_logs_logo.png
    title: logo azure
    size: 32x32
    type: image/svg+xml
format_version: "3.3.0"
categories:
  - cloud
  - azure
  - observability
  # Added security category as it collects security-relevant logs like Microsoft Entra ID sign-in logs, audit logs, and identity protection logs
  - security
conditions:
  kibana:
    version: "~8.19.10 || ~9.1.10 || ^9.2.4"
  elastic:
    subscription: basic
screenshots:
  - src: /img/azure_user_activity_dashboard.png
    title: Azure User Activity Dashboard
    size: 3024x3162
    type: image/png
vars:
  - name: eventhub
    type: text
    title: Event Hub Name
    multi: false
    required: true
    show_user: true
    description: >-
      The event hub name that contains the logs to ingest. Do not use the event hub namespace here. Elastic recommends using one event hub for each integration. Visit [Create an event hub](https://docs.elastic.co/integrations/azure#create-an-event-hub) to learn more. Use event hub names up to 30 characters long to avoid compatibility issues.
  - name: consumer_group
    type: text
    title: Consumer Group
    multi: false
    required: true
    show_user: true
    default: $Default
  - name: auth_type
    type: select
    title: Authentication Type
    multi: false
    required: false
    show_user: true
    default: connection_string
    options:
      - text: Connection String (Shared Access Key)
        value: connection_string
      - text: Client Secret (OAuth2 with RBAC)
        value: client_secret
    description: >-
      Authentication method to use for Event Hub and Storage Account. When set to 'connection_string' or left blank: connection_string and storage_account_key are required. When set to 'client_secret': OAuth2 authentication with Azure AD is used, requiring tenant_id, client_id, client_secret, and eventhub_namespace. Note: The same authentication type applies to both Event Hub and Storage Account for security consistency.
  - name: connection_string
    type: password
    secret: true
    title: Connection String
    multi: false
    required: false
    show_user: true
    description: >-
      (Required when auth_type is 'connection_string' or left blank) The connection string required to communicate with Event Hubs. See [Get an Event Hubs connection string](https://docs.microsoft.com/en-us/azure/event-hubs/event-hubs-get-connection-string) to learn more.
  - name: storage_account
    type: text
    title: Storage Account
    multi: false
    required: true
    show_user: true
    description: >-
      The name of the storage account where the consumer group's state/offsets will be stored and updated.
  - name: eventhub_namespace
    type: text
    title: Event Hub Namespace
    multi: false
    required: false
    show_user: true
    description: >-
      (Required when auth_type is 'client_secret') Fully qualified Event Hub namespace (e.g., namespace.servicebus.windows.net). Do not use the short namespace name; use the complete FQDN.
  - name: tenant_id
    type: text
    title: Tenant ID
    multi: false
    required: false
    show_user: true
    description: >-
      (Required when auth_type is 'client_secret') Azure AD (Microsoft Entra ID) tenant ID. This is the directory/tenant where your Azure AD application is registered.
  - name: client_id
    type: text
    title: Client ID
    multi: false
    required: false
    show_user: true
    description: >-
      (Required when auth_type is 'client_secret') Azure AD application (client) ID. The service principal must have 'Azure Event Hubs Data Receiver' role on the Event Hub and 'Storage Blob Data Contributor' role on the Storage Account.
  - name: client_secret
    type: password
    secret: true
    title: Client Secret
    multi: false
    required: false
    show_user: true
    description: >-
      (Required when auth_type is 'client_secret') Azure AD application client secret. Generate this secret in your Azure AD app registration.
  - name: authority_host
    type: text
    title: Authority Host
    multi: false
    required: false
    show_user: false
    default: https://login.microsoftonline.com
    description: >-
      (Optional, for OAuth2) Azure AD authority endpoint. Defaults to https://login.microsoftonline.com (Azure Public Cloud). Change for other Azure environments: Azure Government (https://login.microsoftonline.us), Azure China (https://login.chinacloudapi.cn), or Azure Germany (https://login.microsoftonline.de).
  - name: storage_account_key
    type: password
    secret: true
    title: Storage Account Key
    multi: false
    required: false
    show_user: true
    description: >-
      (Required when auth_type is 'connection_string' or left blank) The storage account key used to authorize access to data in your storage account. Not used when auth_type is 'client_secret'; OAuth2 is used for storage authentication instead.
  - name: resource_manager_endpoint
    type: text
    title: Resource Manager Endpoint
    multi: false
    required: false
    show_user: false
  - name: transport
    type: select
    title: Event Hubs transport protocol
    multi: false
    required: true
    show_user: false
    default: amqp
    options:
      - text: AMQP
        value: amqp
      - text: AMQP-over-WebSockets
        value: websocket
    description: >
      (Processor v2 only) The transport protocol used to connect to Event Hubs. 
      Supported values are AMQP and AMQP-over-WebSockets. Defaults to AMQP.
policy_templates:
  - name: events
    title: Azure Logs (v2 preview)
    description: Azure Logs (v2 preview) integration
    fips_compatible: false
    data_streams:
      - events
    categories:
      - stream_processing
    inputs:
      - type: "azure-eventhub"
        title: "Collect all Azure Logs (v2 preview)"
        description: "Collecting log events from Azure Event Hub (input: azure-eventhub)"
        input_group: logs
    icons:
      - src: /img/eventhub.png
        title: logo azure
        size: 32x32
        type: image/svg+xml
    screenshots:
      - src: /img/filebeat-azure-overview.png
        title: filebeat azure overview
        size: 5002x2666
        type: image/png
  - name: eventhub
    title: Azure Event Hub Input
    description: Azure Event Hub input integration
    fips_compatible: false
    data_streams:
      - eventhub
    categories:
      - stream_processing
    inputs:
      - type: "azure-eventhub"
        title: "Collect raw events (v1)"
        description: "Collecting raw events from Azure Event Hub inputs (input: azure-eventhub)"
        input_group: logs
    icons:
      - src: /img/eventhub.png
        title: logo azure
        size: 32x32
        type: image/svg+xml
    screenshots:
      - src: /img/filebeat-azure-overview.png
        title: filebeat azure overview
        size: 5002x2666
        type: image/png
  - name: adlogs
    title: Microsoft Entra ID
    description: Collect logs from Microsoft Entra ID (formerly Azure Active Directory) with Elastic Agent.
    fips_compatible: false
    data_streams:
      - auditlogs
      - signinlogs
      - identity_protection
      - provisioning
    categories:
      - security
    inputs:
      - type: "azure-eventhub"
        title: "Collect Microsoft Entra ID logs (v1)"
        description: "Collecting Microsoft Entra ID logs as audit logs and signin logs from Azure instances (input: azure-eventhub)"
        input_group: logs
    icons:
      - src: /img/microsoft-entra-id-logo.svg
        title: Microsoft Entra ID logo
        size: 32x32
        type: image/svg+xml
    screenshots:
      - src: /img/filebeat-azure-overview.png
        title: filebeat azure overview
        size: 5002x2666
        type: image/png
  - name: platformlogs
    title: Azure platform logs
    description: Azure platform logs integration
    fips_compatible: false
    data_streams:
      - platformlogs
    inputs:
      - type: "azure-eventhub"
        title: "Collect Azure platform logs (v1)"
        description: "Collecting platform logs from Azure instances (input: azure-eventhub)"
        input_group: logs
    icons:
      - src: /img/platformlogs_logo.png
        title: logo azure
        size: 32x32
        type: image/svg+xml
    screenshots:
      - src: /img/filebeat-azure-overview.png
        title: filebeat azure overview
        size: 5002x2666
        type: image/png
  - name: activitylogs
    title: Azure Activity Logs
    description: Azure Activity Logs integration
    fips_compatible: false
    data_streams:
      - activitylogs
    inputs:
      - type: "azure-eventhub"
        title: "Collect Azure Activity Logs (v1)"
        description: "Collecting activity logs from Azure instances (input: azure-eventhub)"
        input_group: logs
    icons:
      - src: /img/platformlogs_logo.png
        title: logo azure
        size: 32x32
        type: image/svg+xml
    screenshots:
      - src: /img/filebeat-azure-overview.png
        title: filebeat azure overview
        size: 5002x2666
        type: image/png
  - name: graphactivitylogs
    title: Microsoft Graph Activity Logs
    description: Microsoft Graph Activity Logs integration
    fips_compatible: false
    data_streams:
      - graphactivitylogs
    categories:
      - security
    inputs:
      - type: "azure-eventhub"
        title: "Collect Microsoft Graph Activity Logs (v1)"
        description: "Collecting graph activity logs from Azure instances (input: azure-eventhub)"
        input_group: logs
    icons:
      - src: /img/graph_activity.png
        title: logo graphactivity
        size: 32x32
        type: image/svg+xml
    screenshots:
      - src: /img/graph_activity_logs.png
        title: microsoft graph activity overview
        size: 5002x2666
        type: image/png
  - name: springcloudlogs
    title: Azure Spring Apps logs
    description: Azure Spring Apps logs integration
    fips_compatible: false
    data_streams:
      - springcloudlogs
    inputs:
      - type: "azure-eventhub"
        title: "Collect Azure Spring Apps logs (v1)"
        description: "Collecting Spring Apps logs from Azure instances (input: azure-eventhub)"
        input_group: logs
    icons:
      - src: /img/spring_logs.svg
        title: logo azure
        size: 32x32
        type: image/svg+xml
    screenshots:
      - src: /img/filebeat-azure-overview.png
        title: filebeat azure overview
        size: 5002x2666
        type: image/png
  - name: firewall_logs
    title: Azure Firewall logs
    description: Azure firewall logs integration
    fips_compatible: false
    data_streams:
      - firewall_logs
    categories:
      - security
      - firewall_security
    inputs:
      - type: "azure-eventhub"
        title: "Collect Azure firewall logs (v1)"
        description: "Collecting firewall logs from Azure (input: azure-eventhub)"
        input_group: logs
    icons:
      - src: /img/firewall_logo.svg
        title: logo azure
        size: 32x32
        type: image/svg+xml
    screenshots:
      - src: /img/filebeat-azure-firewall-overview.png
        title: filebeat azure firewall overview
        size: 5088x3088
        type: image/png
      - src: /img/filebeat-azure-firewall-dns-proxy.png
        title: filebeat azure firewall dns proxy
        size: 5088x3032
        type: image/png
  - name: application_gateway
    title: Azure Application Gateway
    description: Collect Azure Application Gateway logs with Elastic Agent.
    fips_compatible: false
    data_streams:
      - application_gateway
    categories:
      - security
    inputs:
      - type: "azure-eventhub"
        title: "Collect Azure Application Gateway logs (v1)"
        description: "Collecting Application Gateway logs from Azure (input: azure-eventhub)"
        input_group: logs
    icons:
      - src: /img/application_gateway_logo.svg
        title: logo azure
        size: 32x32
        type: image/svg+xml
owner:
  github: elastic/obs-ds-hosted-services
  type: elastic
