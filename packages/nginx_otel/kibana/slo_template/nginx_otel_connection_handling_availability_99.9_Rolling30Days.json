{
  "attributes": {
    "name": "[NGINX] OTel Connection Handling Availability 99.9% Rolling 30 Days",
    "description": "This SLO tracks the connection handling availability of NGINX via OTel metrics, ensuring that 99.9% of time intervals show NGINX successfully handling all accepted connections without drops over a rolling period of 30 days to maintain reliable web serving and proxying for clients. When nginx.connections_handled diverges from nginx.connections_accepted, it indicates that resource limits (e.g., worker_connections) have been reached and NGINX is dropping connections â€” a direct impact on user experience.",
    "indicator": {
      "type": "sli.metric.timeslice",
      "params": {
        "index": "metrics-*",
        "filter": "data_stream.dataset : \"nginxreceiver.otel\" ",
        "metric": {
          "metrics": [
            {
              "name": "A",
              "aggregation": "max",
              "field": "nginx.connections_accepted",
              "filter": ""
            },
            {
              "name": "B",
              "aggregation": "min",
              "field": "nginx.connections_accepted",
              "filter": ""
            },
            {
              "name": "C",
              "aggregation": "max",
              "field": "nginx.connections_handled",
              "filter": ""
            },
            {
              "name": "D",
              "aggregation": "min",
              "field": "nginx.connections_handled",
              "filter": ""
            }
          ],
          "equation": "(A-B) - (C-D)",
          "comparator": "LTE",
          "threshold": 0
        },
        "timestampField": "@timestamp"
      }
    },
    "budgetingMethod": "timeslices",
    "timeWindow": {
      "duration": "30d",
      "type": "rolling"
    },
    "objective": {
      "target": 0.999,
      "timesliceTarget": 0.999,
      "timesliceWindow": "1m"
    },
    "tags": [
      "nginx",
      "otel"
    ],
    "artifacts": {
      "dashboards": [
        {
          "id": "nginx_otel-0fbba4c5-8ae3-4d8e-aadc-cc9ba3fde5ba"
        }
      ]
    }
  },
  "id": "nginx_otel_connection_handling_availability_99.9_Rolling30Days",
  "type": "slo_template"
}
