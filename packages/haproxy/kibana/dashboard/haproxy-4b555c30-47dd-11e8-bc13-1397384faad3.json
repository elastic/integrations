{
    "attributes": {
        "description": "HAProxy overview",
        "kibanaSavedObjectMeta": {
            "searchSourceJSON": {
                "filter": [
                    {
                        "$state": {
                            "store": "appState"
                        },
                        "meta": {
                            "alias": null,
                            "disabled": false,
                            "field": "data_stream.dataset",
                            "key": "data_stream.dataset",
                            "negate": false,
                            "params": {
                                "query": "haproxy.stat"
                            },
                            "type": "phrase"
                        },
                        "query": {
                            "match_phrase": {
                                "data_stream.dataset": "haproxy.stat"
                            }
                        }
                    }
                ],
                "query": {
                    "language": "kuery",
                    "query": ""
                }
            }
        },
        "optionsJSON": {
            "hidePanelTitles": false,
            "syncColors": false,
            "syncCursor": true,
            "syncTooltips": false,
            "useMargins": true
        },
        "panelsJSON": [
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "tsvb_ad_hoc_metrics-*/@timestamp": {
                                    "allowHidden": false,
                                    "allowNoIndex": true,
                                    "fieldAttrs": {},
                                    "fieldFormats": {},
                                    "id": "tsvb_ad_hoc_metrics-*/@timestamp",
                                    "name": "metrics-*",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-*"
                                }
                            },
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "67837cc1-07cf-4fb9-b179-39c5269652a3": {
                                            "columnOrder": [
                                                "147e3dc5-3def-4258-9010-1559f77eac7d",
                                                "4ab3e6fd-993b-435c-b768-7d01c359bb9e",
                                                "4ab3e6fd-993b-435c-b768-7d01c359bb9eX0"
                                            ],
                                            "columns": {
                                                "147e3dc5-3def-4258-9010-1559f77eac7d": {
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Top 20 values of haproxy.stat.proxy.name",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "accuracyMode": true,
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderAgg": {
                                                            "dataType": "number",
                                                            "filter": {
                                                                "language": "kuery",
                                                                "query": "\"haproxy.stat.connection.total\": *"
                                                            },
                                                            "isBucketed": false,
                                                            "label": "Last value of haproxy.stat.connection.total",
                                                            "operationType": "last_value",
                                                            "params": {
                                                                "sortField": "@timestamp"
                                                            },
                                                            "scale": "ratio",
                                                            "sourceField": "haproxy.stat.connection.total"
                                                        },
                                                        "orderBy": {
                                                            "type": "custom"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": false,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "secondaryFields": [],
                                                        "size": 20
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "haproxy.stat.proxy.name"
                                                },
                                                "4ab3e6fd-993b-435c-b768-7d01c359bb9e": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Connections",
                                                    "operationType": "formula",
                                                    "params": {
                                                        "formula": "max(haproxy.stat.connection.total)",
                                                        "isFormulaBroken": false
                                                    },
                                                    "references": [
                                                        "4ab3e6fd-993b-435c-b768-7d01c359bb9eX0"
                                                    ],
                                                    "scale": "ratio"
                                                },
                                                "4ab3e6fd-993b-435c-b768-7d01c359bb9eX0": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Part of Frontends",
                                                    "operationType": "max",
                                                    "params": {
                                                        "emptyAsNull": false
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "haproxy.stat.connection.total"
                                                }
                                            },
                                            "incompleteColumns": {}
                                        }
                                    }
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [
                                {
                                    "$state": {
                                        "store": "appState"
                                    },
                                    "meta": {
                                        "alias": null,
                                        "disabled": false,
                                        "field": "haproxy.stat.component_type",
                                        "index": "tsvb_ad_hoc_metrics-*/@timestamp",
                                        "key": "haproxy.stat.component_type",
                                        "negate": false,
                                        "params": {
                                            "query": "0"
                                        },
                                        "type": "phrase"
                                    },
                                    "query": {
                                        "match_phrase": {
                                            "haproxy.stat.component_type": "0"
                                        }
                                    }
                                }
                            ],
                            "internalReferences": [
                                {
                                    "id": "tsvb_ad_hoc_metrics-*/@timestamp",
                                    "name": "indexpattern-datasource-layer-67837cc1-07cf-4fb9-b179-39c5269652a3",
                                    "type": "index-pattern"
                                }
                            ],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": false
                                },
                                "fillOpacity": 0.5,
                                "fittingFunction": "None",
                                "gridlinesVisibilitySettings": {
                                    "x": false,
                                    "yLeft": false,
                                    "yRight": false
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "4ab3e6fd-993b-435c-b768-7d01c359bb9e"
                                        ],
                                        "layerId": "67837cc1-07cf-4fb9-b179-39c5269652a3",
                                        "layerType": "data",
                                        "palette": {
                                            "name": "default",
                                            "type": "palette"
                                        },
                                        "seriesType": "bar_horizontal",
                                        "xAccessor": "147e3dc5-3def-4258-9010-1559f77eac7d",
                                        "yConfig": [
                                            {
                                                "axisMode": "left",
                                                "color": "#68BC00",
                                                "forAccessor": "4ab3e6fd-993b-435c-b768-7d01c359bb9e"
                                            }
                                        ]
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "maxLines": 1,
                                    "position": "right",
                                    "shouldTruncate": true,
                                    "showSingleSeries": false
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": false,
                                    "yRight": false
                                },
                                "valueLabels": "show",
                                "xTitle": "Proxy names"
                            }
                        },
                        "title": "Frontends",
                        "type": "lens",
                        "visualizationType": "lnsXY"
                    },
                    "enhancements": {},
                    "hidePanelTitles": false
                },
                "gridData": {
                    "h": 9,
                    "i": "4",
                    "w": 24,
                    "x": 0,
                    "y": 30
                },
                "panelIndex": "4",
                "title": "Frontend connections",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [],
                        "state": {
                            "adHocDataViews": {
                                "tsvb_ad_hoc_metrics-*/@timestamp": {
                                    "allowHidden": false,
                                    "allowNoIndex": true,
                                    "fieldAttrs": {},
                                    "fieldFormats": {},
                                    "id": "tsvb_ad_hoc_metrics-*/@timestamp",
                                    "name": "metrics-*",
                                    "runtimeFieldMap": {},
                                    "sourceFilters": [],
                                    "timeFieldName": "@timestamp",
                                    "title": "metrics-*"
                                }
                            },
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "484ac849-4ddb-4ff2-891c-5a7be55e5a5b": {
                                            "columnOrder": [
                                                "a5b1b9d2-0ec5-4434-b961-8f227844be70",
                                                "eb907689-6b1a-4a0d-a9c4-db45bf4977b0",
                                                "a703f1a7-ffef-4887-be18-9ff0db14ce2fX0",
                                                "a703f1a7-ffef-4887-be18-9ff0db14ce2fX1",
                                                "a703f1a7-ffef-4887-be18-9ff0db14ce2fX2",
                                                "a703f1a7-ffef-4887-be18-9ff0db14ce2f"
                                            ],
                                            "columns": {
                                                "a5b1b9d2-0ec5-4434-b961-8f227844be70": {
                                                    "dataType": "date",
                                                    "isBucketed": true,
                                                    "label": "@timestamp",
                                                    "operationType": "date_histogram",
                                                    "params": {
                                                        "dropPartials": true,
                                                        "includeEmptyRows": false,
                                                        "interval": "auto"
                                                    },
                                                    "scale": "interval",
                                                    "sourceField": "@timestamp"
                                                },
                                                "a703f1a7-ffef-4887-be18-9ff0db14ce2f": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "query": "haproxy.stat.component_type:(0 OR 1)"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Connections",
                                                    "operationType": "formula",
                                                    "params": {
                                                        "formula": "pick_max(differences(max(haproxy.stat.connection.total)), 0)",
                                                        "isFormulaBroken": false
                                                    },
                                                    "references": [
                                                        "a703f1a7-ffef-4887-be18-9ff0db14ce2fX2"
                                                    ],
                                                    "scale": "ratio"
                                                },
                                                "a703f1a7-ffef-4887-be18-9ff0db14ce2fX0": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Part of Connections",
                                                    "operationType": "max",
                                                    "params": {
                                                        "emptyAsNull": false
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "haproxy.stat.connection.total"
                                                },
                                                "a703f1a7-ffef-4887-be18-9ff0db14ce2fX1": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Part of Connections",
                                                    "operationType": "differences",
                                                    "references": [
                                                        "a703f1a7-ffef-4887-be18-9ff0db14ce2fX0"
                                                    ],
                                                    "scale": "ratio"
                                                },
                                                "a703f1a7-ffef-4887-be18-9ff0db14ce2fX2": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Part of Connections",
                                                    "operationType": "math",
                                                    "params": {
                                                        "tinymathAst": {
                                                            "args": [
                                                                "a703f1a7-ffef-4887-be18-9ff0db14ce2fX1",
                                                                0
                                                            ],
                                                            "location": {
                                                                "max": 60,
                                                                "min": 0
                                                            },
                                                            "name": "pick_max",
                                                            "text": "pick_max(differences(max(haproxy.stat.connection.total)), 0)",
                                                            "type": "function"
                                                        }
                                                    },
                                                    "references": [
                                                        "a703f1a7-ffef-4887-be18-9ff0db14ce2fX1"
                                                    ],
                                                    "scale": "ratio"
                                                },
                                                "eb907689-6b1a-4a0d-a9c4-db45bf4977b0": {
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Top 10 values of haproxy.stat.proxy.name",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderAgg": {
                                                            "dataType": "number",
                                                            "isBucketed": false,
                                                            "label": "Count of records",
                                                            "operationType": "count",
                                                            "params": {},
                                                            "scale": "ratio",
                                                            "sourceField": "___records___"
                                                        },
                                                        "orderBy": {
                                                            "type": "custom"
                                                        },
                                                        "orderDirection": "desc",
                                                        "otherBucket": false,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "secondaryFields": [],
                                                        "size": 10
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "haproxy.stat.proxy.name"
                                                }
                                            },
                                            "incompleteColumns": {}
                                        }
                                    }
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [
                                {
                                    "$state": {
                                        "store": "appState"
                                    },
                                    "meta": {
                                        "alias": null,
                                        "disabled": false,
                                        "field": "haproxy.stat.component_type",
                                        "index": "tsvb_ad_hoc_metrics-*/@timestamp",
                                        "key": "haproxy.stat.component_type",
                                        "negate": false,
                                        "params": {
                                            "query": "0"
                                        },
                                        "type": "phrase"
                                    },
                                    "query": {
                                        "match_phrase": {
                                            "haproxy.stat.component_type": "0"
                                        }
                                    }
                                }
                            ],
                            "internalReferences": [
                                {
                                    "id": "tsvb_ad_hoc_metrics-*/@timestamp",
                                    "name": "indexpattern-datasource-layer-484ac849-4ddb-4ff2-891c-5a7be55e5a5b",
                                    "type": "index-pattern"
                                }
                            ],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "axisTitlesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "fillOpacity": 0.5,
                                "fittingFunction": "None",
                                "gridlinesVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "labelsOrientation": {
                                    "x": 0,
                                    "yLeft": 0,
                                    "yRight": 0
                                },
                                "layers": [
                                    {
                                        "accessors": [
                                            "a703f1a7-ffef-4887-be18-9ff0db14ce2f"
                                        ],
                                        "layerId": "484ac849-4ddb-4ff2-891c-5a7be55e5a5b",
                                        "layerType": "data",
                                        "palette": {
                                            "name": "default",
                                            "type": "palette"
                                        },
                                        "seriesType": "area",
                                        "splitAccessor": "eb907689-6b1a-4a0d-a9c4-db45bf4977b0",
                                        "xAccessor": "a5b1b9d2-0ec5-4434-b961-8f227844be70",
                                        "yConfig": [
                                            {
                                                "axisMode": "left",
                                                "color": "#68BC00",
                                                "forAccessor": "a703f1a7-ffef-4887-be18-9ff0db14ce2f"
                                            }
                                        ]
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "maxLines": 1,
                                    "position": "right",
                                    "shouldTruncate": true,
                                    "showSingleSeries": false
                                },
                                "preferredSeriesType": "bar_stacked",
                                "tickLabelsVisibilitySettings": {
                                    "x": true,
                                    "yLeft": true,
                                    "yRight": true
                                },
                                "valueLabels": "hide",
                                "valuesInLegend": true,
                                "yLeftExtent": {
                                    "mode": "full"
                                },
                                "yLeftScale": "linear",
                                "yRightExtent": {
                                    "mode": "full"
                                },
                                "yRightScale": "linear"
                            }
                        },
                        "title": "Connections [Metrics HAProxy]",
                        "type": "lens",
                        "visualizationType": "lnsXY"
                    },
                    "enhancements": {},
                    "hidePanelTitles": false
                },
                "gridData": {
                    "h": 9,
                    "i": "5",
                    "w": 24,
                    "x": 24,
                    "y": 30
                },
                "panelIndex": "5",
                "title": "Frontend connections over time",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "metrics-*",
                                "name": "indexpattern-datasource-layer-dbd66631-77e1-42c2-a45e-b5aee2124e6f",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "dbd66631-77e1-42c2-a45e-b5aee2124e6f": {
                                            "columnOrder": [
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31",
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X0",
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X1",
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X2"
                                            ],
                                            "columns": {
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": " ",
                                                    "operationType": "formula",
                                                    "params": {
                                                        "format": {
                                                            "id": "percent",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        },
                                                        "formula": "last_value(haproxy.stat.session.total, kql='haproxy.stat.component_type : 0')/last_value(haproxy.stat.session.total,kql='haproxy.stat.session.total : * and NOT haproxy.stat.session.total : 0')",
                                                        "isFormulaBroken": false
                                                    },
                                                    "references": [
                                                        "8b56f02f-04a0-4f62-94ce-b1b894831e31X2"
                                                    ],
                                                    "scale": "ratio"
                                                },
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X0": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": "haproxy.stat.component_type : 0"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Part of Frontend Sessions",
                                                    "operationType": "last_value",
                                                    "params": {
                                                        "sortField": "@timestamp"
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "haproxy.stat.session.total"
                                                },
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X1": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": "haproxy.stat.session.total : * and NOT haproxy.stat.session.total : 0"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Part of Frontend Sessions",
                                                    "operationType": "last_value",
                                                    "params": {
                                                        "sortField": "@timestamp"
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "haproxy.stat.session.total"
                                                },
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X2": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Part of Frontend Sessions",
                                                    "operationType": "math",
                                                    "params": {
                                                        "tinymathAst": {
                                                            "args": [
                                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X0",
                                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X1"
                                                            ],
                                                            "location": {
                                                                "max": 192,
                                                                "min": 0
                                                            },
                                                            "name": "divide",
                                                            "text": "last_value(haproxy.stat.session.total, kql='haproxy.stat.component_type : 0')/last_value(haproxy.stat.session.total,kql='haproxy.stat.session.total : * and NOT haproxy.stat.session.total : 0')",
                                                            "type": "function"
                                                        }
                                                    },
                                                    "references": [
                                                        "8b56f02f-04a0-4f62-94ce-b1b894831e31X0",
                                                        "8b56f02f-04a0-4f62-94ce-b1b894831e31X1"
                                                    ],
                                                    "scale": "ratio"
                                                }
                                            },
                                            "ignoreGlobalFilters": false,
                                            "incompleteColumns": {},
                                            "sampling": 1
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "layerId": "dbd66631-77e1-42c2-a45e-b5aee2124e6f",
                                "layerType": "data",
                                "metricAccessor": "8b56f02f-04a0-4f62-94ce-b1b894831e31"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsMetric"
                    },
                    "enhancements": {},
                    "hidePanelTitles": false
                },
                "gridData": {
                    "h": 7,
                    "i": "27e2be92-163e-4bad-90ee-005e2a5f8aa3",
                    "w": 10,
                    "x": 0,
                    "y": 0
                },
                "panelIndex": "27e2be92-163e-4bad-90ee-005e2a5f8aa3",
                "title": "Frontend sessions",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "metrics-*",
                                "name": "indexpattern-datasource-layer-90387c3b-e223-4e31-96f0-1e1d82ebccc3",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "90387c3b-e223-4e31-96f0-1e1d82ebccc3": {
                                            "columnOrder": [
                                                "db386114-db80-4bfe-a8fb-405ae524ba91",
                                                "9f0c7a11-267f-4a75-b227-aefba75d1c99",
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcf",
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcfX0"
                                            ],
                                            "columns": {
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcf": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Sessions",
                                                    "operationType": "formula",
                                                    "params": {
                                                        "formula": "last_value(haproxy.stat.session.total, kql='\"haproxy.stat.session.total\": *')",
                                                        "isFormulaBroken": false
                                                    },
                                                    "references": [
                                                        "2d0e78c6-a236-4de1-bda4-051cea39afcfX0"
                                                    ],
                                                    "scale": "ratio"
                                                },
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcfX0": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": "\"haproxy.stat.session.total\": *"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Part of Frontend Sessions",
                                                    "operationType": "last_value",
                                                    "params": {
                                                        "sortField": "@timestamp"
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "haproxy.stat.session.total"
                                                },
                                                "9f0c7a11-267f-4a75-b227-aefba75d1c99": {
                                                    "dataType": "date",
                                                    "isBucketed": true,
                                                    "label": "@timestamp",
                                                    "operationType": "date_histogram",
                                                    "params": {
                                                        "dropPartials": true,
                                                        "includeEmptyRows": false,
                                                        "interval": "auto"
                                                    },
                                                    "scale": "interval",
                                                    "sourceField": "@timestamp"
                                                },
                                                "db386114-db80-4bfe-a8fb-405ae524ba91": {
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Top 10 values of haproxy.stat.proxy.name",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderBy": {
                                                            "fallback": true,
                                                            "type": "alphabetical"
                                                        },
                                                        "orderDirection": "asc",
                                                        "otherBucket": true,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "size": 10
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "haproxy.stat.proxy.name"
                                                }
                                            },
                                            "ignoreGlobalFilters": false,
                                            "incompleteColumns": {},
                                            "sampling": 1
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [
                                {
                                    "$state": {
                                        "store": "appState"
                                    },
                                    "meta": {
                                        "alias": null,
                                        "disabled": false,
                                        "field": "haproxy.stat.component_type",
                                        "index": "2f796a22-4db8-4070-98cc-0e6dd56cd2b6",
                                        "key": "haproxy.stat.component_type",
                                        "negate": false,
                                        "params": {
                                            "query": "0"
                                        },
                                        "type": "phrase"
                                    },
                                    "query": {
                                        "match_phrase": {
                                            "haproxy.stat.component_type": "0"
                                        }
                                    }
                                }
                            ],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "layers": [
                                    {
                                        "accessors": [
                                            "2d0e78c6-a236-4de1-bda4-051cea39afcf"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "eui_amsterdam_color_blind",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rule": {
                                                        "type": "other"
                                                    },
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "90387c3b-e223-4e31-96f0-1e1d82ebccc3",
                                        "layerType": "data",
                                        "position": "top",
                                        "seriesType": "line",
                                        "showGridlines": false,
                                        "splitAccessor": "db386114-db80-4bfe-a8fb-405ae524ba91",
                                        "xAccessor": "9f0c7a11-267f-4a75-b227-aefba75d1c99"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "right"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "title": "Empty XY chart",
                                "valueLabels": "hide",
                                "valuesInLegend": true
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsXY"
                    },
                    "enhancements": {}
                },
                "gridData": {
                    "h": 7,
                    "i": "dbd56fd3-437c-4f70-b753-f591f4a7675d",
                    "w": 38,
                    "x": 10,
                    "y": 0
                },
                "panelIndex": "dbd56fd3-437c-4f70-b753-f591f4a7675d",
                "title": "Frontend sessions over time",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "metrics-*",
                                "name": "indexpattern-datasource-layer-dbd66631-77e1-42c2-a45e-b5aee2124e6f",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "currentIndexPatternId": "metrics-*",
                                    "layers": {
                                        "dbd66631-77e1-42c2-a45e-b5aee2124e6f": {
                                            "columnOrder": [
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31",
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X0",
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X1",
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X2"
                                            ],
                                            "columns": {
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": " ",
                                                    "operationType": "formula",
                                                    "params": {
                                                        "format": {
                                                            "id": "percent",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        },
                                                        "formula": "last_value(haproxy.stat.session.total, kql='haproxy.stat.component_type : 1')/last_value(haproxy.stat.session.total,kql='haproxy.stat.session.total : * and NOT haproxy.stat.session.total : 0')",
                                                        "isFormulaBroken": false
                                                    },
                                                    "references": [
                                                        "8b56f02f-04a0-4f62-94ce-b1b894831e31X2"
                                                    ],
                                                    "scale": "ratio"
                                                },
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X0": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": "haproxy.stat.component_type : 1"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Part of Backend Sessions",
                                                    "operationType": "last_value",
                                                    "params": {
                                                        "sortField": "@timestamp"
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "haproxy.stat.session.total"
                                                },
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X1": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": "haproxy.stat.session.total : * and NOT haproxy.stat.session.total : 0"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Part of Backend Sessions",
                                                    "operationType": "last_value",
                                                    "params": {
                                                        "sortField": "@timestamp"
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "haproxy.stat.session.total"
                                                },
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X2": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Part of Backend Sessions",
                                                    "operationType": "math",
                                                    "params": {
                                                        "tinymathAst": {
                                                            "args": [
                                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X0",
                                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X1"
                                                            ],
                                                            "location": {
                                                                "max": 192,
                                                                "min": 0
                                                            },
                                                            "name": "divide",
                                                            "text": "last_value(haproxy.stat.session.total, kql='haproxy.stat.component_type : 1')/last_value(haproxy.stat.session.total,kql='haproxy.stat.session.total : * and NOT haproxy.stat.session.total : 0')",
                                                            "type": "function"
                                                        }
                                                    },
                                                    "references": [
                                                        "8b56f02f-04a0-4f62-94ce-b1b894831e31X0",
                                                        "8b56f02f-04a0-4f62-94ce-b1b894831e31X1"
                                                    ],
                                                    "scale": "ratio"
                                                }
                                            },
                                            "ignoreGlobalFilters": false,
                                            "incompleteColumns": {},
                                            "indexPatternId": "metrics-*",
                                            "sampling": 1
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "layerId": "dbd66631-77e1-42c2-a45e-b5aee2124e6f",
                                "layerType": "data",
                                "metricAccessor": "8b56f02f-04a0-4f62-94ce-b1b894831e31"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsMetric"
                    },
                    "enhancements": {},
                    "hidePanelTitles": false
                },
                "gridData": {
                    "h": 7,
                    "i": "5ae87b0f-b67b-43a1-ae5e-203b860ed0df",
                    "w": 10,
                    "x": 0,
                    "y": 7
                },
                "panelIndex": "5ae87b0f-b67b-43a1-ae5e-203b860ed0df",
                "title": "Backend sessions",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "metrics-*",
                                "name": "indexpattern-datasource-layer-90387c3b-e223-4e31-96f0-1e1d82ebccc3",
                                "type": "index-pattern"
                            },
                            {
                                "id": "metrics-*",
                                "name": "4ffeca0f-fa04-4243-95c6-7df79bb12c9d",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "90387c3b-e223-4e31-96f0-1e1d82ebccc3": {
                                            "columnOrder": [
                                                "db386114-db80-4bfe-a8fb-405ae524ba91",
                                                "9f0c7a11-267f-4a75-b227-aefba75d1c99",
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcf",
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcfX0"
                                            ],
                                            "columns": {
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcf": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Sessions",
                                                    "operationType": "formula",
                                                    "params": {
                                                        "formula": "last_value(haproxy.stat.session.total, kql='\"haproxy.stat.session.total\": *')",
                                                        "isFormulaBroken": false
                                                    },
                                                    "references": [
                                                        "2d0e78c6-a236-4de1-bda4-051cea39afcfX0"
                                                    ],
                                                    "scale": "ratio"
                                                },
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcfX0": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": "\"haproxy.stat.session.total\": *"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Part of Backend Sessions",
                                                    "operationType": "last_value",
                                                    "params": {
                                                        "sortField": "@timestamp"
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "haproxy.stat.session.total"
                                                },
                                                "9f0c7a11-267f-4a75-b227-aefba75d1c99": {
                                                    "dataType": "date",
                                                    "isBucketed": true,
                                                    "label": "@timestamp",
                                                    "operationType": "date_histogram",
                                                    "params": {
                                                        "dropPartials": true,
                                                        "includeEmptyRows": false,
                                                        "interval": "auto"
                                                    },
                                                    "scale": "interval",
                                                    "sourceField": "@timestamp"
                                                },
                                                "db386114-db80-4bfe-a8fb-405ae524ba91": {
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Top 10 values of haproxy.stat.proxy.name",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderBy": {
                                                            "fallback": true,
                                                            "type": "alphabetical"
                                                        },
                                                        "orderDirection": "asc",
                                                        "otherBucket": true,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "size": 10
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "haproxy.stat.proxy.name"
                                                }
                                            },
                                            "ignoreGlobalFilters": false,
                                            "incompleteColumns": {},
                                            "sampling": 1
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [
                                {
                                    "$state": {
                                        "store": "appState"
                                    },
                                    "meta": {
                                        "alias": null,
                                        "disabled": false,
                                        "field": "haproxy.stat.component_type",
                                        "index": "4ffeca0f-fa04-4243-95c6-7df79bb12c9d",
                                        "key": "haproxy.stat.component_type",
                                        "negate": false,
                                        "params": {
                                            "query": "1"
                                        },
                                        "type": "phrase"
                                    },
                                    "query": {
                                        "match_phrase": {
                                            "haproxy.stat.component_type": "1"
                                        }
                                    }
                                }
                            ],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "layers": [
                                    {
                                        "accessors": [
                                            "2d0e78c6-a236-4de1-bda4-051cea39afcf"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "eui_amsterdam_color_blind",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rule": {
                                                        "type": "other"
                                                    },
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "90387c3b-e223-4e31-96f0-1e1d82ebccc3",
                                        "layerType": "data",
                                        "position": "top",
                                        "seriesType": "line",
                                        "showGridlines": false,
                                        "splitAccessor": "db386114-db80-4bfe-a8fb-405ae524ba91",
                                        "xAccessor": "9f0c7a11-267f-4a75-b227-aefba75d1c99"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "right"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "title": "Empty XY chart",
                                "valueLabels": "hide",
                                "valuesInLegend": true
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsXY"
                    },
                    "enhancements": {}
                },
                "gridData": {
                    "h": 7,
                    "i": "c51823fc-5612-46fc-8ac5-fa63522a5bc9",
                    "w": 38,
                    "x": 10,
                    "y": 7
                },
                "panelIndex": "c51823fc-5612-46fc-8ac5-fa63522a5bc9",
                "title": "Backend sessions over time",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "metrics-*",
                                "name": "indexpattern-datasource-layer-dbd66631-77e1-42c2-a45e-b5aee2124e6f",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "dbd66631-77e1-42c2-a45e-b5aee2124e6f": {
                                            "columnOrder": [
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31",
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X0",
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X1",
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X2"
                                            ],
                                            "columns": {
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": " ",
                                                    "operationType": "formula",
                                                    "params": {
                                                        "format": {
                                                            "id": "percent",
                                                            "params": {
                                                                "decimals": 2
                                                            }
                                                        },
                                                        "formula": "last_value(haproxy.stat.session.total, kql='haproxy.stat.component_type : 2 or 3')/last_value(haproxy.stat.session.total,kql='haproxy.stat.session.total : * and NOT haproxy.stat.session.total : 0')",
                                                        "isFormulaBroken": false
                                                    },
                                                    "references": [
                                                        "8b56f02f-04a0-4f62-94ce-b1b894831e31X2"
                                                    ],
                                                    "scale": "ratio"
                                                },
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X0": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": "haproxy.stat.component_type : 2 or 3"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Part of  ",
                                                    "operationType": "last_value",
                                                    "params": {
                                                        "sortField": "@timestamp"
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "haproxy.stat.session.total"
                                                },
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X1": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": "haproxy.stat.session.total : * and NOT haproxy.stat.session.total : 0"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Part of  ",
                                                    "operationType": "last_value",
                                                    "params": {
                                                        "sortField": "@timestamp"
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "haproxy.stat.session.total"
                                                },
                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X2": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Part of  ",
                                                    "operationType": "math",
                                                    "params": {
                                                        "tinymathAst": {
                                                            "args": [
                                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X0",
                                                                "8b56f02f-04a0-4f62-94ce-b1b894831e31X1"
                                                            ],
                                                            "location": {
                                                                "max": 197,
                                                                "min": 0
                                                            },
                                                            "name": "divide",
                                                            "text": "last_value(haproxy.stat.session.total, kql='haproxy.stat.component_type : 2 or 3')/last_value(haproxy.stat.session.total,kql='haproxy.stat.session.total : * and NOT haproxy.stat.session.total : 0')",
                                                            "type": "function"
                                                        }
                                                    },
                                                    "references": [
                                                        "8b56f02f-04a0-4f62-94ce-b1b894831e31X0",
                                                        "8b56f02f-04a0-4f62-94ce-b1b894831e31X1"
                                                    ],
                                                    "scale": "ratio"
                                                }
                                            },
                                            "ignoreGlobalFilters": false,
                                            "incompleteColumns": {},
                                            "sampling": 1
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "layerId": "dbd66631-77e1-42c2-a45e-b5aee2124e6f",
                                "layerType": "data",
                                "metricAccessor": "8b56f02f-04a0-4f62-94ce-b1b894831e31"
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsMetric"
                    },
                    "enhancements": {},
                    "hidePanelTitles": false
                },
                "gridData": {
                    "h": 7,
                    "i": "31f37bd4-6046-4e3b-bd90-213d14cb31dd",
                    "w": 10,
                    "x": 0,
                    "y": 14
                },
                "panelIndex": "31f37bd4-6046-4e3b-bd90-213d14cb31dd",
                "title": "Server sessions",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "metrics-*",
                                "name": "indexpattern-datasource-layer-90387c3b-e223-4e31-96f0-1e1d82ebccc3",
                                "type": "index-pattern"
                            },
                            {
                                "id": "metrics-*",
                                "name": "fc7fb006-9733-440c-bafa-249eed5c91a1",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "90387c3b-e223-4e31-96f0-1e1d82ebccc3": {
                                            "columnOrder": [
                                                "db386114-db80-4bfe-a8fb-405ae524ba91",
                                                "9f0c7a11-267f-4a75-b227-aefba75d1c99",
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcf",
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcfX0"
                                            ],
                                            "columns": {
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcf": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Sessions",
                                                    "operationType": "formula",
                                                    "params": {
                                                        "formula": "last_value(haproxy.stat.session.total, kql='\"haproxy.stat.session.total\": *')",
                                                        "isFormulaBroken": false
                                                    },
                                                    "references": [
                                                        "2d0e78c6-a236-4de1-bda4-051cea39afcfX0"
                                                    ],
                                                    "scale": "ratio"
                                                },
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcfX0": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": "\"haproxy.stat.session.total\": *"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Part of Backend Sessions",
                                                    "operationType": "last_value",
                                                    "params": {
                                                        "sortField": "@timestamp"
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "haproxy.stat.session.total"
                                                },
                                                "9f0c7a11-267f-4a75-b227-aefba75d1c99": {
                                                    "dataType": "date",
                                                    "isBucketed": true,
                                                    "label": "@timestamp",
                                                    "operationType": "date_histogram",
                                                    "params": {
                                                        "dropPartials": true,
                                                        "includeEmptyRows": false,
                                                        "interval": "auto"
                                                    },
                                                    "scale": "interval",
                                                    "sourceField": "@timestamp"
                                                },
                                                "db386114-db80-4bfe-a8fb-405ae524ba91": {
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Top 10 values of haproxy.stat.proxy.name",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderBy": {
                                                            "fallback": true,
                                                            "type": "alphabetical"
                                                        },
                                                        "orderDirection": "asc",
                                                        "otherBucket": true,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "size": 10
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "haproxy.stat.proxy.name"
                                                }
                                            },
                                            "ignoreGlobalFilters": false,
                                            "incompleteColumns": {},
                                            "sampling": 1
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [
                                {
                                    "$state": {
                                        "store": "appState"
                                    },
                                    "meta": {
                                        "alias": null,
                                        "disabled": false,
                                        "field": "haproxy.stat.component_type",
                                        "index": "fc7fb006-9733-440c-bafa-249eed5c91a1",
                                        "key": "haproxy.stat.component_type",
                                        "negate": false,
                                        "params": [
                                            "2",
                                            "3"
                                        ],
                                        "type": "phrases",
                                        "value": [
                                            "2",
                                            "3"
                                        ]
                                    },
                                    "query": {
                                        "bool": {
                                            "minimum_should_match": 1,
                                            "should": [
                                                {
                                                    "match_phrase": {
                                                        "haproxy.stat.component_type": "2"
                                                    }
                                                },
                                                {
                                                    "match_phrase": {
                                                        "haproxy.stat.component_type": "3"
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                }
                            ],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "layers": [
                                    {
                                        "accessors": [
                                            "2d0e78c6-a236-4de1-bda4-051cea39afcf"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "eui_amsterdam_color_blind",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rule": {
                                                        "type": "other"
                                                    },
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "90387c3b-e223-4e31-96f0-1e1d82ebccc3",
                                        "layerType": "data",
                                        "position": "top",
                                        "seriesType": "line",
                                        "showGridlines": false,
                                        "splitAccessor": "db386114-db80-4bfe-a8fb-405ae524ba91",
                                        "xAccessor": "9f0c7a11-267f-4a75-b227-aefba75d1c99"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "right"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "title": "Empty XY chart",
                                "valueLabels": "hide",
                                "valuesInLegend": true
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsXY"
                    },
                    "enhancements": {}
                },
                "gridData": {
                    "h": 7,
                    "i": "a7906cad-ee41-4a7a-9a67-6155d4d1ccbb",
                    "w": 38,
                    "x": 10,
                    "y": 14
                },
                "panelIndex": "a7906cad-ee41-4a7a-9a67-6155d4d1ccbb",
                "title": "Server sessions over time",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "metrics-*",
                                "name": "indexpattern-datasource-layer-90387c3b-e223-4e31-96f0-1e1d82ebccc3",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "90387c3b-e223-4e31-96f0-1e1d82ebccc3": {
                                            "columnOrder": [
                                                "db386114-db80-4bfe-a8fb-405ae524ba91",
                                                "9f0c7a11-267f-4a75-b227-aefba75d1c99",
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcf",
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcfX0"
                                            ],
                                            "columns": {
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcf": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Sessions",
                                                    "operationType": "formula",
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2,
                                                                "suffix": ""
                                                            }
                                                        },
                                                        "formula": "last_value(haproxy.stat.session.rate.value, kql='\"haproxy.stat.session.total\": *')",
                                                        "isFormulaBroken": false
                                                    },
                                                    "references": [
                                                        "2d0e78c6-a236-4de1-bda4-051cea39afcfX0"
                                                    ],
                                                    "scale": "ratio"
                                                },
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcfX0": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": "\"haproxy.stat.session.total\": *"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Part of Frontend Sessions Rate",
                                                    "operationType": "last_value",
                                                    "params": {
                                                        "sortField": "@timestamp"
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "haproxy.stat.session.rate.value"
                                                },
                                                "9f0c7a11-267f-4a75-b227-aefba75d1c99": {
                                                    "dataType": "date",
                                                    "isBucketed": true,
                                                    "label": "@timestamp",
                                                    "operationType": "date_histogram",
                                                    "params": {
                                                        "dropPartials": true,
                                                        "includeEmptyRows": false,
                                                        "interval": "auto"
                                                    },
                                                    "scale": "interval",
                                                    "sourceField": "@timestamp"
                                                },
                                                "db386114-db80-4bfe-a8fb-405ae524ba91": {
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Top 10 values of haproxy.stat.proxy.name",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderBy": {
                                                            "fallback": true,
                                                            "type": "alphabetical"
                                                        },
                                                        "orderDirection": "asc",
                                                        "otherBucket": true,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "size": 10
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "haproxy.stat.proxy.name"
                                                }
                                            },
                                            "ignoreGlobalFilters": false,
                                            "incompleteColumns": {},
                                            "sampling": 1
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [
                                {
                                    "$state": {
                                        "store": "appState"
                                    },
                                    "meta": {
                                        "alias": null,
                                        "disabled": false,
                                        "field": "haproxy.stat.component_type",
                                        "index": "2f796a22-4db8-4070-98cc-0e6dd56cd2b6",
                                        "key": "haproxy.stat.component_type",
                                        "negate": false,
                                        "params": {
                                            "query": "0"
                                        },
                                        "type": "phrase"
                                    },
                                    "query": {
                                        "match_phrase": {
                                            "haproxy.stat.component_type": "0"
                                        }
                                    }
                                }
                            ],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "layers": [
                                    {
                                        "accessors": [
                                            "2d0e78c6-a236-4de1-bda4-051cea39afcf"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "eui_amsterdam_color_blind",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rule": {
                                                        "type": "other"
                                                    },
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "90387c3b-e223-4e31-96f0-1e1d82ebccc3",
                                        "layerType": "data",
                                        "position": "top",
                                        "seriesType": "line",
                                        "showGridlines": false,
                                        "splitAccessor": "db386114-db80-4bfe-a8fb-405ae524ba91",
                                        "xAccessor": "9f0c7a11-267f-4a75-b227-aefba75d1c99"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "right"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "title": "Empty XY chart",
                                "valueLabels": "hide",
                                "valuesInLegend": true
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsXY"
                    },
                    "enhancements": {}
                },
                "gridData": {
                    "h": 9,
                    "i": "745685cf-e9b7-4aee-99b6-6fd178a68f80",
                    "w": 24,
                    "x": 0,
                    "y": 21
                },
                "panelIndex": "745685cf-e9b7-4aee-99b6-6fd178a68f80",
                "title": "Frontend sessions rate over time",
                "type": "lens"
            },
            {
                "embeddableConfig": {
                    "attributes": {
                        "references": [
                            {
                                "id": "metrics-*",
                                "name": "indexpattern-datasource-layer-90387c3b-e223-4e31-96f0-1e1d82ebccc3",
                                "type": "index-pattern"
                            },
                            {
                                "id": "metrics-*",
                                "name": "38946585-ad3e-43e5-9555-17817ce4ca86",
                                "type": "index-pattern"
                            }
                        ],
                        "state": {
                            "adHocDataViews": {},
                            "datasourceStates": {
                                "formBased": {
                                    "layers": {
                                        "90387c3b-e223-4e31-96f0-1e1d82ebccc3": {
                                            "columnOrder": [
                                                "db386114-db80-4bfe-a8fb-405ae524ba91",
                                                "9f0c7a11-267f-4a75-b227-aefba75d1c99",
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcf",
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcfX0"
                                            ],
                                            "columns": {
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcf": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "isBucketed": false,
                                                    "label": "Sessions",
                                                    "operationType": "formula",
                                                    "params": {
                                                        "format": {
                                                            "id": "number",
                                                            "params": {
                                                                "decimals": 2,
                                                                "suffix": ""
                                                            }
                                                        },
                                                        "formula": "last_value(haproxy.stat.session.rate.value, kql='\"haproxy.stat.session.total\": *')",
                                                        "isFormulaBroken": false
                                                    },
                                                    "references": [
                                                        "2d0e78c6-a236-4de1-bda4-051cea39afcfX0"
                                                    ],
                                                    "scale": "ratio"
                                                },
                                                "2d0e78c6-a236-4de1-bda4-051cea39afcfX0": {
                                                    "customLabel": true,
                                                    "dataType": "number",
                                                    "filter": {
                                                        "language": "kuery",
                                                        "query": "\"haproxy.stat.session.total\": *"
                                                    },
                                                    "isBucketed": false,
                                                    "label": "Part of Backend Sessions Rate",
                                                    "operationType": "last_value",
                                                    "params": {
                                                        "sortField": "@timestamp"
                                                    },
                                                    "scale": "ratio",
                                                    "sourceField": "haproxy.stat.session.rate.value"
                                                },
                                                "9f0c7a11-267f-4a75-b227-aefba75d1c99": {
                                                    "dataType": "date",
                                                    "isBucketed": true,
                                                    "label": "@timestamp",
                                                    "operationType": "date_histogram",
                                                    "params": {
                                                        "dropPartials": true,
                                                        "includeEmptyRows": false,
                                                        "interval": "auto"
                                                    },
                                                    "scale": "interval",
                                                    "sourceField": "@timestamp"
                                                },
                                                "db386114-db80-4bfe-a8fb-405ae524ba91": {
                                                    "dataType": "string",
                                                    "isBucketed": true,
                                                    "label": "Top 10 values of haproxy.stat.proxy.name",
                                                    "operationType": "terms",
                                                    "params": {
                                                        "exclude": [],
                                                        "excludeIsRegex": false,
                                                        "include": [],
                                                        "includeIsRegex": false,
                                                        "missingBucket": false,
                                                        "orderBy": {
                                                            "fallback": true,
                                                            "type": "alphabetical"
                                                        },
                                                        "orderDirection": "asc",
                                                        "otherBucket": true,
                                                        "parentFormat": {
                                                            "id": "terms"
                                                        },
                                                        "size": 10
                                                    },
                                                    "scale": "ordinal",
                                                    "sourceField": "haproxy.stat.proxy.name"
                                                }
                                            },
                                            "ignoreGlobalFilters": false,
                                            "incompleteColumns": {},
                                            "sampling": 1
                                        }
                                    }
                                },
                                "indexpattern": {
                                    "layers": {}
                                },
                                "textBased": {
                                    "layers": {}
                                }
                            },
                            "filters": [
                                {
                                    "$state": {
                                        "store": "appState"
                                    },
                                    "meta": {
                                        "alias": null,
                                        "disabled": false,
                                        "field": "haproxy.stat.component_type",
                                        "index": "38946585-ad3e-43e5-9555-17817ce4ca86",
                                        "key": "haproxy.stat.component_type",
                                        "negate": false,
                                        "params": {
                                            "query": "1"
                                        },
                                        "type": "phrase"
                                    },
                                    "query": {
                                        "match_phrase": {
                                            "haproxy.stat.component_type": "1"
                                        }
                                    }
                                }
                            ],
                            "internalReferences": [],
                            "query": {
                                "language": "kuery",
                                "query": ""
                            },
                            "visualization": {
                                "layers": [
                                    {
                                        "accessors": [
                                            "2d0e78c6-a236-4de1-bda4-051cea39afcf"
                                        ],
                                        "colorMapping": {
                                            "assignments": [],
                                            "colorMode": {
                                                "type": "categorical"
                                            },
                                            "paletteId": "eui_amsterdam_color_blind",
                                            "specialAssignments": [
                                                {
                                                    "color": {
                                                        "type": "loop"
                                                    },
                                                    "rule": {
                                                        "type": "other"
                                                    },
                                                    "touched": false
                                                }
                                            ]
                                        },
                                        "layerId": "90387c3b-e223-4e31-96f0-1e1d82ebccc3",
                                        "layerType": "data",
                                        "position": "top",
                                        "seriesType": "line",
                                        "showGridlines": false,
                                        "splitAccessor": "db386114-db80-4bfe-a8fb-405ae524ba91",
                                        "xAccessor": "9f0c7a11-267f-4a75-b227-aefba75d1c99"
                                    }
                                ],
                                "legend": {
                                    "isVisible": true,
                                    "position": "right"
                                },
                                "preferredSeriesType": "bar_stacked",
                                "title": "Empty XY chart",
                                "valueLabels": "hide",
                                "valuesInLegend": true
                            }
                        },
                        "title": "",
                        "type": "lens",
                        "visualizationType": "lnsXY"
                    },
                    "enhancements": {}
                },
                "gridData": {
                    "h": 9,
                    "i": "63429a67-f469-4334-ac02-065e3415f033",
                    "w": 24,
                    "x": 24,
                    "y": 21
                },
                "panelIndex": "63429a67-f469-4334-ac02-065e3415f033",
                "title": "Backend sessions rate over time",
                "type": "lens"
            }
        ],
        "timeRestore": false,
        "title": "[Metrics HAProxy] Overview",
        "version": 1
    },
    "coreMigrationVersion": "8.8.0",
    "created_at": "2024-10-11T06:01:04.337Z",
    "id": "haproxy-4b555c30-47dd-11e8-bc13-1397384faad3",
    "managed": false,
    "references": [
        {
            "id": "metrics-*",
            "name": "27e2be92-163e-4bad-90ee-005e2a5f8aa3:indexpattern-datasource-layer-dbd66631-77e1-42c2-a45e-b5aee2124e6f",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "dbd56fd3-437c-4f70-b753-f591f4a7675d:indexpattern-datasource-layer-90387c3b-e223-4e31-96f0-1e1d82ebccc3",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "5ae87b0f-b67b-43a1-ae5e-203b860ed0df:indexpattern-datasource-layer-dbd66631-77e1-42c2-a45e-b5aee2124e6f",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "c51823fc-5612-46fc-8ac5-fa63522a5bc9:indexpattern-datasource-layer-90387c3b-e223-4e31-96f0-1e1d82ebccc3",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "c51823fc-5612-46fc-8ac5-fa63522a5bc9:4ffeca0f-fa04-4243-95c6-7df79bb12c9d",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "31f37bd4-6046-4e3b-bd90-213d14cb31dd:indexpattern-datasource-layer-dbd66631-77e1-42c2-a45e-b5aee2124e6f",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "a7906cad-ee41-4a7a-9a67-6155d4d1ccbb:indexpattern-datasource-layer-90387c3b-e223-4e31-96f0-1e1d82ebccc3",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "a7906cad-ee41-4a7a-9a67-6155d4d1ccbb:fc7fb006-9733-440c-bafa-249eed5c91a1",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "745685cf-e9b7-4aee-99b6-6fd178a68f80:indexpattern-datasource-layer-90387c3b-e223-4e31-96f0-1e1d82ebccc3",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "63429a67-f469-4334-ac02-065e3415f033:indexpattern-datasource-layer-90387c3b-e223-4e31-96f0-1e1d82ebccc3",
            "type": "index-pattern"
        },
        {
            "id": "metrics-*",
            "name": "63429a67-f469-4334-ac02-065e3415f033:38946585-ad3e-43e5-9555-17817ce4ca86",
            "type": "index-pattern"
        }
    ],
    "type": "dashboard",
    "typeMigrationVersion": "8.9.0"
}