connectors:
    forward: {}
exporters:
    elasticsearch/componentid-0:
        endpoints:
            - https://elasticsearch:9200
inputs: []
output_permissions:
    default:
        _elastic_agent_checks:
            cluster:
                - monitor
        _elastic_agent_monitoring:
            indices: []
        uuid-for-permissions-on-related-indices:
            indices:
                - names:
                    - logs-*-*
                  privileges:
                    - auto_configure
                    - create_doc
                - names:
                    - metrics-*-*
                  privileges:
                    - auto_configure
                    - create_doc
processors:
    resourcedetection/componentid-0:
        detectors:
            - system
    transform/componentid-1:
        log_statements:
            - context: log
              statements:
                - set(attributes["data_stream.type"], "logs")
                - set(attributes["data_stream.dataset"], "mysqlreceiver")
                - set(attributes["data_stream.namespace"], "ep")
        metric_statements:
            - context: datapoint
              statements:
                - set(attributes["data_stream.type"], "metrics")
                - set(attributes["data_stream.dataset"], "mysqlreceiver")
                - set(attributes["data_stream.namespace"], "ep")
receivers:
    mysql/componentid-0:
        allow_native_passwords: true
        collection_interval: 10s
        endpoint: localhost:3306
        initial_delay: 1s
        metrics:
            mysql.client.network.io:
                enabled: true
            mysql.commands:
                enabled: true
            mysql.connection.count:
                enabled: true
            mysql.connection.errors:
                enabled: true
            mysql.max_used_connections:
                enabled: true
            mysql.query.client.count:
                enabled: true
            mysql.replica.sql_delay:
                enabled: true
            mysql.replica.time_behind_source:
                enabled: true
            mysql.table_open_cache:
                enabled: true
        events:
            db.server.query_sample:
                enabled: false
            db.server.top_query:
                enabled: false
        statement_events:
            digest_text_limit: 120
            limit: 250
            time_limit: 24h
        transport: tcp
        username: root
secret_references: []
service:
    pipelines:
        logs:
            exporters:
                - elasticsearch/componentid-0
            receivers:
                - forward
        logs/componentid-0:
            exporters:
                - forward
            processors:
                - resourcedetection/componentid-0
                - transform/componentid-1
            receivers:
                - mysql/componentid-0
        metrics:
            exporters:
                - elasticsearch/componentid-0
            receivers:
                - forward
        metrics/componentid-1:
            exporters:
                - forward
            processors:
                - resourcedetection/componentid-0
                - transform/componentid-1
            receivers:
                - mysql/componentid-0
