type: metrics
title: Azure Application State
dataset: azure.app_state
streams:
  - input: azure/metrics
    title: Azure Application State
    description: Azure Application State
    enabled: false
    vars:
      - name: period
        type: text
        title: Period
        multi: false
        required: true
        show_user: true
        default: 300s
      - name: metrics
        type: yaml
        title: Metrics
        multi: false
        required: true
        show_user: true
        default: |
          - id: ["requests/count", "requests/failed"]
            segment: ["request/urlHost", "request/name"]
            aggregation: ["sum"]
            interval: "P5M"
          - id: ["users/count", "sessions/count", "users/authenticated"]
            segment: ["request/urlHost"]
            aggregation: ["unique"]
            interval: "P5M"
          - id: ["browserTimings/networkDuration", "browserTimings/sendDuration", "browserTimings/receiveDuration", "browserTimings/processingDuration", "browserTimings/totalDuration"]
            segment: ["browserTiming/urlHost", "browserTiming/urlPath"]
            aggregation: ["avg"]
            interval: "P5M"
            top: 5
          - id: ["exceptions/count", "exceptions/browser", "exceptions/server"]
            segment: ["exception/type", "cloud/roleName"]
            aggregation: ["sum"]
            interval: "P5M"
          - id: ["performanceCounters/memoryAvailableBytes", "performanceCounters/processCpuPercentageTotal", "performanceCounters/processCpuPercentage", "performanceCounters/processIOBytesPerSecond", "performanceCounters/processPrivateBytes"]
            segment: ["cloud/roleName", "cloud/roleInstance"]
            aggregation: ["avg"]
            interval: "P5M"
