<!-- NOTICE: Do not edit this file manually.-->
<!-- This file is automatically generated by Elastic Package -->
# Host Metrics OpenTelemetry Input

## Overview

The Host Metrics OpenTelemetry input collects metrics about the host system using the [Host Metrics
Receiver](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/receiver/hostmetricsreceiver/README.md)
of the OTel Collector.

This integration can be used to collect comprehensive system metrics from hosts including CPU, memory, disk, network, and process information.

### How it works

This integration collects metrics from various system sources using multiple scrapers. Each scraper collects a specific category of metrics:

| Scraper | Description | Supported OS |
|---------|-------------|--------------|
| cpu | CPU utilization metrics | All |
| disk | Disk I/O metrics | All |
| load | CPU load average metrics | All |
| filesystem | Filesystem utilization metrics | All |
| memory | Memory utilization metrics | All |
| network | Network interface I/O metrics | All |
| paging | Paging/swap space metrics | All |
| processes | Process count metrics | Linux |
| process | Per-process metrics | Linux, Windows |

## What data does this integration collect?

This integration collects system metrics from the host. Key metrics include:

| Metric Name | Description | Type |
|-------------|-------------|------|
| system.cpu.time | Total CPU time spent in different states | Sum |
| system.cpu.utilization | CPU utilization as a percentage | Gauge |
| system.memory.usage | Memory usage by state | Sum |
| system.memory.utilization | Memory utilization as a percentage | Gauge |
| system.disk.io | Disk bytes transferred | Sum |
| system.disk.operations | Disk operations | Sum |
| system.disk.io_time | Time spent in disk I/O | Sum |
| system.filesystem.usage | Filesystem space usage | Sum |
| system.filesystem.utilization | Filesystem utilization as a percentage | Gauge |
| system.network.io | Network bytes transferred | Sum |
| system.network.packets | Network packets transferred | Sum |
| system.network.errors | Network errors count | Sum |
| system.paging.usage | Paging usage | Sum |
| system.paging.operations | Paging operations | Sum |
| system.processes.count | Number of processes | Sum |
| system.processes.created | Total processes created | Sum |
| process.cpu.time | Process CPU time | Sum |
| process.memory.physical_usage | Process physical memory usage | Sum |
| process.memory.virtual_usage | Process virtual memory usage | Sum |
| process.disk.io | Process disk I/O | Sum |

Documents for these metrics include attributes that follow [Semantic Conventions for system metrics](https://opentelemetry.io/docs/specs/semconv/system/).

### Supported use cases

This integration can be used to:
- Monitor system resource utilization (CPU, memory, disk, network)
- Track system performance trends over time
- Set up alerts for resource thresholds
- Monitor per-process resource consumption
- Observe system health in containerized or VM environments

## How do I deploy this integration?

### Agent-based deployment

Elastic Agent must be installed. For more details, check the Elastic Agent [installation instructions](docs-content://reference/fleet/install-elastic-agents.md). You can install only one Elastic Agent per host.

Elastic Agent requires appropriate permissions to read system metrics from the host.

### Onboard / configure

This integration can be configured with the following options:

**Collection Interval**: How often to collect metrics (default: 1 minute)

**Scrapers**: Enable or disable specific metric categories:
- CPU metrics (enabled by default)
- Disk I/O metrics (enabled by default)
- Load average metrics (enabled by default)
- Filesystem metrics (enabled by default)
- Memory metrics (enabled by default)
- Network metrics (enabled by default)
- Paging metrics (enabled by default)
- Process count metrics (enabled by default, Linux only)
- Per-process metrics (disabled by default)

**Process scraper options**: When enabled, you can filter which processes to monitor using include/exclude patterns.

**Root path**: For containerized environments, specify the root path for metrics collection.

### Validation

Once configured, you can verify the integration is working by checking for documents in the metrics data stream. Look for metrics with names starting with `system.` or `process.`.

## Troubleshooting

For help with Elastic ingest tools, check [Common problems](https://www.elastic.co/docs/troubleshoot/ingest/fleet/common-problems).

### Common issues

- **Permission errors**: Ensure the Elastic Agent has sufficient permissions to read system metrics.
- **Process scraper not working on macOS**: Some scrapers have limited support on macOS when compiled without cgo.
- **Missing metrics in containers**: Use the `root_path` option to specify the host filesystem path.

## Scaling

For more information on architectures that can be used for scaling this integration, check the [Ingest Architectures](https://www.elastic.co/docs/manage-data/ingest/ingest-reference-architectures) documentation.

## Reference

### Inputs used

This package uses the [Host Metrics Receiver](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/receiver/hostmetricsreceiver/README.md) of the OTel collector.


