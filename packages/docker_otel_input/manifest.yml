format_version: 3.4.0
name: docker_otel_input
title: "Docker Stats (OpenTelemetry)"
version: 0.0.1
description: "Collect Docker container metrics using OpenTelemetry Collector"
type: integration
categories:
  - containers
  - monitoring
  - observability
  - opentelemetry
conditions:
  kibana:
    version: "^9.0.0"
  elastic:
    subscription: "basic"
policy_templates:
  - name: docker_stats
    title: Docker Stats
    description: Collect Docker container metrics using OpenTelemetry dockerstats receiver
    inputs:
      - type: otelcol
        title: Docker Stats Metrics
        description: Collect Docker container performance metrics including CPU, memory, network, and block I/O
        template_path: input.yml.hbs
        vars:
          - name: period
            type: text
            title: Collection Interval
            description: How often to collect metrics (e.g., 10s, 1m)
            default: 10s
            required: true
          - name: endpoint
            type: text
            title: Docker Endpoint
            description: Docker daemon endpoint
            default: "unix:///var/run/docker.sock"
            required: false
          - name: excluded_images
            type: text
            title: Excluded Images
            description: List of image names to exclude from metrics collection
            multi: true
            required: false
          - name: timeout
            type: text
            title: Timeout
            description: Timeout for Docker API requests
            default: 5s
            required: false
          - name: api_version
            type: text
            title: API Version
            description: Docker API version to use
            default: "1.22"
            required: false
          - name: provide_per_core_cpu_metrics
            type: bool
            title: Provide Per-Core CPU Metrics
            description: Enable per-core CPU metrics collection
            default: false
            required: false
          - name: container_labels_to_metric_labels
            type: yaml
            title: Container Labels to Metric Labels
            description: Mapping of container labels to metric labels (YAML format)
            required: false
          - name: env_vars_to_metric_labels
            type: yaml
            title: Environment Variables to Metric Labels
            description: Mapping of environment variables to metric labels (YAML format)
            required: false
owner:
  github: elastic/obs-infraobs-integrations
  type: elastic
